import{i as Ar,e as k,u as Tt,r as lt,d as I,c as rr,_ as Et,H as st,b as At}from"./AntdIcon-DoQ--mR6.js";import{r as n,k as Ft,m as It}from"./index-BejUs57K.js";import{_ as ct,I as K,W as Rt,P as zt,z as xt,R as Wt,G as jt,Z as qt,O as je,ab as vt,$ as Ut,H as mt}from"./useSize-CRxPdOae.js";const ot=()=>({height:0,opacity:0}),ht=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Vt=e=>({height:e?e.offsetHeight:0}),it=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",ba=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:ot,onEnterStart:ot,onAppearActive:ht,onEnterActive:ht,onLeaveStart:Vt,onLeaveActive:ot,onAppearEnd:it,onEnterEnd:it,onLeaveEnd:it,motionDeadline:500}},wa=(e,t,r)=>r!==void 0?r:`${e}-${t}`;var Ht=n.createContext(null),gt=[];function Qt(e,t){var r=n.useState(function(){if(!Ar())return null;var h=document.createElement("div");return h}),a=k(r,1),o=a[0],u=n.useRef(!1),s=n.useContext(Ht),v=n.useState(gt),f=k(v,2),m=f[0],M=f[1],g=s||(u.current?void 0:function(h){M(function(P){var $=[h].concat(ct(P));return $})});function S(){o.parentElement||document.body.appendChild(o),u.current=!0}function d(){var h;(h=o.parentElement)===null||h===void 0||h.removeChild(o),u.current=!1}return K(function(){return e?s?s(S):S():d(),d},[e]),K(function(){m.length&&(m.forEach(function(h){return h()}),M(gt))},[m]),[o,g]}var ut;function Bt(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=t;var a=r.style;a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll";var o,u;if(e){var s=getComputedStyle(e);a.scrollbarColor=s.scrollbarColor,a.scrollbarWidth=s.scrollbarWidth;var v=getComputedStyle(e,"::-webkit-scrollbar"),f=parseInt(v.width,10),m=parseInt(v.height,10);try{var M=f?"width: ".concat(v.width,";"):"",g=m?"height: ".concat(v.height,";"):"";Tt(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(M,`
`).concat(g,`
}`),t)}catch(h){console.error(h),o=f,u=m}}document.body.appendChild(r);var S=e&&o&&!isNaN(o)?o:r.offsetWidth-r.clientWidth,d=e&&u&&!isNaN(u)?u:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),lt(t),{width:S,height:d}}function Ca(e){return typeof document>"u"?0:((e||ut===void 0)&&(ut=Bt()),ut.width)}function Gt(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:Bt(e)}function Jt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Zt="rc-util-locker-".concat(Date.now()),yt=0;function Kt(e){var t=!!e,r=n.useState(function(){return yt+=1,"".concat(Zt,"_").concat(yt)}),a=k(r,1),o=a[0];K(function(){if(t){var u=Gt(document.body).width,s=Jt();Tt(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else lt(o);return function(){lt(o)}},[t,o])}var bt=!1;function Yt(e){return typeof e=="boolean"&&(bt=e),bt}var wt=function(t){return t===!1?!1:!Ar()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},_t=n.forwardRef(function(e,t){var r=e.open,a=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,s=u===void 0?!0:u,v=e.children,f=n.useState(r),m=k(f,2),M=m[0],g=m[1],S=M||r;n.useEffect(function(){(s||r)&&g(r)},[r,s]);var d=n.useState(function(){return wt(o)}),h=k(d,2),P=h[0],$=h[1];n.useEffect(function(){var j=wt(o);$(j??null)});var R=Qt(S&&!P),D=k(R,2),y=D[0],l=D[1],W=P??y;Kt(a&&r&&Ar()&&(W===y||W===document.body));var q=null;if(v&&Rt(v)&&t){var Q=v;q=Q.ref}var Y=zt(q,t);if(!S||!Ar()||P===void 0)return null;var te=W===!1||Yt(),A=v;return t&&(A=n.cloneElement(v,{ref:Y})),n.createElement(Ht.Provider,{value:l},te?A:Ft.createPortal(A,W))});function Xt(){var e=I({},It);return e.useId}var Ct=0,Mt=Xt();const Ot=Mt?function(t){var r=Mt();return t||r}:function(t){var r=n.useState("ssr-id"),a=k(r,2),o=a[0],u=a[1];return n.useEffect(function(){var s=Ct;Ct+=1,u("rc_unique_".concat(s))},[]),t||o},pt=e=>({animationDuration:e,animationFillMode:"both"}),ea=e=>({animationDuration:e,animationFillMode:"both"}),Ma=function(e,t,r,a){const u=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${u}${e}-enter,
      ${u}${e}-appear
    `]:Object.assign(Object.assign({},pt(a)),{animationPlayState:"paused"}),[`${u}${e}-leave`]:Object.assign(Object.assign({},ea(a)),{animationPlayState:"paused"}),[`
      ${u}${e}-enter${e}-enter-active,
      ${u}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${u}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},ra=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function ta(e){var t=e.prefixCls,r=e.align,a=e.arrow,o=e.arrowPos,u=a||{},s=u.className,v=u.content,f=o.x,m=f===void 0?0:f,M=o.y,g=M===void 0?0:M,S=n.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var h=r.points[0],P=r.points[1],$=h[0],R=h[1],D=P[0],y=P[1];$===D||!["t","b"].includes($)?d.top=g:$==="t"?d.top=0:d.bottom=0,R===y||!["l","r"].includes(R)?d.left=m:R==="l"?d.left=0:d.right=0}return n.createElement("div",{ref:S,className:rr("".concat(t,"-arrow"),s),style:d},v)}function aa(e){var t=e.prefixCls,r=e.open,a=e.zIndex,o=e.mask,u=e.motion;return o?n.createElement(xt,Et({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var v=s.className;return n.createElement("div",{style:{zIndex:a},className:rr("".concat(t,"-mask"),v)})}):null}var na=n.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),oa=n.forwardRef(function(e,t){var r=e.popup,a=e.className,o=e.prefixCls,u=e.style,s=e.target,v=e.onVisibleChanged,f=e.open,m=e.keepDom,M=e.fresh,g=e.onClick,S=e.mask,d=e.arrow,h=e.arrowPos,P=e.align,$=e.motion,R=e.maskMotion,D=e.forceRender,y=e.getPopupContainer,l=e.autoDestroy,W=e.portal,q=e.zIndex,Q=e.onMouseEnter,Y=e.onMouseLeave,te=e.onPointerEnter,A=e.ready,j=e.offsetX,fe=e.offsetY,me=e.offsetR,ie=e.offsetB,he=e.onAlign,z=e.onPrepare,H=e.stretch,w=e.targetWidth,X=e.targetHeight,L=typeof r=="function"?r():r,ue=f||m,ae=(y==null?void 0:y.length)>0,tr=n.useState(!y||!ae),qe=k(tr,2),ge=qe[0],Ue=qe[1];if(K(function(){!ge&&ae&&s&&Ue(!0)},[ge,ae,s]),!ge)return null;var ne="auto",B={left:"-1000vw",top:"-1000vh",right:ne,bottom:ne};if(A||!f){var O,le=P.points,se=P.dynamicInset||((O=P._experimental)===null||O===void 0?void 0:O.dynamicInset),Ve=se&&le[0][1]==="r",ar=se&&le[0][0]==="b";Ve?(B.right=me,B.left=ne):(B.left=j,B.right=ne),ar?(B.bottom=ie,B.top=ne):(B.top=fe,B.bottom=ne)}var F={};return H&&(H.includes("height")&&X?F.height=X:H.includes("minHeight")&&X&&(F.minHeight=X),H.includes("width")&&w?F.width=w:H.includes("minWidth")&&w&&(F.minWidth=w)),f||(F.pointerEvents="none"),n.createElement(W,{open:D||ue,getContainer:y&&function(){return y(s)},autoDestroy:l},n.createElement(aa,{prefixCls:o,open:f,zIndex:q,mask:S,motion:R}),n.createElement(Wt,{onResize:he,disabled:!f},function(Qe){return n.createElement(xt,Et({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:D,leavedClassName:"".concat(o,"-hidden")},$,{onAppearPrepare:z,onEnterPrepare:z,visible:f,onVisibleChanged:function(G){var ye;$==null||(ye=$.onVisibleChanged)===null||ye===void 0||ye.call($,G),v(G)}}),function(Se,G){var ye=Se.className,C=Se.style,Ee=rr(o,ye,a);return n.createElement("div",{ref:jt(Qe,t,G),className:Ee,style:I(I(I(I({"--arrow-x":"".concat(h.x||0,"px"),"--arrow-y":"".concat(h.y||0,"px")},B),F),C),{},{boxSizing:"border-box",zIndex:q},u),onMouseEnter:Q,onMouseLeave:Y,onPointerEnter:te,onClick:g},d&&n.createElement(ta,{prefixCls:o,arrow:d,arrowPos:h,align:P}),n.createElement(na,{cache:!f&&!M},L))})}))}),ia=n.forwardRef(function(e,t){var r=e.children,a=e.getTriggerDOMNode,o=Rt(r),u=n.useCallback(function(v){qt(t,a?a(v):v)},[a]),s=zt(u,r.ref);return o?n.cloneElement(r,{ref:s}):r}),St=n.createContext(null);function kt(e){return e?Array.isArray(e)?e:[e]:[]}function ua(e,t,r,a){return n.useMemo(function(){var o=kt(r??t),u=kt(a??t),s=new Set(o),v=new Set(u);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[s,v]},[e,t,r,a])}function la(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function sa(e,t,r,a){for(var o=r.points,u=Object.keys(e),s=0;s<u.length;s+=1){var v,f=u[s];if(la((v=e[f])===null||v===void 0?void 0:v.points,o,a))return"".concat(t,"-placement-").concat(f)}return""}function Pt(e,t,r,a){return t||(r?{motionName:"".concat(e,"-").concat(r)}:a?{motionName:a}:null)}function hr(e){return e.ownerDocument.defaultView}function dt(e){for(var t=[],r=e==null?void 0:e.parentElement,a=["hidden","scroll","clip","auto"];r;){var o=hr(r).getComputedStyle(r),u=o.overflowX,s=o.overflowY,v=o.overflow;[u,s,v].some(function(f){return a.includes(f)})&&t.push(r),r=r.parentElement}return t}function mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function fr(e){return mr(parseFloat(e),0)}function $t(e,t){var r=I({},e);return(t||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var o=hr(a).getComputedStyle(a),u=o.overflow,s=o.overflowClipMargin,v=o.borderTopWidth,f=o.borderBottomWidth,m=o.borderLeftWidth,M=o.borderRightWidth,g=a.getBoundingClientRect(),S=a.offsetHeight,d=a.clientHeight,h=a.offsetWidth,P=a.clientWidth,$=fr(v),R=fr(f),D=fr(m),y=fr(M),l=mr(Math.round(g.width/h*1e3)/1e3),W=mr(Math.round(g.height/S*1e3)/1e3),q=(h-P-D-y)*l,Q=(S-d-$-R)*W,Y=$*W,te=R*W,A=D*l,j=y*l,fe=0,me=0;if(u==="clip"){var ie=fr(s);fe=ie*l,me=ie*W}var he=g.x+A-fe,z=g.y+Y-me,H=he+g.width+2*fe-A-j-q,w=z+g.height+2*me-Y-te-Q;r.left=Math.max(r.left,he),r.top=Math.max(r.top,z),r.right=Math.min(r.right,H),r.bottom=Math.min(r.bottom,w)}}),r}function Dt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),a=r.match(/^(.*)\%$/);return a?e*(parseFloat(a[1])/100):parseFloat(r)}function Lt(e,t){var r=t||[],a=k(r,2),o=a[0],u=a[1];return[Dt(e.width,o),Dt(e.height,u)]}function Nt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function er(e,t){var r=t[0],a=t[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,a==="l"?o=e.x:a==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Te(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,o){return o===t?r[a]||"c":a}).join("")}function ca(e,t,r,a,o,u,s){var v=n.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[a]||{}}),f=k(v,2),m=f[0],M=f[1],g=n.useRef(0),S=n.useMemo(function(){return t?dt(t):[]},[t]),d=n.useRef({}),h=function(){d.current={}};e||h();var P=je(function(){if(t&&r&&e){let re=function(Me,Ie){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ee,pe=L.x+Me,vr=L.y+Ie,dr=pe+O,Hr=vr+B,et=Math.max(pe,Oe.left),rt=Math.max(vr,Oe.top),tt=Math.min(dr,Oe.right),at=Math.min(Hr,Oe.bottom);return Math.max(0,(tt-et)*(at-rt))},Wr=function(){$e=L.y+b,De=$e+B,Le=L.x+E,Ze=Le+O};var D,y,l=t,W=l.ownerDocument,q=hr(l),Q=q.getComputedStyle(l),Y=Q.width,te=Q.height,A=Q.position,j=l.style.left,fe=l.style.top,me=l.style.right,ie=l.style.bottom,he=l.style.overflow,z=I(I({},o[a]),u),H=W.createElement("div");(D=l.parentElement)===null||D===void 0||D.appendChild(H),H.style.left="".concat(l.offsetLeft,"px"),H.style.top="".concat(l.offsetTop,"px"),H.style.position=A,H.style.height="".concat(l.offsetHeight,"px"),H.style.width="".concat(l.offsetWidth,"px"),l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto",l.style.overflow="hidden";var w;if(Array.isArray(r))w={x:r[0],y:r[1],width:0,height:0};else{var X=r.getBoundingClientRect();w={x:X.x,y:X.y,width:X.width,height:X.height}}var L=l.getBoundingClientRect(),ue=W.documentElement,ae=ue.clientWidth,tr=ue.clientHeight,qe=ue.scrollWidth,ge=ue.scrollHeight,Ue=ue.scrollTop,ne=ue.scrollLeft,B=L.height,O=L.width,le=w.height,se=w.width,Ve={left:0,top:0,right:ae,bottom:tr},ar={left:-ne,top:-Ue,right:qe-ne,bottom:ge-Ue},F=z.htmlRegion,Qe="visible",Se="visibleFirst";F!=="scroll"&&F!==Se&&(F=Qe);var G=F===Se,ye=$t(ar,S),C=$t(Ve,S),Ee=F===Qe?C:ye,p=G?C:Ee;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var gr=l.getBoundingClientRect();l.style.left=j,l.style.top=fe,l.style.right=me,l.style.bottom=ie,l.style.overflow=he,(y=l.parentElement)===null||y===void 0||y.removeChild(H);var Re=mr(Math.round(O/parseFloat(Y)*1e3)/1e3),ze=mr(Math.round(B/parseFloat(te)*1e3)/1e3);if(Re===0||ze===0||vt(r)&&!Ut(r))return;var yr=z.offset,U=z.targetOffset,Fr=Lt(L,yr),br=k(Fr,2),oe=br[0],ee=br[1],ce=Lt(w,U),wr=k(ce,2),Cr=wr[0],Ir=wr[1];w.x-=Cr,w.y-=Ir;var Ge=z.points||[],J=k(Ge,2),ke=J[0],jr=J[1],be=Nt(jr),Z=Nt(ke),Mr=er(w,be),nr=er(L,Z),Pe=I({},z),E=Mr.x-nr.x+oe,b=Mr.y-nr.y+ee,ve=re(E,b),de=re(E,b,C),xe=er(w,["t","l"]),or=er(L,["t","l"]),ir=er(w,["b","r"]),ur=er(L,["b","r"]),V=z.overflow||{},qr=V.adjustX,Sr=V.adjustY,Je=V.shiftX,lr=V.shiftY,kr=function(Ie){return typeof Ie=="boolean"?Ie:Ie>=0},$e,De,Le,Ze;Wr();var sr=kr(Sr),cr=Z[0]===be[0];if(sr&&Z[0]==="t"&&(De>p.bottom||d.current.bt)){var We=b;cr?We-=B-le:We=xe.y-ur.y-ee;var He=re(E,We),Ur=re(E,We,C);He>ve||He===ve&&(!G||Ur>=de)?(d.current.bt=!0,b=We,ee=-ee,Pe.points=[Te(Z,0),Te(be,0)]):d.current.bt=!1}if(sr&&Z[0]==="b"&&($e<p.top||d.current.tb)){var _=b;cr?_+=B-le:_=ir.y-or.y-ee;var Pr=re(E,_),Vr=re(E,_,C);Pr>ve||Pr===ve&&(!G||Vr>=de)?(d.current.tb=!0,b=_,ee=-ee,Pe.points=[Te(Z,0),Te(be,0)]):d.current.tb=!1}var $r=kr(qr),Dr=Z[1]===be[1];if($r&&Z[1]==="l"&&(Ze>p.right||d.current.rl)){var Be=E;Dr?Be-=O-se:Be=xe.x-ur.x-oe;var Lr=re(Be,b),Qr=re(Be,b,C);Lr>ve||Lr===ve&&(!G||Qr>=de)?(d.current.rl=!0,E=Be,oe=-oe,Pe.points=[Te(Z,1),Te(be,1)]):d.current.rl=!1}if($r&&Z[1]==="r"&&(Le<p.left||d.current.lr)){var _e=E;Dr?_e+=O-se:_e=ir.x-or.x-oe;var Nr=re(_e,b),Ke=re(_e,b,C);Nr>ve||Nr===ve&&(!G||Ke>=de)?(d.current.lr=!0,E=_e,oe=-oe,Pe.points=[Te(Z,1),Te(be,1)]):d.current.lr=!1}Wr();var we=Je===!0?0:Je;typeof we=="number"&&(Le<C.left&&(E-=Le-C.left-oe,w.x+se<C.left+we&&(E+=w.x-C.left+se-we)),Ze>C.right&&(E-=Ze-C.right-oe,w.x>C.right-we&&(E+=w.x-C.right+we)));var Ae=lr===!0?0:lr;typeof Ae=="number"&&($e<C.top&&(b-=$e-C.top-ee,w.y+le<C.top+Ae&&(b+=w.y-C.top+le-Ae)),De>C.bottom&&(b-=De-C.bottom-ee,w.y>C.bottom-Ae&&(b+=w.y-C.bottom+Ae)));var Ye=L.x+E,Xe=Ye+O,Ce=L.y+b,Tr=Ce+B,Fe=w.x,Ne=Fe+se,Er=w.y,Gr=Er+le,Jr=Math.max(Ye,Fe),Rr=Math.min(Xe,Ne),Zr=(Jr+Rr)/2,Kr=Zr-Ye,Yr=Math.max(Ce,Er),zr=Math.min(Tr,Gr),Xr=(Yr+zr)/2,Or=Xr-Ce;s==null||s(t,Pe);var xr=gr.right-L.x-(E+L.width),pr=gr.bottom-L.y-(b+L.height);M({ready:!0,offsetX:E/Re,offsetY:b/ze,offsetR:xr/Re,offsetB:pr/ze,arrowX:Kr/Re,arrowY:Or/ze,scaleX:Re,scaleY:ze,align:Pe})}}),$=function(){g.current+=1;var y=g.current;Promise.resolve().then(function(){g.current===y&&P()})},R=function(){M(function(y){return I(I({},y),{},{ready:!1})})};return K(R,[a]),K(function(){e||R()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,$]}function va(e,t,r,a,o){K(function(){if(e&&t&&r){let g=function(){a(),o()};var u=t,s=r,v=dt(u),f=dt(s),m=hr(s),M=new Set([m].concat(ct(v),ct(f)));return M.forEach(function(S){S.addEventListener("scroll",g,{passive:!0})}),m.addEventListener("resize",g,{passive:!0}),a(),function(){M.forEach(function(S){S.removeEventListener("scroll",g),m.removeEventListener("resize",g)})}}},[e,t,r])}function da(e,t,r,a,o,u,s,v){var f=n.useRef(e),m=n.useRef(!1);f.current!==e&&(m.current=!0,f.current=e),n.useEffect(function(){var M=mt(function(){m.current=!1});return function(){mt.cancel(M)}},[e]),n.useEffect(function(){if(t&&a&&(!o||u)){var M=function(){var q=!1,Q=function(A){var j=A.target;q=s(j)},Y=function(A){var j=A.target;!m.current&&f.current&&!q&&!s(j)&&v(!1)};return[Q,Y]},g=M(),S=k(g,2),d=S[0],h=S[1],P=M(),$=k(P,2),R=$[0],D=$[1],y=hr(a);y.addEventListener("mousedown",d,!0),y.addEventListener("click",h,!0),y.addEventListener("contextmenu",h,!0);var l=st(r);return l&&(l.addEventListener("mousedown",R,!0),l.addEventListener("click",D,!0),l.addEventListener("contextmenu",D,!0)),function(){y.removeEventListener("mousedown",d,!0),y.removeEventListener("click",h,!0),y.removeEventListener("contextmenu",h,!0),l&&(l.removeEventListener("mousedown",R,!0),l.removeEventListener("click",D,!0),l.removeEventListener("contextmenu",D,!0))}}},[t,r,a,o,u])}var fa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ma(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t,t=n.forwardRef(function(r,a){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,s=r.children,v=r.action,f=v===void 0?"hover":v,m=r.showAction,M=r.hideAction,g=r.popupVisible,S=r.defaultPopupVisible,d=r.onPopupVisibleChange,h=r.afterPopupVisibleChange,P=r.mouseEnterDelay,$=r.mouseLeaveDelay,R=$===void 0?.1:$,D=r.focusDelay,y=r.blurDelay,l=r.mask,W=r.maskClosable,q=W===void 0?!0:W,Q=r.getPopupContainer,Y=r.forceRender,te=r.autoDestroy,A=r.destroyPopupOnHide,j=r.popup,fe=r.popupClassName,me=r.popupStyle,ie=r.popupPlacement,he=r.builtinPlacements,z=he===void 0?{}:he,H=r.popupAlign,w=r.zIndex,X=r.stretch,L=r.getPopupClassNameFromAlign,ue=r.fresh,ae=r.alignPoint,tr=r.onPopupClick,qe=r.onPopupAlign,ge=r.arrow,Ue=r.popupMotion,ne=r.maskMotion,B=r.popupTransitionName,O=r.popupAnimation,le=r.maskTransitionName,se=r.maskAnimation,Ve=r.className,ar=r.getTriggerDOMNode,F=At(r,fa),Qe=te||A||!1,Se=n.useState(!1),G=k(Se,2),ye=G[0],C=G[1];K(function(){C(ra())},[]);var Ee=n.useRef({}),p=n.useContext(St),gr=n.useMemo(function(){return{registerSubPopup:function(c,N){Ee.current[c]=N,p==null||p.registerSubPopup(c,N)}}},[p]),Re=Ot(),ze=n.useState(null),yr=k(ze,2),U=yr[0],Fr=yr[1],br=je(function(i){vt(i)&&U!==i&&Fr(i),p==null||p.registerSubPopup(Re,i)}),oe=n.useState(null),ee=k(oe,2),ce=ee[0],wr=ee[1],Cr=n.useRef(null),Ir=je(function(i){vt(i)&&ce!==i&&(wr(i),Cr.current=i)}),Ge=n.Children.only(s),J=(Ge==null?void 0:Ge.props)||{},ke={},jr=je(function(i){var c,N,x=ce;return(x==null?void 0:x.contains(i))||((c=st(x))===null||c===void 0?void 0:c.host)===i||i===x||(U==null?void 0:U.contains(i))||((N=st(U))===null||N===void 0?void 0:N.host)===i||i===U||Object.values(Ee.current).some(function(T){return(T==null?void 0:T.contains(i))||i===T})}),be=Pt(u,Ue,O,B),Z=Pt(u,ne,se,le),Mr=n.useState(S||!1),nr=k(Mr,2),Pe=nr[0],E=nr[1],b=g??Pe,ve=je(function(i){g===void 0&&E(i)});K(function(){E(g||!1)},[g]);var de=n.useRef(b);de.current=b;var xe=n.useRef([]);xe.current=[];var or=je(function(i){var c;ve(i),((c=xe.current[xe.current.length-1])!==null&&c!==void 0?c:b)!==i&&(xe.current.push(i),d==null||d(i))}),ir=n.useRef(),ur=function(){clearTimeout(ir.current)},V=function(c){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),N===0?or(c):ir.current=setTimeout(function(){or(c)},N*1e3)};n.useEffect(function(){return ur},[]);var qr=n.useState(!1),Sr=k(qr,2),Je=Sr[0],lr=Sr[1];K(function(i){(!i||b)&&lr(!0)},[b]);var kr=n.useState(null),$e=k(kr,2),De=$e[0],Le=$e[1],Ze=n.useState([0,0]),sr=k(Ze,2),cr=sr[0],We=sr[1],He=function(c){We([c.clientX,c.clientY])},Ur=ca(b,U,ae?cr:ce,ie,z,H,qe),_=k(Ur,11),Pr=_[0],Vr=_[1],$r=_[2],Dr=_[3],Be=_[4],Lr=_[5],Qr=_[6],_e=_[7],Nr=_[8],Ke=_[9],we=_[10],Ae=ua(ye,f,m,M),Ye=k(Ae,2),Xe=Ye[0],Ce=Ye[1],Tr=Xe.has("click"),Fe=Ce.has("click")||Ce.has("contextMenu"),Ne=je(function(){Je||we()}),Er=function(){de.current&&ae&&Fe&&V(!1)};va(b,ce,U,Ne,Er),K(function(){Ne()},[cr,ie]),K(function(){b&&!(z!=null&&z[ie])&&Ne()},[JSON.stringify(H)]);var Gr=n.useMemo(function(){var i=sa(z,u,Ke,ae);return rr(i,L==null?void 0:L(Ke))},[Ke,L,z,u,ae]);n.useImperativeHandle(a,function(){return{nativeElement:Cr.current,forceAlign:Ne}});var Jr=n.useState(0),Rr=k(Jr,2),Zr=Rr[0],Kr=Rr[1],Yr=n.useState(0),zr=k(Yr,2),Xr=zr[0],Or=zr[1],xr=function(){if(X&&ce){var c=ce.getBoundingClientRect();Kr(c.width),Or(c.height)}},pr=function(){xr(),Ne()},re=function(c){lr(!1),we(),h==null||h(c)},Wr=function(){return new Promise(function(c){xr(),Le(function(){return c})})};K(function(){De&&(we(),De(),Le(null))},[De]);function Me(i,c,N,x){ke[i]=function(T){var Br;x==null||x(T),V(c,N);for(var nt=arguments.length,ft=new Array(nt>1?nt-1:0),_r=1;_r<nt;_r++)ft[_r-1]=arguments[_r];(Br=J[i])===null||Br===void 0||Br.call.apply(Br,[J,T].concat(ft))}}(Tr||Fe)&&(ke.onClick=function(i){var c;de.current&&Fe?V(!1):!de.current&&Tr&&(He(i),V(!0));for(var N=arguments.length,x=new Array(N>1?N-1:0),T=1;T<N;T++)x[T-1]=arguments[T];(c=J.onClick)===null||c===void 0||c.call.apply(c,[J,i].concat(x))}),da(b,Fe,ce,U,l,q,jr,V);var Ie=Xe.has("hover"),Oe=Ce.has("hover"),pe,vr;Ie&&(Me("onMouseEnter",!0,P,function(i){He(i)}),Me("onPointerEnter",!0,P,function(i){He(i)}),pe=function(c){(b||Je)&&U!==null&&U!==void 0&&U.contains(c.target)&&V(!0,P)},ae&&(ke.onMouseMove=function(i){var c;(c=J.onMouseMove)===null||c===void 0||c.call(J,i)})),Oe&&(Me("onMouseLeave",!1,R),Me("onPointerLeave",!1,R),vr=function(){V(!1,R)}),Xe.has("focus")&&Me("onFocus",!0,D),Ce.has("focus")&&Me("onBlur",!1,y),Xe.has("contextMenu")&&(ke.onContextMenu=function(i){var c;de.current&&Ce.has("contextMenu")?V(!1):(He(i),V(!0)),i.preventDefault();for(var N=arguments.length,x=new Array(N>1?N-1:0),T=1;T<N;T++)x[T-1]=arguments[T];(c=J.onContextMenu)===null||c===void 0||c.call.apply(c,[J,i].concat(x))}),Ve&&(ke.className=rr(J.className,Ve));var dr=I(I({},J),ke),Hr={},et=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];et.forEach(function(i){F[i]&&(Hr[i]=function(){for(var c,N=arguments.length,x=new Array(N),T=0;T<N;T++)x[T]=arguments[T];(c=dr[i])===null||c===void 0||c.call.apply(c,[dr].concat(x)),F[i].apply(F,x)})});var rt=n.cloneElement(Ge,I(I({},dr),Hr)),tt={x:Lr,y:Qr},at=ge?I({},ge!==!0?ge:{}):null;return n.createElement(n.Fragment,null,n.createElement(Wt,{disabled:!b,ref:Ir,onResize:pr},n.createElement(ia,{getTriggerDOMNode:ar},rt)),n.createElement(St.Provider,{value:gr},n.createElement(oa,{portal:e,ref:br,prefixCls:u,popup:j,className:rr(fe,Gr),style:me,target:ce,onMouseEnter:pe,onMouseLeave:vr,onPointerEnter:pe,zIndex:w,open:b,keepDom:Je,fresh:ue,onClick:tr,mask:l,motion:be,maskMotion:Z,onVisibleChanged:re,onPrepare:Wr,forceRender:Y,autoDestroy:Qe,getPopupContainer:Q,align:Ke,arrow:at,arrowPos:tt,ready:Pr,offsetX:Vr,offsetY:$r,offsetR:Dr,offsetB:Be,onAlign:Ne,stretch:X,targetWidth:Zr/_e,targetHeight:Xr/Nr})))});return t}const Sa=ma(_t);export{_t as P,Sa as T,ra as a,Ca as b,Gt as c,Ma as d,wa as g,ba as i,Ot as u};
