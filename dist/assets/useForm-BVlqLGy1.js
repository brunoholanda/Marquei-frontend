import{m as st}from"./context-CsxF_MV5.js";import{r as Z}from"./index-BjWOWftK.js";const tt=t=>typeof t=="object"&&t!=null&&t.nodeType===1,et=(t,n)=>(!n||t!=="hidden")&&t!=="visible"&&t!=="clip",$=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return et(o.overflowY,n)||et(o.overflowX,n)||(a=>{const r=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!r&&(r.clientHeight<a.scrollHeight||r.clientWidth<a.scrollWidth)})(t)}return!1},x=(t,n,o,a,r,e,i,s)=>e<t&&i>n||e>t&&i<n?0:e<=t&&s<=o||i>=n&&s>=o?e-t-a:i>n&&s<o||e<t&&s>o?i-n+r:0,at=t=>{const n=t.parentElement;return n??(t.getRootNode().host||null)},nt=(t,n)=>{var o,a,r,e;if(typeof document>"u")return[];const{scrollMode:i,block:s,inline:c,boundary:L,skipOverflowHiddenElements:lt}=n,it=typeof L=="function"?L:m=>m!==L;if(!tt(t))throw new TypeError("Invalid target");const q=document.scrollingElement||document.documentElement,W=[];let d=t;for(;tt(d)&&it(d);){if(d=at(d),d===q){W.push(d);break}d!=null&&d===document.body&&$(d)&&!$(document.documentElement)||d!=null&&$(d,lt)&&W.push(d)}const p=(a=(o=window.visualViewport)==null?void 0:o.width)!=null?a:innerWidth,b=(e=(r=window.visualViewport)==null?void 0:r.height)!=null?e:innerHeight,{scrollX:w,scrollY:y}=window,{height:v,width:M,top:F,right:O,bottom:P,left:I}=t.getBoundingClientRect(),{top:z,right:G,bottom:J,left:K}=(m=>{const l=window.getComputedStyle(m);return{top:parseFloat(l.scrollMarginTop)||0,right:parseFloat(l.scrollMarginRight)||0,bottom:parseFloat(l.scrollMarginBottom)||0,left:parseFloat(l.scrollMarginLeft)||0}})(t);let u=s==="start"||s==="nearest"?F-z:s==="end"?P+J:F+v/2-z+J,f=c==="center"?I+M/2-K+G:c==="end"?O+G:I-K;const V=[];for(let m=0;m<W.length;m++){const l=W[m],{height:N,width:H,top:R,right:A,bottom:D,left:_}=l.getBoundingClientRect();if(i==="if-needed"&&F>=0&&I>=0&&P<=b&&O<=p&&F>=R&&P<=D&&I>=_&&O<=A)return V;const E=getComputedStyle(l),T=parseInt(E.borderLeftWidth,10),j=parseInt(E.borderTopWidth,10),k=parseInt(E.borderRightWidth,10),B=parseInt(E.borderBottomWidth,10);let h=0,g=0;const C="offsetWidth"in l?l.offsetWidth-l.clientWidth-T-k:0,S="offsetHeight"in l?l.offsetHeight-l.clientHeight-j-B:0,X="offsetWidth"in l?l.offsetWidth===0?0:H/l.offsetWidth:0,Y="offsetHeight"in l?l.offsetHeight===0?0:N/l.offsetHeight:0;if(q===l)h=s==="start"?u:s==="end"?u-b:s==="nearest"?x(y,y+b,b,j,B,y+u,y+u+v,v):u-b/2,g=c==="start"?f:c==="center"?f-p/2:c==="end"?f-p:x(w,w+p,p,T,k,w+f,w+f+M,M),h=Math.max(0,h+y),g=Math.max(0,g+w);else{h=s==="start"?u-R-j:s==="end"?u-D+B+S:s==="nearest"?x(R,D,N,j,B+S,u,u+v,v):u-(R+N/2)+S/2,g=c==="start"?f-_-T:c==="center"?f-(_+H/2)+C/2:c==="end"?f-A+k+C:x(_,A,H,T,k+C,f,f+M,M);const{scrollLeft:Q,scrollTop:U}=l;h=Y===0?0:Math.max(0,Math.min(U+h/Y,l.scrollHeight-N/Y+S)),g=X===0?0:Math.max(0,Math.min(Q+g/X,l.scrollWidth-H/X+C)),u+=U-h,f+=Q-g}V.push({el:l,top:h,left:g})}return V},ct=t=>t===!1?{block:"end",inline:"nearest"}:(n=>n===Object(n)&&Object.keys(n).length!==0)(t)?t:{block:"start",inline:"nearest"};function dt(t,n){if(!t.isConnected||!(r=>{let e=r;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const o=(r=>{const e=window.getComputedStyle(r);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if((r=>typeof r=="object"&&typeof r.behavior=="function")(n))return n.behavior(nt(t,n));const a=typeof n=="boolean"||n==null?void 0:n.behavior;for(const{el:r,top:e,left:i}of nt(t,ct(n))){const s=e-o.top+o.bottom,c=i-o.left+o.right;r.scroll({top:s,left:c,behavior:a})}}const ut=["parentNode"],ft="form_item";function rt(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function ht(t,n){if(!t.length)return;const o=t.join("_");return n?`${n}_${o}`:ut.includes(o)?`${ft}_${o}`:o}function pt(t,n,o,a,r,e){let i=a;return e!==void 0?i=e:o.validating?i="validating":t.length?i="error":n.length?i="warning":(o.touched||r&&o.validated)&&(i="success"),i}function ot(t){return rt(t).join("_")}function bt(t){const[n]=st(),o=Z.useRef({}),a=Z.useMemo(()=>t??Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:r=>e=>{const i=ot(r);e?o.current[i]=e:delete o.current[i]}},scrollToField:function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=rt(r),s=ht(i,a.__INTERNAL__.name),c=s?document.getElementById(s):null;c&&dt(c,Object.assign({scrollMode:"if-needed",block:"nearest"},e))},getFieldInstance:r=>{const e=ot(r);return o.current[e]}}),[t,n]);return[a]}export{ht as a,pt as g,rt as t,bt as u};
