import{r as n,R as pe,j as a,d as at,B as Ke}from"./index-kPzU05gx.js";import{a as ie}from"./api-p_bhudRe.js";import{e as z,d as _,f as te,c as oe,b as je,_ as U,h as rt,A as Me}from"./AntdIcon-rDAQJIgd.js";import{B as ue}from"./context-Cu6KQni0.js";import{u as It}from"./useForm-sTvtv3Iy.js";import{s as it}from"./styled-components.browser.esm-BWH_c5t_.js";import{g as st,a as ye,b as jt,T as He}from"./Table-B0u-CeGd.js";import{D as Mt,g as Rt,i as Et,M as We}from"./index-DmsyNvo6.js";import{F as Se}from"./index-COTnBvfG.js";import{E as kt,I as be}from"./index-DdU0LtvV.js";import{S as se}from"./index-CDd_3z3j.js";import{s as Le}from"./index-DkzRl__G.js";import{W as lt}from"./WhatsAppOutlined-DaG4geL-.js";import{D as ct}from"./Styles-CGctwYhX.js";import{H as Ot,J as Pt,A as _t,_ as Tt,E as Xe,g as Nt,m as qe,T as he,z as Lt,u as ut,C as dt,O as mt,F as Je}from"./useSize-Dir-JjEK.js";import{K as Ze,C as $t}from"./KeyCode-Bp2GxRS5.js";import{P as At,g as $e}from"./index-DvbXQ1GL.js";import{u as ft}from"./render-CJmks47J.js";import{b as zt,R as Dt}from"./index-qm-UxHX_.js";import{S as Qe}from"./SwapOutlined-BTQ3O-2B.js";import{i as Yt,T as vt}from"./index-DSAf5tNC.js";import{E as gt,C as Ft}from"./ExclamationCircleOutlined-7uwGBhRF.js";import{C as Xt}from"./ClockCircleOutlined---JEIzSM.js";import{T as et}from"./index-DbV3c2Ud.js";import"./Serializer-CQbcCsmu.js";import"./PurePanel-DZZoC6Qu.js";import"./index-BxaDw8tE.js";import"./Dropdown-BnNsehg0.js";import"./Overflow-DH1nb5VS.js";import"./EllipsisOutlined-CT_kym8T.js";import"./useForceUpdate-B--ZqLvt.js";import"./responsiveObserver-BuWZJpCK.js";import"./useLocale-D_rXO8QB.js";import"./index-C_g5XK6A.js";import"./SearchOutlined-BKygTbfa.js";import"./ExclamationCircleFilled-C5haNHtp.js";import"./InfoCircleFilled-aimHxtz3.js";import"./row-BdR9_GnZ.js";import"./CheckOutlined-CJXAI-D_.js";import"./context-Cq6TeAM8.js";import"./index-BUWDoS_L.js";import"./CalendarOutlined-FfBpZXtG.js";import"./index-Bg0REs51.js";import"./PlusOutlined-CtSp6DS-.js";var Ve=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],Pe=n.createContext(null),tt=0;function Zt(t,e){var o=n.useState(function(){return tt+=1,String(tt)}),r=z(o,1),i=r[0],l=n.useContext(Pe),c={data:e,canPreview:t};return n.useEffect(function(){if(l)return l.register(i,c)},[]),n.useEffect(function(){l&&l.register(i,c)},[t,e]),i}function Vt(t){return new Promise(function(e){var o=document.createElement("img");o.onerror=function(){return e(!1)},o.onload=function(){return e(!0)},o.src=t})}function pt(t){var e=t.src,o=t.isCustomPlaceholder,r=t.fallback,i=n.useState(o?"loading":"normal"),l=z(i,2),c=l[0],f=l[1],m=n.useRef(!1),p=c==="error";n.useEffect(function(){var u=!0;return Vt(e).then(function(g){!g&&u&&f("error")}),function(){u=!1}},[e]),n.useEffect(function(){o&&!m.current?f("loading"):p&&f("normal")},[e]);var C=function(){f("normal")},v=function(g){m.current=!1,c==="loading"&&g!==null&&g!==void 0&&g.complete&&(g.naturalWidth||g.naturalHeight)&&(m.current=!0,C())},y=p&&r?{src:r}:{onLoad:C,src:e};return[v,y,c]}var Ne={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Bt(t,e,o,r){var i=n.useRef(null),l=n.useRef([]),c=n.useState(Ne),f=z(c,2),m=f[0],p=f[1],C=function(g){p(Ne),r&&!Ot(Ne,m)&&r({transform:Ne,action:g})},v=function(g,s){i.current===null&&(l.current=[],i.current=Pt(function(){p(function(d){var x=d;return l.current.forEach(function(E){x=_(_({},x),E)}),i.current=null,r==null||r({transform:x,action:s}),x})})),l.current.push(_(_({},m),g))},y=function(g,s,d,x,E){var T=t.current,R=T.width,h=T.height,M=T.offsetWidth,S=T.offsetHeight,w=T.offsetLeft,I=T.offsetTop,j=g,b=m.scale*g;b>o?(b=o,j=o/m.scale):b<e&&(b=E?b:e,j=b/m.scale);var O=d??innerWidth/2,A=x??innerHeight/2,N=j-1,D=N*R*.5,X=N*h*.5,B=N*(O-m.x-w),Y=N*(A-m.y-I),H=m.x-(B-D),W=m.y-(Y-X);if(g<1&&b===1){var K=M*b,q=S*b,ne=st(),le=ne.width,F=ne.height;K<=le&&q<=F&&(H=0,W=0)}v({x:H,y:W,scale:b},s)};return{transform:m,resetTransform:C,updateTransform:v,dispatchZoomChange:y}}function ot(t,e,o,r){var i=e+o,l=(o-r)/2;if(o>r){if(e>0)return te({},t,l);if(e<0&&i<r)return te({},t,-l)}else if(e<0||i>r)return te({},t,e<0?l:-l);return{}}function ht(t,e,o,r){var i=st(),l=i.width,c=i.height,f=null;return t<=l&&e<=c?f={x:0,y:0}:(t>l||e>c)&&(f=_(_({},ot("x",o,t,l)),ot("y",r,e,c))),f}var Ie=1,Ht=1;function Wt(t,e,o,r,i,l,c){var f=i.rotate,m=i.scale,p=i.x,C=i.y,v=n.useState(!1),y=z(v,2),u=y[0],g=y[1],s=n.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),d=function(h){!e||h.button!==0||(h.preventDefault(),h.stopPropagation(),s.current={diffX:h.pageX-p,diffY:h.pageY-C,transformX:p,transformY:C},g(!0))},x=function(h){o&&u&&l({x:h.pageX-s.current.diffX,y:h.pageY-s.current.diffY},"move")},E=function(){if(o&&u){g(!1);var h=s.current,M=h.transformX,S=h.transformY,w=p!==M&&C!==S;if(!w)return;var I=t.current.offsetWidth*m,j=t.current.offsetHeight*m,b=t.current.getBoundingClientRect(),O=b.left,A=b.top,N=f%180!==0,D=ht(N?j:I,N?I:j,O,A);D&&l(_({},D),"dragRebound")}},T=function(h){if(!(!o||h.deltaY==0)){var M=Math.abs(h.deltaY/100),S=Math.min(M,Ht),w=Ie+S*r;h.deltaY>0&&(w=Ie/w),c(w,"wheel",h.clientX,h.clientY)}};return n.useEffect(function(){var R,h,M,S;if(e){M=ye(window,"mouseup",E,!1),S=ye(window,"mousemove",x,!1);try{window.top!==window.self&&(R=ye(window.top,"mouseup",E,!1),h=ye(window.top,"mousemove",x,!1))}catch{}}return function(){var w,I,j,b;(w=M)===null||w===void 0||w.remove(),(I=S)===null||I===void 0||I.remove(),(j=R)===null||j===void 0||j.remove(),(b=h)===null||b===void 0||b.remove()}},[o,u,p,C,f,e]),{isMoving:u,onMouseDown:d,onMouseMove:x,onMouseUp:E,onWheel:T}}function Ae(t,e){var o=t.x-e.x,r=t.y-e.y;return Math.hypot(o,r)}function Gt(t,e,o,r){var i=Ae(t,o),l=Ae(e,r);if(i===0&&l===0)return[t.x,t.y];var c=i/(i+l),f=t.x+c*(e.x-t.x),m=t.y+c*(e.y-t.y);return[f,m]}function Ut(t,e,o,r,i,l,c){var f=i.rotate,m=i.scale,p=i.x,C=i.y,v=n.useState(!1),y=z(v,2),u=y[0],g=y[1],s=n.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),d=function(h){s.current=_(_({},s.current),h)},x=function(h){if(e){h.stopPropagation(),g(!0);var M=h.touches,S=M===void 0?[]:M;S.length>1?d({point1:{x:S[0].clientX,y:S[0].clientY},point2:{x:S[1].clientX,y:S[1].clientY},eventType:"touchZoom"}):d({point1:{x:S[0].clientX-p,y:S[0].clientY-C},eventType:"move"})}},E=function(h){var M=h.touches,S=M===void 0?[]:M,w=s.current,I=w.point1,j=w.point2,b=w.eventType;if(S.length>1&&b==="touchZoom"){var O={x:S[0].clientX,y:S[0].clientY},A={x:S[1].clientX,y:S[1].clientY},N=Gt(I,j,O,A),D=z(N,2),X=D[0],B=D[1],Y=Ae(O,A)/Ae(I,j);c(Y,"touchZoom",X,B,!0),d({point1:O,point2:A,eventType:"touchZoom"})}else b==="move"&&(l({x:S[0].clientX-I.x,y:S[0].clientY-I.y},"move"),d({eventType:"move"}))},T=function(){if(o){if(u&&g(!1),d({eventType:"none"}),r>m)return l({x:0,y:0,scale:r},"touchZoom");var h=t.current.offsetWidth*m,M=t.current.offsetHeight*m,S=t.current.getBoundingClientRect(),w=S.left,I=S.top,j=f%180!==0,b=ht(j?M:h,j?h:M,w,I);b&&l(_({},b),"dragRebound")}};return n.useEffect(function(){var R;return o&&e&&(R=ye(window,"touchmove",function(h){return h.preventDefault()},{passive:!1})),function(){var h;(h=R)===null||h===void 0||h.remove()}},[o,e]),{isTouching:u,onTouchStart:x,onTouchMove:E,onTouchEnd:T}}var Kt=function(e){var o=e.visible,r=e.maskTransitionName,i=e.getContainer,l=e.prefixCls,c=e.rootClassName,f=e.icons,m=e.countRender,p=e.showSwitch,C=e.showProgress,v=e.current,y=e.transform,u=e.count,g=e.scale,s=e.minScale,d=e.maxScale,x=e.closeIcon,E=e.onSwitchLeft,T=e.onSwitchRight,R=e.onClose,h=e.onZoomIn,M=e.onZoomOut,S=e.onRotateRight,w=e.onRotateLeft,I=e.onFlipX,j=e.onFlipY,b=e.toolbarRender,O=e.zIndex,A=n.useContext(Pe),N=f.rotateLeft,D=f.rotateRight,X=f.zoomIn,B=f.zoomOut,Y=f.close,H=f.left,W=f.right,K=f.flipX,q=f.flipY,ne="".concat(l,"-operations-operation");n.useEffect(function(){var P=function(k){k.keyCode===Ze.ESC&&R()};return o&&window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}},[o]);var le=[{icon:q,onClick:j,type:"flipY"},{icon:K,onClick:I,type:"flipX"},{icon:N,onClick:w,type:"rotateLeft"},{icon:D,onClick:S,type:"rotateRight"},{icon:B,onClick:M,type:"zoomOut",disabled:g<=s},{icon:X,onClick:h,type:"zoomIn",disabled:g===d}],F=le.map(function(P){var $,k=P.icon,ee=P.onClick,Z=P.type,V=P.disabled;return n.createElement("div",{className:oe(ne,($={},te($,"".concat(l,"-operations-operation-").concat(Z),!0),te($,"".concat(l,"-operations-operation-disabled"),!!V),$)),onClick:ee,key:Z},k)}),G=n.createElement("div",{className:"".concat(l,"-operations")},F);return n.createElement(_t,{visible:o,motionName:r},function(P){var $=P.className,k=P.style;return n.createElement(At,{open:!0,getContainer:i??document.body},n.createElement("div",{className:oe("".concat(l,"-operations-wrapper"),$,c),style:_(_({},k),{},{zIndex:O})},x===null?null:n.createElement("button",{className:"".concat(l,"-close"),onClick:R},x||Y),p&&n.createElement(n.Fragment,null,n.createElement("div",{className:oe("".concat(l,"-switch-left"),te({},"".concat(l,"-switch-left-disabled"),v===0)),onClick:E},H),n.createElement("div",{className:oe("".concat(l,"-switch-right"),te({},"".concat(l,"-switch-right-disabled"),v===u-1)),onClick:T},W)),n.createElement("div",{className:"".concat(l,"-footer")},C&&n.createElement("div",{className:"".concat(l,"-progress")},m?m(v+1,u):"".concat(v+1," / ").concat(u)),b?b(G,_({icons:{flipYIcon:F[0],flipXIcon:F[1],rotateLeftIcon:F[2],rotateRightIcon:F[3],zoomOutIcon:F[4],zoomInIcon:F[5]},actions:{onFlipY:j,onFlipX:I,onRotateLeft:w,onRotateRight:S,onZoomOut:M,onZoomIn:h},transform:y},A?{current:v,total:u}:{})):G)))})},qt=["fallback","src","imgRef"],Jt=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Qt=function(e){var o=e.fallback,r=e.src,i=e.imgRef,l=je(e,qt),c=pt({src:r,fallback:o}),f=z(c,2),m=f[0],p=f[1];return pe.createElement("img",U({ref:function(v){i.current=v,m(v)}},l,p))},Ct=function(e){var o=e.prefixCls,r=e.src,i=e.alt,l=e.fallback,c=e.movable,f=c===void 0?!0:c,m=e.onClose,p=e.visible,C=e.icons,v=C===void 0?{}:C,y=e.rootClassName,u=e.closeIcon,g=e.getContainer,s=e.current,d=s===void 0?0:s,x=e.count,E=x===void 0?1:x,T=e.countRender,R=e.scaleStep,h=R===void 0?.5:R,M=e.minScale,S=M===void 0?1:M,w=e.maxScale,I=w===void 0?50:w,j=e.transitionName,b=j===void 0?"zoom":j,O=e.maskTransitionName,A=O===void 0?"fade":O,N=e.imageRender,D=e.imgCommonProps,X=e.toolbarRender,B=e.onTransform,Y=e.onChange,H=je(e,Jt),W=n.useRef(),K=n.useContext(Pe),q=K&&E>1,ne=K&&E>=1,le=n.useState(!0),F=z(le,2),G=F[0],P=F[1],$=Bt(W,S,I,B),k=$.transform,ee=$.resetTransform,Z=$.updateTransform,V=$.dispatchZoomChange,de=Wt(W,f,p,h,k,Z,V),Re=de.isMoving,Ce=de.onMouseDown,Ee=de.onWheel,J=Ut(W,f,p,S,k,Z,V),ae=J.isTouching,re=J.onTouchStart,me=J.onTouchMove,ce=J.onTouchEnd,ke=k.rotate,we=k.scale,xe=oe(te({},"".concat(o,"-moving"),Re));n.useEffect(function(){G||P(!0)},[G]);var De=function(){ee("close")},Ye=function(){V(Ie+h,"zoomIn")},Fe=function(){V(Ie/(Ie+h),"zoomOut")},fe=function(){Z({rotate:ke+90},"rotateRight")},ve=function(){Z({rotate:ke-90},"rotateLeft")},_e=function(){Z({flipX:!k.flipX},"flipX")},Te=function(){Z({flipY:!k.flipY},"flipY")},Oe=function(L){L==null||L.preventDefault(),L==null||L.stopPropagation(),d>0&&(P(!1),ee("prev"),Y==null||Y(d-1,d))},Ge=function(L){L==null||L.preventDefault(),L==null||L.stopPropagation(),d<E-1&&(P(!1),ee("next"),Y==null||Y(d+1,d))},yt=function(L){!p||!q||(L.keyCode===Ze.LEFT?Oe():L.keyCode===Ze.RIGHT&&Ge())},bt=function(L){p&&(we!==1?Z({x:0,y:0,scale:1},"doubleClick"):V(Ie+h,"doubleClick",L.clientX,L.clientY))};n.useEffect(function(){var Q=ye(window,"keydown",yt,!1);return function(){Q.remove()}},[p,q,d]);var Ue=pe.createElement(Qt,U({},D,{width:e.width,height:e.height,imgRef:W,className:"".concat(o,"-img"),alt:i,style:{transform:"translate3d(".concat(k.x,"px, ").concat(k.y,"px, 0) scale3d(").concat(k.flipX?"-":"").concat(we,", ").concat(k.flipY?"-":"").concat(we,", 1) rotate(").concat(ke,"deg)"),transitionDuration:(!G||ae)&&"0s"},fallback:l,src:r,onWheel:Ee,onMouseDown:Ce,onDoubleClick:bt,onTouchStart:re,onTouchMove:me,onTouchEnd:ce,onTouchCancel:ce}));return pe.createElement(pe.Fragment,null,pe.createElement(Mt,U({transitionName:b,maskTransitionName:A,closable:!1,keyboard:!0,prefixCls:o,onClose:m,visible:p,classNames:{wrapper:xe},rootClassName:y,getContainer:g},H,{afterClose:De}),pe.createElement("div",{className:"".concat(o,"-img-wrapper")},N?N(Ue,_({transform:k},K?{current:d}:{})):Ue)),pe.createElement(Kt,{visible:p,transform:k,maskTransitionName:A,closeIcon:u,getContainer:g,prefixCls:o,rootClassName:y,icons:v,countRender:T,showSwitch:q,showProgress:ne,current:d,count:E,scale:we,minScale:S,maxScale:I,toolbarRender:X,onSwitchLeft:Oe,onSwitchRight:Ge,onZoomIn:Ye,onZoomOut:Fe,onRotateRight:fe,onRotateLeft:ve,onFlipX:_e,onFlipY:Te,onClose:m,zIndex:H.zIndex!==void 0?H.zIndex+1:void 0}))};function eo(t){var e=n.useState({}),o=z(e,2),r=o[0],i=o[1],l=n.useCallback(function(f,m){return i(function(p){return _(_({},p),{},te({},f,m))}),function(){i(function(p){var C=_({},p);return delete C[f],C})}},[]),c=n.useMemo(function(){return t?t.map(function(f){if(typeof f=="string")return{data:{src:f}};var m={};return Object.keys(f).forEach(function(p){["src"].concat(Tt(Ve)).includes(p)&&(m[p]=f[p])}),{data:m}}):Object.keys(r).reduce(function(f,m){var p=r[m],C=p.canPreview,v=p.data;return C&&f.push({data:v,id:m}),f},[])},[t,r]);return[c,l]}var to=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],oo=["src"],no=function(e){var o,r=e.previewPrefixCls,i=r===void 0?"rc-image-preview":r,l=e.children,c=e.icons,f=c===void 0?{}:c,m=e.items,p=e.preview,C=e.fallback,v=rt(p)==="object"?p:{},y=v.visible,u=v.onVisibleChange,g=v.getContainer,s=v.current,d=v.movable,x=v.minScale,E=v.maxScale,T=v.countRender,R=v.closeIcon,h=v.onChange,M=v.onTransform,S=v.toolbarRender,w=v.imageRender,I=je(v,to),j=eo(m),b=z(j,2),O=b[0],A=b[1],N=Xe(0,{value:s}),D=z(N,2),X=D[0],B=D[1],Y=n.useState(!1),H=z(Y,2),W=H[0],K=H[1],q=((o=O[X])===null||o===void 0?void 0:o.data)||{},ne=q.src,le=je(q,oo),F=Xe(!!y,{value:y,onChange:function(ae,re){u==null||u(ae,re,X)}}),G=z(F,2),P=G[0],$=G[1],k=n.useState(null),ee=z(k,2),Z=ee[0],V=ee[1],de=n.useCallback(function(J,ae,re){var me=O.findIndex(function(ce){return ce.id===J});$(!0),V({x:ae,y:re}),B(me<0?0:me),K(!0)},[O]);n.useEffect(function(){P?W||B(0):K(!1)},[P]);var Re=function(ae,re){B(ae),h==null||h(ae,re)},Ce=function(){$(!1),V(null)},Ee=n.useMemo(function(){return{register:A,onPreview:de}},[A,de]);return n.createElement(Pe.Provider,{value:Ee},l,n.createElement(Ct,U({"aria-hidden":!P,movable:d,visible:P,prefixCls:i,closeIcon:R,onClose:Ce,mousePosition:Z,imgCommonProps:le,src:ne,fallback:C,icons:f,minScale:x,maxScale:E,getContainer:g,current:X,count:O.length,countRender:T,onTransform:M,toolbarRender:S,imageRender:w,onChange:Re},I)))},ao=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],ro=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],ze=function(e){var o=e.src,r=e.alt,i=e.onPreviewClose,l=e.prefixCls,c=l===void 0?"rc-image":l,f=e.previewPrefixCls,m=f===void 0?"".concat(c,"-preview"):f,p=e.placeholder,C=e.fallback,v=e.width,y=e.height,u=e.style,g=e.preview,s=g===void 0?!0:g,d=e.className,x=e.onClick,E=e.onError,T=e.wrapperClassName,R=e.wrapperStyle,h=e.rootClassName,M=je(e,ao),S=p&&p!==!0,w=rt(s)==="object"?s:{},I=w.src,j=w.visible,b=j===void 0?void 0:j,O=w.onVisibleChange,A=O===void 0?i:O,N=w.getContainer,D=N===void 0?void 0:N,X=w.mask,B=w.maskClassName,Y=w.movable,H=w.icons,W=w.scaleStep,K=w.minScale,q=w.maxScale,ne=w.imageRender,le=w.toolbarRender,F=je(w,ro),G=I??o,P=Xe(!!b,{value:b,onChange:A}),$=z(P,2),k=$[0],ee=$[1],Z=pt({src:o,isCustomPlaceholder:S,fallback:C}),V=z(Z,3),de=V[0],Re=V[1],Ce=V[2],Ee=n.useState(null),J=z(Ee,2),ae=J[0],re=J[1],me=n.useContext(Pe),ce=!!s,ke=function(){ee(!1),re(null)},we=oe(c,T,h,te({},"".concat(c,"-error"),Ce==="error")),xe=n.useMemo(function(){var fe={};return Ve.forEach(function(ve){e[ve]!==void 0&&(fe[ve]=e[ve])}),fe},Ve.map(function(fe){return e[fe]})),De=n.useMemo(function(){return _(_({},xe),{},{src:G})},[G,xe]),Ye=Zt(ce,De),Fe=function(ve){var _e=jt(ve.target),Te=_e.left,Oe=_e.top;me?me.onPreview(Ye,Te,Oe):(re({x:Te,y:Oe}),ee(!0)),x==null||x(ve)};return n.createElement(n.Fragment,null,n.createElement("div",U({},M,{className:we,onClick:ce?Fe:x,style:_({width:v,height:y},R)}),n.createElement("img",U({},xe,{className:oe("".concat(c,"-img"),te({},"".concat(c,"-img-placeholder"),p===!0),d),style:_({height:y},u),ref:de},Re,{width:v,height:y,onError:E})),Ce==="loading"&&n.createElement("div",{"aria-hidden":"true",className:"".concat(c,"-placeholder")},p),X&&ce&&n.createElement("div",{className:oe("".concat(c,"-mask"),B),style:{display:(u==null?void 0:u.display)==="none"?"none":void 0}},X)),!me&&ce&&n.createElement(Ct,U({"aria-hidden":!k,visible:k,prefixCls:m,onClose:ke,mousePosition:ae,src:G,alt:r,fallback:C,getContainer:D,icons:H,movable:Y,scaleStep:W,minScale:K,maxScale:q,rootClassName:h,imageRender:ne,imgCommonProps:xe,toolbarRender:le},F)))};ze.PreviewGroup=no;ze.displayName="Image";var io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const so=io;var lo=function(e,o){return n.createElement(Me,U({},e,{ref:o,icon:so}))};const co=n.forwardRef(lo);var uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const mo=uo;var fo=function(e,o){return n.createElement(Me,U({},e,{ref:o,icon:mo}))};const vo=n.forwardRef(fo);var go={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const po=go;var ho=function(e,o){return n.createElement(Me,U({},e,{ref:o,icon:po}))};const Co=n.forwardRef(ho);var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const xo=wo;var So=function(e,o){return n.createElement(Me,U({},e,{ref:o,icon:xo}))};const yo=n.forwardRef(So),Be=t=>({position:t||"absolute",inset:0}),bo=t=>{const{iconCls:e,motionDurationSlow:o,paddingXXS:r,marginXXS:i,prefixCls:l,colorTextLightSolid:c}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new he("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`,[`.${l}-mask-info`]:Object.assign(Object.assign({},Lt),{padding:`0 ${ut(r)}`,[e]:{marginInlineEnd:i,svg:{verticalAlign:"baseline"}}})}},Io=t=>{const{previewCls:e,modalMaskBg:o,paddingSM:r,marginXL:i,margin:l,paddingLG:c,previewOperationColorDisabled:f,previewOperationHoverColor:m,motionDurationSlow:p,iconCls:C,colorTextLightSolid:v}=t,y=new he(o).setAlpha(.1),u=y.clone().setAlpha(.2);return{[`${e}-footer`]:{position:"fixed",bottom:i,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor},[`${e}-progress`]:{marginBottom:l},[`${e}-close`]:{position:"fixed",top:i,right:{_skip_check_:!0,value:i},display:"flex",color:v,backgroundColor:y.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${p}`,"&:hover":{backgroundColor:u.toRgbString()},[`& > ${C}`]:{fontSize:t.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${ut(c)}`,backgroundColor:y.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${p}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${C}`]:{color:m},"&-disabled":{color:f,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${C}`]:{fontSize:t.previewOperationSize}}}}},jo=t=>{const{modalMaskBg:e,iconCls:o,previewOperationColorDisabled:r,previewCls:i,zIndexPopup:l,motionDurationSlow:c}=t,f=new he(e).setAlpha(.1),m=f.clone().setAlpha(.2);return{[`${i}-switch-left, ${i}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(l).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:f.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:m.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${o}`]:{cursor:"not-allowed"}}},[`> ${o}`]:{fontSize:t.previewOperationSize}},[`${i}-switch-left`]:{insetInlineStart:t.marginSM},[`${i}-switch-right`]:{insetInlineEnd:t.marginSM}}},Mo=t=>{const{motionEaseOut:e,previewCls:o,motionDurationSlow:r,componentCls:i}=t;return[{[`${i}-preview-root`]:{[o]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${o}-body`]:Object.assign(Object.assign({},Be()),{overflow:"hidden"}),[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Be()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${o}-moving`]:{[`${o}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${i}-preview-root`]:{[`${o}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${i}-preview-operations-wrapper`]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal({unit:!1})},"&":[Io(t),jo(t)]}]},Ro=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},bo(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},Be())}}},Eo=t=>{const{previewCls:e}=t;return{[`${e}-root`]:Yt(t,"zoom"),"&":Et(t,!0)}},ko=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new he(t.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new he(t.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new he(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),wt=Nt("Image",t=>{const e=`${t.componentCls}-preview`,o=qe(t,{previewCls:e,modalMaskBg:new he("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[Ro(o),Mo(o),Rt(qe(o,{componentCls:e})),Eo(o)]},ko);var Oo=function(t,e){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(o[r[i]]=t[r[i]]);return o};const xt={rotateLeft:n.createElement(co,null),rotateRight:n.createElement(vo,null),zoomIn:n.createElement(Co,null),zoomOut:n.createElement(yo,null),close:n.createElement($t,null),left:n.createElement(zt,null),right:n.createElement(Dt,null),flipX:n.createElement(Qe,null),flipY:n.createElement(Qe,{rotate:90})},Po=t=>{var{previewPrefixCls:e,preview:o}=t,r=Oo(t,["previewPrefixCls","preview"]);const{getPrefixCls:i}=n.useContext(dt),l=i("image",e),c=`${l}-preview`,f=i(),m=mt(l),[p,C,v]=wt(l,m),[y]=ft("ImagePreview",typeof o=="object"?o.zIndex:void 0),u=n.useMemo(()=>{var g;if(o===!1)return o;const s=typeof o=="object"?o:{},d=oe(C,v,m,(g=s.rootClassName)!==null&&g!==void 0?g:"");return Object.assign(Object.assign({},s),{transitionName:$e(f,"zoom",s.transitionName),maskTransitionName:$e(f,"fade",s.maskTransitionName),rootClassName:d,zIndex:y})},[o]);return p(n.createElement(ze.PreviewGroup,Object.assign({preview:u,previewPrefixCls:c,icons:xt},r)))},_o=Po;var nt=function(t,e){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(o[r[i]]=t[r[i]]);return o};const St=t=>{var e;const{prefixCls:o,preview:r,className:i,rootClassName:l,style:c}=t,f=nt(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:m,locale:p=Je,getPopupContainer:C,image:v}=n.useContext(dt),y=m("image",o),u=m(),g=p.Image||Je.Image,s=mt(y),[d,x,E]=wt(y,s),T=oe(l,x,E,s),R=oe(i,x,v==null?void 0:v.className),[h]=ft("ImagePreview",typeof r=="object"?r.zIndex:void 0),M=n.useMemo(()=>{var w;if(r===!1)return r;const I=typeof r=="object"?r:{},{getContainer:j,closeIcon:b}=I,O=nt(I,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:n.createElement("div",{className:`${y}-mask-info`},n.createElement(kt,null),g==null?void 0:g.preview),icons:xt},O),{getContainer:j??C,transitionName:$e(u,"zoom",I.transitionName),maskTransitionName:$e(u,"fade",I.maskTransitionName),zIndex:h,closeIcon:b??((w=v==null?void 0:v.preview)===null||w===void 0?void 0:w.closeIcon)})},[r,g,(e=v==null?void 0:v.preview)===null||e===void 0?void 0:e.closeIcon]),S=Object.assign(Object.assign({},v==null?void 0:v.style),c);return d(n.createElement(ze,Object.assign({prefixCls:y,preview:M,rootClassName:T,className:R,style:S},f)))};St.PreviewGroup=_o;const To=St;var No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"};const Lo=No;var $o=function(e,o){return n.createElement(Me,U({},e,{ref:o,icon:Lo}))};const Ao=n.forwardRef($o);var zo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"};const Do=zo;var Yo=function(e,o){return n.createElement(Me,U({},e,{ref:o,icon:Do}))};const Fo=n.forwardRef(Yo),Xo=it.div`
`,Zo=it.div`
    margin: 4rem 3rem;
`,{Option:ge}=se,Vo=()=>{const[t,e]=n.useState([]),[o,r]=n.useState(!1),[i,l]=n.useState(!1),[c,f]=n.useState(null),[m]=It();n.useEffect(()=>{(async()=>{try{const g=await ie.get("/companies");e(g.data)}catch(g){console.error("Erro ao buscar empresas",g)}})()},[]);const p=u=>{f(u),m.setFieldsValue({nome:u.nome,cnpj:u.cnpj,payment_type:u.payment_type,service_id:u.service_id,payment_confirm:u.payment_confirm,token_expiration:u.token_expiration||""}),l(!0)},C=async()=>{try{const u=await m.validateFields();await ie.put(`/companies/${c.company_id}`,{nome:u.nome,payment_type:u.payment_type,service_id:u.service_id,payment_confirm:u.payment_confirm}),u.token_expiration&&await ie.put(`/companies/${c.company_id}/updateTokenExpiration`,{token_expiration:u.token_expiration});const g=await ie.get("/companies");e(g.data),Le.success({message:"Empresa atualizada com sucesso!"}),l(!1),m.resetFields()}catch(u){Le.error({message:"Erro ao atualizar empresa!"}),console.error("Erro ao atualizar empresa",u)}},v=()=>{l(!1),m.resetFields()},y=[{title:"Nome",dataIndex:"nome",key:"name",filterDropdown:({setSelectedKeys:u,selectedKeys:g,confirm:s,clearFilters:d})=>a.jsxs("div",{style:{padding:8},children:[a.jsx(be,{placeholder:"Pesquisar nome",value:g[0],onChange:x=>u(x.target.value?[x.target.value]:[]),onPressEnter:()=>s(),style:{marginBottom:8,display:"block"}}),a.jsx(ue,{type:"primary",onClick:()=>s(),size:"small",style:{width:90},children:"Pesquisar"}),a.jsx(ue,{onClick:()=>d(),size:"small",style:{width:90},children:"Resetar"})]}),onFilter:(u,g)=>g.nome.toString().toLowerCase().includes(u.toLowerCase())},{title:"CNPJ/CPF",dataIndex:"cnpj",key:"cnpj",filterDropdown:({setSelectedKeys:u,selectedKeys:g,confirm:s,clearFilters:d})=>a.jsxs("div",{style:{padding:8},children:[a.jsx(be,{placeholder:"Pesquisar CNPJ/CPF",value:g[0],onChange:x=>u(x.target.value?[x.target.value]:[]),onPressEnter:()=>s(),style:{marginBottom:8,display:"block"}}),a.jsx(ue,{type:"primary",onClick:()=>s(),size:"small",style:{width:90,marginRight:8},children:"Pesquisar"}),a.jsx(ue,{onClick:()=>d(),size:"small",style:{width:90},children:"Resetar"})]}),onFilter:(u,g)=>g.cnpj.toString().toLowerCase().includes(u.toLowerCase())},{title:"Contato",dataIndex:"telefone",key:"telefone",render:(u,g)=>{const s=u?u.replace(/[^0-9]/g,""):"",d=s?`https://wa.me/${s}`:"javascript:void(0);";return a.jsxs(a.Fragment,{children:[u||"Não disponível",a.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:a.jsx(ue,{icon:a.jsx(lt,{}),shape:"circle",style:{marginLeft:8},disabled:!s})})]})}},{title:"Plano",dataIndex:"service_id",key:"service_id"},{title:"Contrato",dataIndex:"payment_type",key:"payment_type"},{title:"Status do Pagamento",dataIndex:"payment_confirm",key:"payment_confirm",render:u=>u?"Confirmado":"Pendente"},{title:"Data de Expiração do Token",dataIndex:"token_expiration",key:"token_expiration"},{title:"Ações",key:"actions",render:(u,g)=>a.jsx(ue,{type:"primary",onClick:()=>p(g),children:"Alterar"})}];return a.jsxs(a.Fragment,{children:[a.jsxs(Xo,{children:[a.jsx("h2",{children:"Administralção de clientes"}),a.jsx(He,{columns:y,dataSource:t,loading:o})]}),a.jsx(We,{title:"Editar Empresa",open:i,onOk:C,onCancel:v,children:a.jsxs(Se,{form:m,labelCol:{span:8},wrapperCol:{span:16},initialValues:{...c},children:[a.jsx(Se.Item,{label:"Nome",name:"nome",children:a.jsx(be,{})}),a.jsx(Se.Item,{label:"Contrato",name:"payment_type",children:a.jsxs(se,{placeholder:"Selecione o tipo de contrato",children:[a.jsx(ge,{value:"anual",children:"Anual"}),a.jsx(ge,{value:"mensal",children:"Mensal"})]})}),a.jsx(Se.Item,{label:"Plano",name:"service_id",children:a.jsxs(se,{placeholder:"Selecione o plano",children:[a.jsx(ge,{value:1,children:"Plus"}),a.jsx(ge,{value:2,children:"Pro"}),a.jsx(ge,{value:3,children:"Premium"}),a.jsx(ge,{value:4,children:"Teste"})]})}),a.jsx(Se.Item,{label:"Status do Pagamento",name:"payment_confirm",children:a.jsxs(se,{placeholder:"Selecione o status do pagamento",children:[a.jsx(ge,{value:!0,children:"Pago"}),a.jsx(ge,{value:!1,children:"Em aberto"})]})}),a.jsx(Se.Item,{label:"Acesso até",name:"token_expiration",children:a.jsx(be,{placeholder:"YYYY-MM-DD HH:mm:ss"})})]})})]})},Bo=()=>{const[t,e]=n.useState([]),{authData:o}=at(),r=o.companyID,[i,l]=n.useState(!1),[c,f]=n.useState(null),[m,p]=n.useState(""),[C,v]=n.useState("");n.useEffect(()=>{(async()=>{try{const d=await ie.get(`/chamados/${r}`);console.log(d),e(d.data)}catch(d){console.error("Erro ao buscar chamados:",d)}})()},[r]);const y=s=>{var d;f(s),p(((d=s.status)==null?void 0:d.toString())||"0"),v(""),l(!0)},u=async()=>{if(!(!c||m===""))try{await ie.put(`/chamados/${c.id}`,{status:m,answer:C}),m==="2"&&c.image_path&&await ie.delete(`/chamados/${c.id}/deleteImage`),l(!1);const s=await ie.get(`/chamados/${r}`);e(s.data)}catch(s){console.error("Erro ao atualizar chamado:",s)}},g=[{title:"Número do Chamado",dataIndex:"ticket_number",key:"ticket_number"},{title:"Empresa",dataIndex:"company_name",key:"company_name"},{title:"Tipo",dataIndex:"type",key:"type"},{title:"Descrição",dataIndex:"description",key:"description",render:(s,d)=>a.jsx(a.Fragment,{children:a.jsx("span",{style:{marginRight:"10px"},children:s.substring(0,30)+(s.length>30?"...":"")})})},{title:"Status",dataIndex:"status",key:"status",render:s=>a.jsx(vt,{title:s===null?"A Iniciar":s===1?"Em Andamento":"Concluído",children:a.jsxs("span",{children:[s===null?a.jsx(gt,{style:{color:"red",marginRight:8}}):s===1?a.jsx(Xt,{style:{color:"orange",marginRight:8}}):a.jsx(Ft,{style:{color:"green",marginRight:8}}),s===null?"A Iniciar":s===1?"Em Andamento":"Concluído"]})})},{title:"Ações",key:"actions",render:(s,d)=>a.jsx(ue,{type:"primary",onClick:()=>y(d),children:"Iniciar"})}];return n.useEffect(()=>{c!=null&&c.image_path&&console.log(`URL da imagem: ${Ke}${c.image_path}`)},[c]),a.jsxs(a.Fragment,{children:[a.jsx(He,{dataSource:t,columns:g,rowKey:"id"}),";",a.jsxs(We,{title:"Atender Chamado",open:i,okText:"Salvar",onOk:u,onCancel:()=>l(!1),children:[a.jsx(ct,{}),a.jsx("p",{children:c==null?void 0:c.description}),(c==null?void 0:c.image_path)&&a.jsx("div",{style:{marginBottom:20,textAlign:"center"},children:a.jsx(To,{width:200,src:`${Ke}${c.image_path}`,alt:"Imagem do Chamado",style:{marginBottom:20}})}),a.jsxs(se,{value:m,onChange:p,style:{width:120,marginBottom:20},children:[a.jsx(se.Option,{value:"1",children:"Em andamento"}),a.jsx(se.Option,{value:"2",children:"Concluído"})]}),a.jsx(be.TextArea,{value:C,onChange:s=>v(s.target.value),placeholder:"Descreva a resolução"})]})]})},Ho=()=>{const[t,e]=n.useState([]),{authData:o}=at(),r=o.companyID,[i,l]=n.useState(!1),[c,f]=n.useState(null),[m,p]=n.useState(""),[C,v]=n.useState("");n.useEffect(()=>{(async()=>{try{const d=await ie.get(`/recommendations/${r}`);console.log(d),e(d.data)}catch(d){console.error("Erro ao buscar chamados:",d)}})()},[r]);const y=s=>{var d;f(s),p(((d=s.status)==null?void 0:d.toString())||"0"),v(""),l(!0)},u=async()=>{if(!(!c||m===""||!c.id)){if(m==="2"&&!C.trim()){Le.error({message:"Por favor, forneça o motivo da não adesão."});return}try{const{id:s}=c;await ie.put(`/recommendations/${s}`,{status:m,motivo:C}),e(t.map(d=>d.id===s?{...d,status:m,motivo:C}:d)),Le.success({message:"Tratamento salvo com sucesso!"}),l(!1)}catch(s){console.error("Erro ao tratar recomendação chamado:",s)}}},g=[{title:"Quem indicou",dataIndex:"company_name",key:"company_name"},{title:"Indicado",dataIndex:"indicated",key:"indicated"},{title:"Especialidade",dataIndex:"especialidade",key:"especialidade"},{title:"Telefone",dataIndex:"telefone",key:"telefone",render:(s,d)=>{const x=s?s.replace(/[^0-9]/g,""):"",E=x?`https://wa.me/${x}`:"javascript:void(0);";return a.jsxs(a.Fragment,{children:[s||"Não disponível",a.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",children:a.jsx(ue,{icon:a.jsx(lt,{}),shape:"circle",style:{marginLeft:8},disabled:!x})})]})}},{title:"Status",dataIndex:"status",key:"status",render:s=>{let d;switch(s){case"1":d={icon:a.jsx(Fo,{style:{color:"green",marginRight:8}}),text:"Aderiu"};break;case"2":d={icon:a.jsx(Ao,{style:{color:"red",marginRight:8}}),text:"Não Aderiu"};break;default:d={icon:a.jsx(gt,{style:{color:"orange",marginRight:8}}),text:"A Iniciar"}}return a.jsx(vt,{title:d.text,children:a.jsxs("span",{children:[d.icon,d.text]})})}},{title:"Ações",key:"actions",render:(s,d)=>a.jsx(ue,{type:"primary",onClick:()=>y(d),children:"Tratar"})}];return a.jsxs(a.Fragment,{children:[a.jsx(He,{dataSource:t,columns:g,rowKey:"id"}),";",a.jsxs(We,{title:"Tratar Indicação",open:i,okText:"Salvar",onOk:u,onCancel:()=>l(!1),children:[a.jsx(ct,{}),a.jsx("p",{children:c==null?void 0:c.motivo}),a.jsxs(se,{value:m,onChange:p,style:{width:120,marginBottom:20},children:[a.jsx(se.Option,{value:"1",children:"Aderiu"}),a.jsx(se.Option,{value:"2",children:"Nao aderiu"})]}),a.jsx(be.TextArea,{value:C,onChange:s=>v(s.target.value),placeholder:"Descreva o motivo da não adesão"})]})]})};function zn(){const t=[{key:"1",tab:"Controle de Acesso",content:a.jsx(a.Fragment,{children:a.jsx(Vo,{})})},{key:"2",tab:"Chamados",content:a.jsx(a.Fragment,{children:a.jsx(Bo,{})})},{key:"3",tab:"Indicações",content:a.jsx(a.Fragment,{children:a.jsx(Ho,{})})}];return a.jsx(Zo,{children:a.jsx(et,{defaultActiveKey:"1",children:t.map(e=>a.jsx(et.TabPane,{tab:e.tab,children:e.content},e.key))})})}export{zn as default};
