import{g as qo,R as b,r as k,h as Vo,i as mt,j as I,L as ka,e as Na,c as Oi}from"./index-BQF3cPym.js";import{_ as Z,a as xn,b as Te,d as Y,e as Me,f as Xe,h as _n}from"./AntdIcon-Bf-y5mt3.js";import{k as La,l as ae,n as ce,p as te,q as re,_ as Fa,v as Ia,w as Ko}from"./useSize-D_L_sEch.js";import{P as M}from"./index-B5ADy5vq.js";import"./index-g8AgFOgb.js";import{h as lt}from"./moment-gy9AvL1k.js";import"./pt-br-CeAu04ye.js";import{S as Ba,A as za}from"./ScheduleModal-ndmMnKd8.js";import{T as Wa}from"./index-BCWQvPtp.js";import{B as Re}from"./context-Fzf3q6Qk.js";import{S as Je}from"./index-BiGWWT0_.js";import{P as ja}from"./PlusOutlined-DTU3Jvmp.js";import{C as Ti}from"./index-BV6iTKco.js";import{m as Ai}from"./index-DCz0qyh3.js";import{C as Ha}from"./CalendarOutlined-DVyygKEd.js";import{W as Ua}from"./WarningFilled-DmuNQdO_.js";import"./Serializer-CQbcCsmu.js";import"./PurePanel-BVQW51Q3.js";import"./ClockCircleOutlined-CGK1f65m.js";import"./render-Evlt6hy1.js";import"./KeyCode-Bfjm3k6b.js";import"./index-Zqv3mRLS.js";import"./SearchOutlined-D4A1T3K6.js";import"./index-5ndGXuFb.js";import"./Overflow-C-Iz2ka9.js";import"./useLocale-DqFOwQe3.js";import"./Styles-ytlb0fSP.js";import"./styled-components.browser.esm-DBwtvTCP.js";import"./index-C0dvJG1O.js";import"./row-CXODCmak.js";import"./responsiveObserver-BFwVCCVV.js";import"./ExclamationCircleFilled-Cq3JtRsb.js";import"./index-Bb0wNoCb.js";import"./InfoCircleFilled-9dsj_Nm8.js";import"./index-CjgFxGpf.js";import"./index-GHCFiXpW.js";import"./useNotification-4XyWe70T.js";import"./index-D61Ku0Ai.js";import"./Holidays-BkvyywZH.js";import"./cjs-wu2YKcdf.js";import"./registerModal-G9buuGJv.js";import"./index-gPGki1FS.js";import"./commonMailDomains-C8uuVB4t.js";import"./WarningOutlined-B1Wz2Rzd.js";import"./index-DPdNUbgL.js";import"./AuthModal-BnTXj22D.js";import"./index-B8tbPq5o.js";import"./index-BpA3Fuot.js";import"./ReCAPTCHAUtil-CIOfCtCN.js";import"./index-BjuhNa7t.js";import"./AddClientsModal-DmvqEsCC.js";import"./index-DN31wMcw.js";import"./index-CsUWG4nD.js";import"./index-D5pPztTr.js";import"./CheckOutlined-DTHRp8rd.js";var Ya=function(e,t,r,n,i,o,a,s){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,o,a,s],u=0;c=new Error(t.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},qa=Ya;const Ct=qo(qa);var Va=function(){};function Ka(e,t){var r={};return Object.keys(e).forEach(function(n){r[lr(n)]=Va}),r}function xi(e,t){return e[t]!==void 0}function lr(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ga(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Xa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,La(e,t)}function Go(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Xo(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function Jo(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Go.__suppressDeprecationWarning=!0;Xo.__suppressDeprecationWarning=!0;Jo.__suppressDeprecationWarning=!0;function Ja(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Go,t.componentWillReceiveProps=Xo),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Jo;var s=t.componentDidUpdate;t.componentDidUpdate=function(l,u,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,l,u,d)}}return e}var Za="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Zo(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",i=Ga(e),o=Object.keys(t),a=o.map(lr);i||!r.length||Ct(!1);var s=function(l){Xa(u,l);function u(){for(var d,p=arguments.length,v=new Array(p),h=0;h<p;h++)v[h]=arguments[h];d=l.call.apply(l,[this].concat(v))||this,d.handlers=Object.create(null),o.forEach(function(g){var y=t[g],E=function(S){if(d.props[y]){var D;d._notifying=!0;for(var A=arguments.length,O=new Array(A>1?A-1:0),T=1;T<A;T++)O[T-1]=arguments[T];(D=d.props)[y].apply(D,[S].concat(O)),d._notifying=!1}d.unmounted||d.setState(function(x){var R,_=x.values;return{values:Z(Object.create(null),_,(R={},R[g]=S,R))}})};d.handlers[y]=E}),r.length&&(d.attachRef=function(g){d.inner=g});var m=Object.create(null);return o.forEach(function(g){m[g]=d.props[lr(g)]}),d.state={values:m,prevProps:{}},d}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(p,v){var h=v.values,m=v.prevProps,g={values:Z(Object.create(null),h),prevProps:{}};return o.forEach(function(y){g.prevProps[y]=p[y],!xi(p,y)&&xi(m,y)&&(g.values[y]=p[lr(y)])}),g},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,v=this.props,h=v.innerRef,m=xn(v,["innerRef"]);a.forEach(function(y){delete m[y]});var g={};return o.forEach(function(y){var E=p.props[y];g[y]=E!==void 0?E:p.state.values[y]}),b.createElement(e,Z({},m,g,this.handlers,{ref:h||this.attachRef}))},u}(b.Component);Ja(s),s.displayName="Uncontrolled("+n+")",s.propTypes=Z({innerRef:function(){}},Ka(t)),r.forEach(function(l){s.prototype[l]=function(){var f;return(f=this.inner)[l].apply(f,arguments)}});var c=s;return b.forwardRef&&(c=b.forwardRef(function(l,u){return b.createElement(s,Z({},l,{innerRef:u,__source:{fileName:Za,lineNumber:128},__self:this}))}),c.propTypes=s.propTypes),c.ControlledComponent=e,c.deferControlTo=function(l,u,f){return u===void 0&&(u={}),Zo(l,Z({},t,u),f)},c}function Qo(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Qo(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ee(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Qo(e))&&(n&&(n+=" "),n+=t);return n}var es="milliseconds",Rn="seconds",Cn="minutes",Mn="hours",Mt="day",gr="week",Pn="month",$n="year",yr="decade",wr="century",ts={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Qa={month:1,year:12,decade:10*12,century:100*12};function ec(e){return[31,tc(e),31,30,31,30,31,31,30,31,30,31]}function tc(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Be(e,t,r){switch(e=new Date(e),r){case es:case Rn:case Cn:case Mn:case Mt:case gr:return rc(e,t*ts[r]);case Pn:case $n:case yr:case wr:return nc(e,t*Qa[r])}throw new TypeError('Invalid units: "'+r+'"')}function rc(e,t){var r=new Date(+e+t);return ic(e,r)}function nc(e,t){var r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=r*12+n+t,a=Math.trunc(o/12),s=o%12,c=Math.min(i,ec(a)[s]),l=new Date(e);return l.setFullYear(a),l.setDate(1),l.setMonth(s),l.setDate(c),l}function ic(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),i=n-r;return new Date(+t+i*ts.minutes)}function br(e,t,r){return Be(e,-t,r)}function de(e,t,r){switch(e=new Date(e),t){case wr:case yr:case $n:e=uc(e,0);case Pn:e=lc(e,1);case gr:case Mt:e=Dr(e,0);case Mn:e=Pt(e,0);case Cn:e=Sr(e,0);case Rn:e=Er(e,0)}return t===yr&&(e=br(e,_i(e)%10,"year")),t===wr&&(e=br(e,_i(e)%100,"year")),t===gr&&(e=fc(e,0,r)),e}function an(e,t,r){switch(e=new Date(e),e=de(e,t,r),t){case wr:case yr:case $n:case Pn:case gr:e=Be(e,1,t),e=br(e,1,Mt),e.setHours(23,59,59,999);break;case Mt:e.setHours(23,59,59,999);break;case Mn:case Cn:case Rn:e=Be(e,1,t),e=br(e,1,es)}return e}var Cr=gt(function(e,t){return e===t}),rs=gt(function(e,t){return e!==t}),kn=gt(function(e,t){return e>t}),Mr=gt(function(e,t){return e>=t}),ns=gt(function(e,t){return e<t}),Ht=gt(function(e,t){return e<=t});function oc(){return new Date(Math.min.apply(Math,arguments))}function sc(){return new Date(Math.max.apply(Math,arguments))}function ac(e,t,r,n){return n=n||"day",(!t||Mr(e,t,n))&&(!r||Ht(e,r,n))}var Er=He("Milliseconds"),Sr=He("Seconds"),Pt=He("Minutes"),Dr=He("Hours"),cc=He("Day"),lc=He("Date"),uc=He("Month"),_i=He("FullYear");function fc(e,t,r){var n=(cc(e)+7-(r||0))%7;return t===void 0?n:Be(e,t-n,Mt)}function He(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var i=new Date(r);return i["set"+e](n),t&&i["get"+e]()!=n&&(e==="Hours"||n>=t&&i.getHours()-r.getHours()<Math.floor(n/t))&&i["set"+e](n+t),i}}function gt(e){return function(t,r,n){return e(+de(t,n),+de(r,n))}}function is(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function Ut(e,t){return e===t||e!==e&&t!==t}var os=typeof global=="object"&&global&&global.Object===Object&&global,dc=typeof self=="object"&&self&&self.Object===Object&&self,_e=os||dc||Function("return this")(),me=_e.Symbol,ss=Object.prototype,hc=ss.hasOwnProperty,pc=ss.toString,Et=me?me.toStringTag:void 0;function vc(e){var t=hc.call(e,Et),r=e[Et];try{e[Et]=void 0;var n=!0}catch{}var i=pc.call(e);return n&&(t?e[Et]=r:delete e[Et]),i}var mc=Object.prototype,gc=mc.toString;function yc(e){return gc.call(e)}var wc="[object Null]",bc="[object Undefined]",Ri=me?me.toStringTag:void 0;function nt(e){return e==null?e===void 0?bc:wc:Ri&&Ri in Object(e)?vc(e):yc(e)}function Ae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ec="[object AsyncFunction]",Sc="[object Function]",Dc="[object GeneratorFunction]",Oc="[object Proxy]";function Nn(e){if(!Ae(e))return!1;var t=nt(e);return t==Sc||t==Dc||t==Ec||t==Oc}var Tc=9007199254740991;function Ln(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tc}function Yt(e){return e!=null&&Ln(e.length)&&!Nn(e)}var Ac=9007199254740991,xc=/^(?:0|[1-9]\d*)$/;function Fn(e,t){var r=typeof e;return t=t??Ac,!!t&&(r=="number"||r!="symbol"&&xc.test(e))&&e>-1&&e%1==0&&e<t}function $t(e,t,r){if(!Ae(r))return!1;var n=typeof t;return(n=="number"?Yt(r)&&Fn(t,r.length):n=="string"&&t in r)?Ut(r[t],e):!1}var _c=/\s/;function Rc(e){for(var t=e.length;t--&&_c.test(e.charAt(t)););return t}var Cc=/^\s+/;function Mc(e){return e&&e.slice(0,Rc(e)+1).replace(Cc,"")}function Pe(e){return e!=null&&typeof e=="object"}var Pc="[object Symbol]";function ut(e){return typeof e=="symbol"||Pe(e)&&nt(e)==Pc}var Ci=NaN,$c=/^[-+]0x[0-9a-f]+$/i,kc=/^0b[01]+$/i,Nc=/^0o[0-7]+$/i,Lc=parseInt;function Fc(e){if(typeof e=="number")return e;if(ut(e))return Ci;if(Ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mc(e);var r=kc.test(e);return r||Nc.test(e)?Lc(e.slice(2),r?2:8):$c.test(e)?Ci:+e}var Mi=1/0,Ic=17976931348623157e292;function ur(e){if(!e)return e===0?e:0;if(e=Fc(e),e===Mi||e===-Mi){var t=e<0?-1:1;return t*Ic}return e===e?e:0}function as(e){var t=ur(e),r=t%1;return t===t?r?t-r:t:0}var Bc=Math.ceil,zc=Math.max;function Wc(e,t,r){(r?$t(e,t,r):t===void 0)?t=1:t=zc(as(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var i=0,o=0,a=Array(Bc(n/t));i<n;)a[o++]=is(e,i,i+=t);return a}function qt(e){return e&&e.ownerDocument||document}function jc(e){var t=qt(e);return t&&t.defaultView||window}function Hc(e,t){return jc(e).getComputedStyle(e,t)}var Uc=/([A-Z])/g;function Yc(e){return e.replace(Uc,"-$1").toLowerCase()}var qc=/^ms-/;function tr(e){return Yc(e).replace(qc,"-ms-")}var Vc=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Kc(e){return!!(e&&Vc.test(e))}function at(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(tr(t))||Hc(e).getPropertyValue(tr(t));Object.keys(t).forEach(function(i){var o=t[i];!o&&o!==0?e.style.removeProperty(tr(i)):Kc(i)?n+=i+"("+o+") ":r+=tr(i)+": "+o+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function kt(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Gc(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function In(e){return"window"in e&&e.window===e?e:Gc(e)&&e.defaultView||!1}function cs(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var o=In(n);if(i===void 0)return o?o[e]:n[t];o?o.scrollTo(o[e],i):n[t]=i}return r}const ls=cs("pageXOffset"),us=cs("pageYOffset");function Ze(e){var t=qt(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!kt(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+us(n)-(n.clientTop||0),left:r.left+ls(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var Xc=function(t){return!!t&&"offsetParent"in t};function Jc(e){for(var t=qt(e),r=e&&e.offsetParent;Xc(r)&&r.nodeName!=="HTML"&&at(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Zc=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function fs(e,t){var r={top:0,left:0},n;if(at(e,"position")==="fixed")n=e.getBoundingClientRect();else{var i=t||Jc(e);n=Ze(e),Zc(i)!=="html"&&(r=Ze(i));var o=String(at(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-us(i)||0;var a=String(at(i,"borderLeftWidth")||0);r.left+=parseInt(a,10)-ls(i)||0}var s=String(at(e,"marginTop")||0),c=String(at(e,"marginLeft")||0);return Z({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const Bn=!!(typeof window<"u"&&window.document&&window.document.createElement);var Pi=new Date().getTime();function Qc(e){var t=new Date().getTime(),r=Math.max(0,16-(t-Pi)),n=setTimeout(e,r);return Pi=t,n}var el=["","webkit","moz","o","ms"],cn="clearTimeout",ln=Qc,$i=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Bn&&el.some(function(e){var t=$i(e,"request");return t in window&&(cn=$i(e,"cancel"),ln=function(n){return window[t](n)}),!!ln});var ki=function(t){typeof window[cn]=="function"&&window[cn](t)},ds=ln,Gr;function tl(e,t){if(!Gr){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Gr=function(o,a){return n.call(o,a)}}return Gr(e,t)}var rl=Function.prototype.bind.call(Function.prototype.call,[].slice);function nl(e,t){return rl(e.querySelectorAll(t))}var un=!1,fn=!1;try{var Xr={get passive(){return un=!0},get once(){return fn=un=!0}};Bn&&(window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,!0))}catch{}function il(e,t,r,n){if(n&&typeof n!="boolean"&&!fn){var i=n.once,o=n.capture,a=r;!fn&&i&&(a=r.__once||function s(c){this.removeEventListener(t,s,o),r.call(this,c)},r.__once=a),e.addEventListener(t,a,un?n:o)}e.addEventListener(t,r,n)}function ol(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e},[e]),t}function Ni(e){const t=ol(e);return k.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Li(){return k.useState(null)}function sl(){const e=k.useRef(!0),t=k.useRef(()=>e.current);return k.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function al(e){const t=sl();return[e[0],k.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var le="top",ge="bottom",ye="right",ue="left",zn="auto",Vt=[le,ge,ye,ue],ft="start",Nt="end",cl="clippingParents",hs="viewport",St="popper",ll="reference",Fi=Vt.reduce(function(e,t){return e.concat([t+"-"+ft,t+"-"+Nt])},[]),Wn=[].concat(Vt,[zn]).reduce(function(e,t){return e.concat([t,t+"-"+ft,t+"-"+Nt])},[]),ul="beforeRead",fl="read",dl="afterRead",hl="beforeMain",pl="main",vl="afterMain",ml="beforeWrite",gl="write",yl="afterWrite",wl=[ul,fl,dl,hl,pl,vl,ml,gl,yl];function Ee(e){return e.split("-")[0]}function he(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function et(e){var t=he(e).Element;return e instanceof t||e instanceof Element}function Se(e){var t=he(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function jn(e){if(typeof ShadowRoot>"u")return!1;var t=he(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Qe=Math.max,Or=Math.min,dt=Math.round;function dn(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ps(){return!/^((?!chrome|android).)*safari/i.test(dn())}function ht(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&Se(e)&&(i=e.offsetWidth>0&&dt(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&dt(n.height)/e.offsetHeight||1);var a=et(e)?he(e):window,s=a.visualViewport,c=!ps()&&r,l=(n.left+(c&&s?s.offsetLeft:0))/i,u=(n.top+(c&&s?s.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:u,right:l+f,bottom:u+d,left:l,x:l,y:u}}function Hn(e){var t=ht(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function vs(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&jn(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ze(e){return e?(e.nodeName||"").toLowerCase():null}function $e(e){return he(e).getComputedStyle(e)}function bl(e){return["table","td","th"].indexOf(ze(e))>=0}function Ue(e){return((et(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pr(e){return ze(e)==="html"?e:e.assignedSlot||e.parentNode||(jn(e)?e.host:null)||Ue(e)}function Ii(e){return!Se(e)||$e(e).position==="fixed"?null:e.offsetParent}function El(e){var t=/firefox/i.test(dn()),r=/Trident/i.test(dn());if(r&&Se(e)){var n=$e(e);if(n.position==="fixed")return null}var i=Pr(e);for(jn(i)&&(i=i.host);Se(i)&&["html","body"].indexOf(ze(i))<0;){var o=$e(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Kt(e){for(var t=he(e),r=Ii(e);r&&bl(r)&&$e(r).position==="static";)r=Ii(r);return r&&(ze(r)==="html"||ze(r)==="body"&&$e(r).position==="static")?t:r||El(e)||t}function Un(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function At(e,t,r){return Qe(e,Or(t,r))}function Sl(e,t,r){var n=At(e,t,r);return n>r?r:n}function ms(){return{top:0,right:0,bottom:0,left:0}}function gs(e){return Object.assign({},ms(),e)}function ys(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Dl=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,gs(typeof t!="number"?t:ys(t,Vt))};function Ol(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=Ee(r.placement),c=Un(s),l=[ue,ye].indexOf(s)>=0,u=l?"height":"width";if(!(!o||!a)){var f=Dl(i.padding,r),d=Hn(o),p=c==="y"?le:ue,v=c==="y"?ge:ye,h=r.rects.reference[u]+r.rects.reference[c]-a[c]-r.rects.popper[u],m=a[c]-r.rects.reference[c],g=Kt(o),y=g?c==="y"?g.clientHeight||0:g.clientWidth||0:0,E=h/2-m/2,w=f[p],S=y-d[u]-f[v],D=y/2-d[u]/2+E,A=At(w,D,S),O=c;r.modifiersData[n]=(t={},t[O]=A,t.centerOffset=A-D,t)}}function Tl(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||vs(t.elements.popper,i)&&(t.elements.arrow=i))}const Al={name:"arrow",enabled:!0,phase:"main",fn:Ol,effect:Tl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pt(e){return e.split("-")[1]}var xl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _l(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:dt(r*i)/i||0,y:dt(n*i)/i||0}}function Bi(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=a.x,p=d===void 0?0:d,v=a.y,h=v===void 0?0:v,m=typeof u=="function"?u({x:p,y:h}):{x:p,y:h};p=m.x,h=m.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),E=ue,w=le,S=window;if(l){var D=Kt(r),A="clientHeight",O="clientWidth";if(D===he(r)&&(D=Ue(r),$e(D).position!=="static"&&s==="absolute"&&(A="scrollHeight",O="scrollWidth")),D=D,i===le||(i===ue||i===ye)&&o===Nt){w=ge;var T=f&&D===S&&S.visualViewport?S.visualViewport.height:D[A];h-=T-n.height,h*=c?1:-1}if(i===ue||(i===le||i===ge)&&o===Nt){E=ye;var x=f&&D===S&&S.visualViewport?S.visualViewport.width:D[O];p-=x-n.width,p*=c?1:-1}}var R=Object.assign({position:s},l&&xl),_=u===!0?_l({x:p,y:h},he(r)):{x:p,y:h};if(p=_.x,h=_.y,c){var N;return Object.assign({},R,(N={},N[w]=y?"0":"",N[E]=g?"0":"",N.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",N))}return Object.assign({},R,(t={},t[w]=y?h+"px":"",t[E]=g?p+"px":"",t.transform="",t))}function Rl(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,c=s===void 0?!0:s,l={placement:Ee(t.placement),variation:pt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Bi(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bi(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Cl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rl,data:{}};var rr={passive:!0};function Ml(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,c=he(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",r.update,rr)}),s&&c.addEventListener("resize",r.update,rr),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",r.update,rr)}),s&&c.removeEventListener("resize",r.update,rr)}}const Pl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ml,data:{}};var $l={left:"right",right:"left",bottom:"top",top:"bottom"};function fr(e){return e.replace(/left|right|bottom|top/g,function(t){return $l[t]})}var kl={start:"end",end:"start"};function zi(e){return e.replace(/start|end/g,function(t){return kl[t]})}function Yn(e){var t=he(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function qn(e){return ht(Ue(e)).left+Yn(e).scrollLeft}function Nl(e,t){var r=he(e),n=Ue(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var l=ps();(l||!l&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+qn(e),y:c}}function Ll(e){var t,r=Ue(e),n=Yn(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Qe(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Qe(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+qn(e),c=-n.scrollTop;return $e(i||r).direction==="rtl"&&(s+=Qe(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}function Vn(e){var t=$e(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function ws(e){return["html","body","#document"].indexOf(ze(e))>=0?e.ownerDocument.body:Se(e)&&Vn(e)?e:ws(Pr(e))}function xt(e,t){var r;t===void 0&&(t=[]);var n=ws(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=he(n),a=i?[o].concat(o.visualViewport||[],Vn(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(xt(Pr(a)))}function hn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fl(e,t){var r=ht(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Wi(e,t,r){return t===hs?hn(Nl(e,r)):et(t)?Fl(t,r):hn(Ll(Ue(e)))}function Il(e){var t=xt(Pr(e)),r=["absolute","fixed"].indexOf($e(e).position)>=0,n=r&&Se(e)?Kt(e):e;return et(n)?t.filter(function(i){return et(i)&&vs(i,n)&&ze(i)!=="body"}):[]}function Bl(e,t,r,n){var i=t==="clippingParents"?Il(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(c,l){var u=Wi(e,l,n);return c.top=Qe(u.top,c.top),c.right=Or(u.right,c.right),c.bottom=Or(u.bottom,c.bottom),c.left=Qe(u.left,c.left),c},Wi(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function bs(e){var t=e.reference,r=e.element,n=e.placement,i=n?Ee(n):null,o=n?pt(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,c;switch(i){case le:c={x:a,y:t.y-r.height};break;case ge:c={x:a,y:t.y+t.height};break;case ye:c={x:t.x+t.width,y:s};break;case ue:c={x:t.x-r.width,y:s};break;default:c={x:t.x,y:t.y}}var l=i?Un(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case ft:c[l]=c[l]-(t[u]/2-r[u]/2);break;case Nt:c[l]=c[l]+(t[u]/2-r[u]/2);break}}return c}function Lt(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,a=o===void 0?e.strategy:o,s=r.boundary,c=s===void 0?cl:s,l=r.rootBoundary,u=l===void 0?hs:l,f=r.elementContext,d=f===void 0?St:f,p=r.altBoundary,v=p===void 0?!1:p,h=r.padding,m=h===void 0?0:h,g=gs(typeof m!="number"?m:ys(m,Vt)),y=d===St?ll:St,E=e.rects.popper,w=e.elements[v?y:d],S=Bl(et(w)?w:w.contextElement||Ue(e.elements.popper),c,u,a),D=ht(e.elements.reference),A=bs({reference:D,element:E,strategy:"absolute",placement:i}),O=hn(Object.assign({},E,A)),T=d===St?O:D,x={top:S.top-T.top+g.top,bottom:T.bottom-S.bottom+g.bottom,left:S.left-T.left+g.left,right:T.right-S.right+g.right},R=e.modifiersData.offset;if(d===St&&R){var _=R[i];Object.keys(x).forEach(function(N){var B=[ye,ge].indexOf(N)>=0?1:-1,H=[le,ge].indexOf(N)>=0?"y":"x";x[N]+=_[H]*B})}return x}function zl(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,l=c===void 0?Wn:c,u=pt(n),f=u?s?Fi:Fi.filter(function(v){return pt(v)===u}):Vt,d=f.filter(function(v){return l.indexOf(v)>=0});d.length===0&&(d=f);var p=d.reduce(function(v,h){return v[h]=Lt(e,{placement:h,boundary:i,rootBoundary:o,padding:a})[Ee(h)],v},{});return Object.keys(p).sort(function(v,h){return p[v]-p[h]})}function Wl(e){if(Ee(e)===zn)return[];var t=fr(e);return[zi(e),t,zi(t)]}function jl(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,c=r.fallbackPlacements,l=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,h=r.allowedAutoPlacements,m=t.options.placement,g=Ee(m),y=g===m,E=c||(y||!v?[fr(m)]:Wl(m)),w=[m].concat(E).reduce(function(F,z){return F.concat(Ee(z)===zn?zl(t,{placement:z,boundary:u,rootBoundary:f,padding:l,flipVariations:v,allowedAutoPlacements:h}):z)},[]),S=t.rects.reference,D=t.rects.popper,A=new Map,O=!0,T=w[0],x=0;x<w.length;x++){var R=w[x],_=Ee(R),N=pt(R)===ft,B=[le,ge].indexOf(_)>=0,H=B?"width":"height",W=Lt(t,{placement:R,boundary:u,rootBoundary:f,altBoundary:d,padding:l}),U=B?N?ye:ue:N?ge:le;S[H]>D[H]&&(U=fr(U));var J=fr(U),ie=[];if(o&&ie.push(W[_]<=0),s&&ie.push(W[U]<=0,W[J]<=0),ie.every(function(F){return F})){T=R,O=!1;break}A.set(R,ie)}if(O)for(var C=v?3:1,P=function(z){var q=w.find(function(G){var oe=A.get(G);if(oe)return oe.slice(0,z).every(function(Le){return Le})});if(q)return T=q,"break"},$=C;$>0;$--){var L=P($);if(L==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}const Hl={name:"flip",enabled:!0,phase:"main",fn:jl,requiresIfExists:["offset"],data:{_skip:!1}};function ji(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Hi(e){return[le,ye,ge,ue].some(function(t){return e[t]>=0})}function Ul(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Lt(t,{elementContext:"reference"}),s=Lt(t,{altBoundary:!0}),c=ji(a,n),l=ji(s,i,o),u=Hi(c),f=Hi(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const Yl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ul};function ql(e,t,r){var n=Ee(e),i=[ue,le].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[ue,ye].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function Vl(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=Wn.reduce(function(u,f){return u[f]=ql(f,t.rects,o),u},{}),s=a[t.placement],c=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=a}const Kl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vl};function Gl(e){var t=e.state,r=e.name;t.modifiersData[r]=bs({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Xl={name:"popperOffsets",enabled:!0,phase:"read",fn:Gl,data:{}};function Jl(e){return e==="x"?"y":"x"}function Zl(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,p=d===void 0?!0:d,v=r.tetherOffset,h=v===void 0?0:v,m=Lt(t,{boundary:c,rootBoundary:l,padding:f,altBoundary:u}),g=Ee(t.placement),y=pt(t.placement),E=!y,w=Un(g),S=Jl(w),D=t.modifiersData.popperOffsets,A=t.rects.reference,O=t.rects.popper,T=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,x=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(D){if(o){var N,B=w==="y"?le:ue,H=w==="y"?ge:ye,W=w==="y"?"height":"width",U=D[w],J=U+m[B],ie=U-m[H],C=p?-O[W]/2:0,P=y===ft?A[W]:O[W],$=y===ft?-O[W]:-A[W],L=t.elements.arrow,F=p&&L?Hn(L):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ms(),q=z[B],G=z[H],oe=At(0,A[W],F[W]),Le=E?A[W]/2-C-oe-q-x.mainAxis:P-oe-q-x.mainAxis,bt=E?-A[W]/2+C+oe+G+x.mainAxis:$+oe+G+x.mainAxis,Ye=t.elements.arrow&&Kt(t.elements.arrow),Vr=Ye?w==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,Qt=(N=R==null?void 0:R[w])!=null?N:0,Ca=U+Le-Qt-Vr,Ma=U+bt-Qt,mi=At(p?Or(J,Ca):J,U,p?Qe(ie,Ma):ie);D[w]=mi,_[w]=mi-U}if(s){var gi,Pa=w==="x"?le:ue,$a=w==="x"?ge:ye,qe=D[S],er=S==="y"?"height":"width",yi=qe+m[Pa],wi=qe-m[$a],Kr=[le,ue].indexOf(g)!==-1,bi=(gi=R==null?void 0:R[S])!=null?gi:0,Ei=Kr?yi:qe-A[er]-O[er]-bi+x.altAxis,Si=Kr?qe+A[er]+O[er]-bi-x.altAxis:wi,Di=p&&Kr?Sl(Ei,qe,Si):At(p?Ei:yi,qe,p?Si:wi);D[S]=Di,_[S]=Di-qe}t.modifiersData[n]=_}}const Ql={name:"preventOverflow",enabled:!0,phase:"main",fn:Zl,requiresIfExists:["offset"]};function eu(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function tu(e){return e===he(e)||!Se(e)?Yn(e):eu(e)}function ru(e){var t=e.getBoundingClientRect(),r=dt(t.width)/e.offsetWidth||1,n=dt(t.height)/e.offsetHeight||1;return r!==1||n!==1}function nu(e,t,r){r===void 0&&(r=!1);var n=Se(t),i=Se(t)&&ru(t),o=Ue(t),a=ht(e,i,r),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ze(t)!=="body"||Vn(o))&&(s=tu(t)),Se(t)?(c=ht(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=qn(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function iu(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var c=t.get(s);c&&i(c)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function ou(e){var t=iu(e);return wl.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function su(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function au(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Ui={placement:"bottom",modifiers:[],strategy:"absolute"};function Yi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function cu(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?Ui:i;return function(s,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ui,o),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],d=!1,p={state:u,setOptions:function(g){var y=typeof g=="function"?g(u.options):g;h(),u.options=Object.assign({},o,u.options,y),u.scrollParents={reference:et(s)?xt(s):s.contextElement?xt(s.contextElement):[],popper:xt(c)};var E=ou(au([].concat(n,u.options.modifiers)));return u.orderedModifiers=E.filter(function(w){return w.enabled}),v(),p.update()},forceUpdate:function(){if(!d){var g=u.elements,y=g.reference,E=g.popper;if(Yi(y,E)){u.rects={reference:nu(y,Kt(E),u.options.strategy==="fixed"),popper:Hn(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var S=u.orderedModifiers[w],D=S.fn,A=S.options,O=A===void 0?{}:A,T=S.name;typeof D=="function"&&(u=D({state:u,options:O,name:T,instance:p})||u)}}}},update:su(function(){return new Promise(function(m){p.forceUpdate(),m(u)})}),destroy:function(){h(),d=!0}};if(!Yi(s,c))return p;p.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function v(){u.orderedModifiers.forEach(function(m){var g=m.name,y=m.options,E=y===void 0?{}:y,w=m.effect;if(typeof w=="function"){var S=w({state:u,name:g,instance:p,options:E}),D=function(){};f.push(S||D)}})}function h(){f.forEach(function(m){return m()}),f=[]}return p}}var lu=cu({defaultModifiers:[Yl,Xl,Cl,Pl,Kl,Hl,Ql,Al]}),qi=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},uu={name:"applyStyles",enabled:!1},fu={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,i=n.reference,o=n.popper;if("removeAttribute"in i){var a=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==o.id});a.length?i.setAttribute("aria-describedby",a.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,i=n.elements,o=i.popper,a=i.reference,s=(r=o.getAttribute("role"))==null?void 0:r.toLowerCase();if(o.id&&s==="tooltip"&&"setAttribute"in a){var c=a.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(o.id)!==-1)return;a.setAttribute("aria-describedby",c?c+","+o.id:o.id)}}},du=[];function hu(e,t,r){var n=r===void 0?{}:r,i=n.enabled,o=i===void 0?!0:i,a=n.placement,s=a===void 0?"bottom":a,c=n.strategy,l=c===void 0?"absolute":c,u=n.modifiers,f=u===void 0?du:u,d=xn(n,["enabled","placement","strategy","modifiers"]),p=k.useRef(),v=k.useCallback(function(){var w;(w=p.current)==null||w.update()},[]),h=k.useCallback(function(){var w;(w=p.current)==null||w.forceUpdate()},[]),m=al(k.useState({placement:s,update:v,forceUpdate:h,attributes:{},styles:{popper:qi(l),arrow:{}}})),g=m[0],y=m[1],E=k.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var D=S.state,A={},O={};Object.keys(D.elements).forEach(function(T){A[T]=D.styles[T],O[T]=D.attributes[T]}),y({state:D,styles:A,attributes:O,update:v,forceUpdate:h,placement:D.placement})}}},[v,h,y]);return k.useEffect(function(){!p.current||!o||p.current.setOptions({placement:s,strategy:l,modifiers:[].concat(f,[E,uu])})},[l,s,E,o]),k.useEffect(function(){if(!(!o||e==null||t==null))return p.current=lu(e,t,Z({},d,{placement:s,strategy:l,modifiers:[].concat(f,[fu,E])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,y(function(w){return Z({},w,{attributes:{},styles:{popper:qi(l)}})}))}},[o,e,t]),g}function pu(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function Ot(e,t,r,n){return il(e,t,r,n),function(){pu(e,t,r,n)}}var vu=function(){},mu=vu;const gu=qo(mu);function yu(e){return e&&"setState"in e?Vo.findDOMNode(e):e??null}const wu=function(e){return qt(yu(e))};var bu=27,Vi=function(){};function Eu(e){return e.button===0}function Su(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Ki=function(t){return t&&("current"in t?t.current:t)};function Du(e,t,r){var n=r===void 0?{}:r,i=n.disabled,o=n.clickTrigger,a=o===void 0?"click":o,s=k.useRef(!1),c=t||Vi,l=k.useCallback(function(d){var p,v=Ki(e);gu(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!v||Su(d)||!Eu(d)||!!kt(v,(p=d.composedPath==null?void 0:d.composedPath()[0])!=null?p:d.target)},[e]),u=Ni(function(d){s.current||c(d)}),f=Ni(function(d){d.keyCode===bu&&c(d)});k.useEffect(function(){if(!(i||e==null)){var d=window.event,p=wu(Ki(e)),v=Ot(p,a,l,!0),h=Ot(p,a,function(y){if(y===d){d=void 0;return}u(y)}),m=Ot(p,"keyup",function(y){if(y===d){d=void 0;return}f(y)}),g=[];return"ontouchstart"in p.documentElement&&(g=[].slice.call(p.body.children).map(function(y){return Ot(y,"mousemove",Vi)})),function(){v(),h(),m(),g.forEach(function(y){return y()})}}},[e,i,a,l,u,f])}function Ou(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function Tu(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Au(e){var t,r,n,i,o=e.enabled,a=e.enableEvents,s=e.placement,c=e.flip,l=e.offset,u=e.fixed,f=e.containerPadding,d=e.arrowElement,p=e.popperConfig,v=p===void 0?{}:p,h=Ou(v.modifiers);return Z({},v,{placement:s,enabled:o,strategy:u?"fixed":v.strategy,modifiers:Tu(Z({},h,{eventListeners:{enabled:a},preventOverflow:Z({},h.preventOverflow,{options:f?Z({padding:f},(t=h.preventOverflow)==null?void 0:t.options):(r=h.preventOverflow)==null?void 0:r.options}),offset:{options:Z({offset:l},(n=h.offset)==null?void 0:n.options)},arrow:Z({},h.arrow,{enabled:!!d,options:Z({},(i=h.arrow)==null?void 0:i.options,{element:d})}),flip:Z({enabled:!!c},h.flip)}))})}function xu(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function _u(e,t){e.classList?e.classList.add(t):xu(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Gi(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ru(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Gi(e.className,t):e.setAttribute("class",Gi(e.className&&e.className.baseVal||"",t))}var nr;function Es(e){if((!nr&&nr!==0||e)&&Bn){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nr}var Jr=function(t){var r;return typeof document>"u"?null:t==null?qt().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Xi(e,t){var r=k.useState(function(){return Jr(e)}),n=r[0],i=r[1];if(!n){var o=Jr(e);o&&i(o)}return k.useEffect(function(){t&&n&&t(n)},[t,n]),k.useEffect(function(){var a=Jr(e);a!==n&&i(a)},[e,n]),n}const Ji=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Cu(e,t){const r=Ji(e),n=Ji(t);return i=>{r&&r(i),n&&n(i)}}function Mu(e,t){return k.useMemo(()=>Cu(e,t),[e,t])}var Kn=b.forwardRef(function(e,t){var r=e.flip,n=e.offset,i=e.placement,o=e.containerPadding,a=o===void 0?5:o,s=e.popperConfig,c=s===void 0?{}:s,l=e.transition,u=Li(),f=u[0],d=u[1],p=Li(),v=p[0],h=p[1],m=Mu(d,t),g=Xi(e.container),y=Xi(e.target),E=k.useState(!e.show),w=E[0],S=E[1],D=hu(y,f,Au({placement:i,enableEvents:!!e.show,containerPadding:a||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),A=D.styles,O=D.attributes,T=xn(D,["styles","attributes"]);e.show?w&&S(!1):!e.transition&&!w&&S(!0);var x=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},R=e.show||l&&!w;if(Du(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!R)return null;var _=e.children(Z({},T,{show:!!e.show,props:Z({},O.popper,{style:A.popper,ref:m}),arrowProps:Z({},O.arrow,{style:A.arrow,ref:h})}));if(l){var N=e.onExit,B=e.onExiting,H=e.onEnter,W=e.onEntering,U=e.onEntered;_=b.createElement(l,{in:e.show,appear:!0,onExit:N,onExiting:B,onExited:x,onEnter:H,onEntering:W,onEntered:U},_)}return g?Vo.createPortal(_,g):null});Kn.displayName="Overlay";Kn.propTypes={show:M.bool,placement:M.oneOf(Wn),target:M.any,container:M.any,flip:M.bool,children:M.func.isRequired,containerPadding:M.number,popperConfig:M.object,rootClose:M.bool,rootCloseEvent:M.oneOf(["click","mousedown"]),rootCloseDisabled:M.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(t.rootClose){var o;return(o=M.func).isRequired.apply(o,[t].concat(n))}return M.func.apply(M,[t].concat(n))},transition:M.elementType,onEnter:M.func,onEntering:M.func,onEntered:M.func,onExit:M.func,onExiting:M.func,onExited:M.func};const Pu=Kn;function $u(){this.__data__=[],this.size=0}function $r(e,t){for(var r=e.length;r--;)if(Ut(e[r][0],t))return r;return-1}var ku=Array.prototype,Nu=ku.splice;function Lu(e){var t=this.__data__,r=$r(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Nu.call(t,r,1),--this.size,!0}function Fu(e){var t=this.__data__,r=$r(t,e);return r<0?void 0:t[r][1]}function Iu(e){return $r(this.__data__,e)>-1}function Bu(e,t){var r=this.__data__,n=$r(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ke(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ke.prototype.clear=$u;ke.prototype.delete=Lu;ke.prototype.get=Fu;ke.prototype.has=Iu;ke.prototype.set=Bu;function zu(){this.__data__=new ke,this.size=0}function Wu(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ju(e){return this.__data__.get(e)}function Hu(e){return this.__data__.has(e)}var Zr=_e["__core-js_shared__"],Zi=function(){var e=/[^.]+$/.exec(Zr&&Zr.keys&&Zr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Uu(e){return!!Zi&&Zi in e}var Yu=Function.prototype,qu=Yu.toString;function it(e){if(e!=null){try{return qu.call(e)}catch{}try{return e+""}catch{}}return""}var Vu=/[\\^$.*+?()[\]{}|]/g,Ku=/^\[object .+?Constructor\]$/,Gu=Function.prototype,Xu=Object.prototype,Ju=Gu.toString,Zu=Xu.hasOwnProperty,Qu=RegExp("^"+Ju.call(Zu).replace(Vu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ef(e){if(!Ae(e)||Uu(e))return!1;var t=Nn(e)?Qu:Ku;return t.test(it(e))}function tf(e,t){return e==null?void 0:e[t]}function ot(e,t){var r=tf(e,t);return ef(r)?r:void 0}var Ft=ot(_e,"Map"),It=ot(Object,"create");function rf(){this.__data__=It?It(null):{},this.size=0}function nf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var of="__lodash_hash_undefined__",sf=Object.prototype,af=sf.hasOwnProperty;function cf(e){var t=this.__data__;if(It){var r=t[e];return r===of?void 0:r}return af.call(t,e)?t[e]:void 0}var lf=Object.prototype,uf=lf.hasOwnProperty;function ff(e){var t=this.__data__;return It?t[e]!==void 0:uf.call(t,e)}var df="__lodash_hash_undefined__";function hf(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=It&&t===void 0?df:t,this}function tt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tt.prototype.clear=rf;tt.prototype.delete=nf;tt.prototype.get=cf;tt.prototype.has=ff;tt.prototype.set=hf;function pf(){this.size=0,this.__data__={hash:new tt,map:new(Ft||ke),string:new tt}}function vf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function kr(e,t){var r=e.__data__;return vf(t)?r[typeof t=="string"?"string":"hash"]:r.map}function mf(e){var t=kr(this,e).delete(e);return this.size-=t?1:0,t}function gf(e){return kr(this,e).get(e)}function yf(e){return kr(this,e).has(e)}function wf(e,t){var r=kr(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ne.prototype.clear=pf;Ne.prototype.delete=mf;Ne.prototype.get=gf;Ne.prototype.has=yf;Ne.prototype.set=wf;var bf=200;function Ef(e,t){var r=this.__data__;if(r instanceof ke){var n=r.__data__;if(!Ft||n.length<bf-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ne(n)}return r.set(e,t),this.size=r.size,this}function De(e){var t=this.__data__=new ke(e);this.size=t.size}De.prototype.clear=zu;De.prototype.delete=Wu;De.prototype.get=ju;De.prototype.has=Hu;De.prototype.set=Ef;var Sf="__lodash_hash_undefined__";function Df(e){return this.__data__.set(e,Sf),this}function Of(e){return this.__data__.has(e)}function Tr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ne;++t<r;)this.add(e[t])}Tr.prototype.add=Tr.prototype.push=Df;Tr.prototype.has=Of;function Tf(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Af(e,t){return e.has(t)}var xf=1,_f=2;function Ss(e,t,r,n,i,o){var a=r&xf,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var f=-1,d=!0,p=r&_f?new Tr:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var v=e[f],h=t[f];if(n)var m=a?n(h,v,f,t,e,o):n(v,h,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(p){if(!Tf(t,function(g,y){if(!Af(p,y)&&(v===g||i(v,g,r,n,o)))return p.push(y)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}var Rf=_e.Uint8Array;const Ar=Rf;function Cf(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function Mf(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Pf=1,$f=2,kf="[object Boolean]",Nf="[object Date]",Lf="[object Error]",Ff="[object Map]",If="[object Number]",Bf="[object RegExp]",zf="[object Set]",Wf="[object String]",jf="[object Symbol]",Hf="[object ArrayBuffer]",Uf="[object DataView]",Qi=me?me.prototype:void 0,Qr=Qi?Qi.valueOf:void 0;function Yf(e,t,r,n,i,o,a){switch(r){case Uf:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Hf:return!(e.byteLength!=t.byteLength||!o(new Ar(e),new Ar(t)));case kf:case Nf:case If:return Ut(+e,+t);case Lf:return e.name==t.name&&e.message==t.message;case Bf:case Wf:return e==t+"";case Ff:var s=Cf;case zf:var c=n&Pf;if(s||(s=Mf),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;n|=$f,a.set(e,t);var u=Ss(s(e),s(t),n,i,o,a);return a.delete(e),u;case jf:if(Qr)return Qr.call(e)==Qr.call(t)}return!1}function Gn(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var pe=Array.isArray;function Ds(e,t,r){var n=t(e);return pe(e)?n:Gn(n,r(e))}function qf(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function Os(){return[]}var Vf=Object.prototype,Kf=Vf.propertyIsEnumerable,eo=Object.getOwnPropertySymbols,Xn=eo?function(e){return e==null?[]:(e=Object(e),qf(eo(e),function(t){return Kf.call(e,t)}))}:Os;function Gf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Xf="[object Arguments]";function to(e){return Pe(e)&&nt(e)==Xf}var Ts=Object.prototype,Jf=Ts.hasOwnProperty,Zf=Ts.propertyIsEnumerable,Jn=to(function(){return arguments}())?to:function(e){return Pe(e)&&Jf.call(e,"callee")&&!Zf.call(e,"callee")};function Qf(){return!1}var As=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ro=As&&typeof module=="object"&&module&&!module.nodeType&&module,ed=ro&&ro.exports===As,no=ed?_e.Buffer:void 0,td=no?no.isBuffer:void 0,Bt=td||Qf,rd="[object Arguments]",nd="[object Array]",id="[object Boolean]",od="[object Date]",sd="[object Error]",ad="[object Function]",cd="[object Map]",ld="[object Number]",ud="[object Object]",fd="[object RegExp]",dd="[object Set]",hd="[object String]",pd="[object WeakMap]",vd="[object ArrayBuffer]",md="[object DataView]",gd="[object Float32Array]",yd="[object Float64Array]",wd="[object Int8Array]",bd="[object Int16Array]",Ed="[object Int32Array]",Sd="[object Uint8Array]",Dd="[object Uint8ClampedArray]",Od="[object Uint16Array]",Td="[object Uint32Array]",K={};K[gd]=K[yd]=K[wd]=K[bd]=K[Ed]=K[Sd]=K[Dd]=K[Od]=K[Td]=!0;K[rd]=K[nd]=K[vd]=K[id]=K[md]=K[od]=K[sd]=K[ad]=K[cd]=K[ld]=K[ud]=K[fd]=K[dd]=K[hd]=K[pd]=!1;function Ad(e){return Pe(e)&&Ln(e.length)&&!!K[nt(e)]}function Nr(e){return function(t){return e(t)}}var xs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_t=xs&&typeof module=="object"&&module&&!module.nodeType&&module,xd=_t&&_t.exports===xs,en=xd&&os.process,vt=function(){try{var e=_t&&_t.require&&_t.require("util").types;return e||en&&en.binding&&en.binding("util")}catch{}}(),io=vt&&vt.isTypedArray,_d=io?Nr(io):Ad;const Zn=_d;var Rd=Object.prototype,Cd=Rd.hasOwnProperty;function _s(e,t){var r=pe(e),n=!r&&Jn(e),i=!r&&!n&&Bt(e),o=!r&&!n&&!i&&Zn(e),a=r||n||i||o,s=a?Gf(e.length,String):[],c=s.length;for(var l in e)(t||Cd.call(e,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Fn(l,c)))&&s.push(l);return s}var Md=Object.prototype;function Qn(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Md;return e===r}function Rs(e,t){return function(r){return e(t(r))}}var Pd=Rs(Object.keys,Object),$d=Object.prototype,kd=$d.hasOwnProperty;function Nd(e){if(!Qn(e))return Pd(e);var t=[];for(var r in Object(e))kd.call(e,r)&&r!="constructor"&&t.push(r);return t}function Gt(e){return Yt(e)?_s(e):Nd(e)}function pn(e){return Ds(e,Gt,Xn)}var Ld=1,Fd=Object.prototype,Id=Fd.hasOwnProperty;function Bd(e,t,r,n,i,o){var a=r&Ld,s=pn(e),c=s.length,l=pn(t),u=l.length;if(c!=u&&!a)return!1;for(var f=c;f--;){var d=s[f];if(!(a?d in t:Id.call(t,d)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var h=!0;o.set(e,t),o.set(t,e);for(var m=a;++f<c;){d=s[f];var g=e[d],y=t[d];if(n)var E=a?n(y,g,d,t,e,o):n(g,y,d,e,t,o);if(!(E===void 0?g===y||i(g,y,r,n,o):E)){h=!1;break}m||(m=d=="constructor")}if(h&&!m){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(h=!1)}return o.delete(e),o.delete(t),h}var vn=ot(_e,"DataView"),mn=ot(_e,"Promise"),gn=ot(_e,"Set"),yn=ot(_e,"WeakMap"),oo="[object Map]",zd="[object Object]",so="[object Promise]",ao="[object Set]",co="[object WeakMap]",lo="[object DataView]",Wd=it(vn),jd=it(Ft),Hd=it(mn),Ud=it(gn),Yd=it(yn),Ge=nt;(vn&&Ge(new vn(new ArrayBuffer(1)))!=lo||Ft&&Ge(new Ft)!=oo||mn&&Ge(mn.resolve())!=so||gn&&Ge(new gn)!=ao||yn&&Ge(new yn)!=co)&&(Ge=function(e){var t=nt(e),r=t==zd?e.constructor:void 0,n=r?it(r):"";if(n)switch(n){case Wd:return lo;case jd:return oo;case Hd:return so;case Ud:return ao;case Yd:return co}return t});const zt=Ge;var qd=1,uo="[object Arguments]",fo="[object Array]",ir="[object Object]",Vd=Object.prototype,ho=Vd.hasOwnProperty;function Kd(e,t,r,n,i,o){var a=pe(e),s=pe(t),c=a?fo:zt(e),l=s?fo:zt(t);c=c==uo?ir:c,l=l==uo?ir:l;var u=c==ir,f=l==ir,d=c==l;if(d&&Bt(e)){if(!Bt(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new De),a||Zn(e)?Ss(e,t,r,n,i,o):Yf(e,t,c,r,n,i,o);if(!(r&qd)){var p=u&&ho.call(e,"__wrapped__"),v=f&&ho.call(t,"__wrapped__");if(p||v){var h=p?e.value():e,m=v?t.value():t;return o||(o=new De),i(h,m,r,n,o)}}return d?(o||(o=new De),Bd(e,t,r,n,i,o)):!1}function Lr(e,t,r,n,i){return e===t?!0:e==null||t==null||!Pe(e)&&!Pe(t)?e!==e&&t!==t:Kd(e,t,r,n,Lr,i)}function Gd(e,t){return Lr(e,t)}function tn(e,t){var r=In(e);return r?r.innerHeight:t?e.clientHeight:Ze(e).height}function Cs(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(tl(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function Xd(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var Jd=1,Zd=2;function Qd(e,t,r,n){var i=r.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=r[i];var c=s[0],l=e[c],u=s[1];if(a&&s[2]){if(l===void 0&&!(c in e))return!1}else{var f=new De;if(n)var d=n(l,u,c,e,t,f);if(!(d===void 0?Lr(u,l,Jd|Zd,n,f):d))return!1}}return!0}function Ms(e){return e===e&&!Ae(e)}function eh(e){for(var t=Gt(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ms(i)]}return t}function Ps(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function th(e){var t=eh(e);return t.length==1&&t[0][2]?Ps(t[0][0],t[0][1]):function(r){return r===e||Qd(r,e,t)}}var rh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nh=/^\w*$/;function ei(e,t){if(pe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ut(e)?!0:nh.test(e)||!rh.test(e)||t!=null&&e in Object(t)}var ih="Expected a function";function ti(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ih);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ti.Cache||Ne),r}ti.Cache=Ne;var oh=500;function sh(e){var t=ti(e,function(n){return r.size===oh&&r.clear(),n}),r=t.cache;return t}var ah=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ch=/\\(\\)?/g,lh=sh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ah,function(r,n,i,o){t.push(i?o.replace(ch,"$1"):n||r)}),t});function Rt(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var uh=1/0,po=me?me.prototype:void 0,vo=po?po.toString:void 0;function $s(e){if(typeof e=="string")return e;if(pe(e))return Rt(e,$s)+"";if(ut(e))return vo?vo.call(e):"";var t=e+"";return t=="0"&&1/e==-uh?"-0":t}function fh(e){return e==null?"":$s(e)}function Fr(e,t){return pe(e)?e:ei(e,t)?[e]:lh(fh(e))}var dh=1/0;function Xt(e){if(typeof e=="string"||ut(e))return e;var t=e+"";return t=="0"&&1/e==-dh?"-0":t}function Ir(e,t){t=Fr(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Xt(t[r++])];return r&&r==n?e:void 0}function hh(e,t,r){var n=e==null?void 0:Ir(e,t);return n===void 0?r:n}function ph(e,t){return e!=null&&t in Object(e)}function vh(e,t,r){t=Fr(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=Xt(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Ln(i)&&Fn(a,i)&&(pe(e)||Jn(e)))}function mh(e,t){return e!=null&&vh(e,t,ph)}var gh=1,yh=2;function wh(e,t){return ei(e)&&Ms(t)?Ps(Xt(e),t):function(r){var n=hh(r,e);return n===void 0&&n===t?mh(r,e):Lr(t,n,gh|yh)}}function Br(e){return e}function bh(e){return function(t){return t==null?void 0:t[e]}}function Eh(e){return function(t){return Ir(t,e)}}function Sh(e){return ei(e)?bh(Xt(e)):Eh(e)}function zr(e){return typeof e=="function"?e:e==null?Br:typeof e=="object"?pe(e)?wh(e[0],e[1]):th(e):Sh(e)}var Dh=Math.max;function Oh(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:as(r);return i<0&&(i=Dh(n+i,0)),Xd(e,zr(t),i)}var Th=Math.ceil,Ah=Math.max;function xh(e,t,r,n){for(var i=-1,o=Ah(Th((t-e)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=e,e+=r;return a}function _h(e){return function(t,r,n){return n&&typeof n!="number"&&$t(t,r,n)&&(r=n=void 0),t=ur(t),r===void 0?(r=t,t=0):r=ur(r),n=n===void 0?t<r?1:-1:ur(n),xh(t,r,n,e)}}var Rh=_h(),mo=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ch(e,t){return!!(e===t||mo(e)&&mo(t))}function Mh(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Ch(e[r],t[r]))return!1;return!0}function ks(e,t){t===void 0&&(t=Mh);var r=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;var a=e.apply(this,i);return r={lastResult:a,lastArgs:i,lastThis:this},a}return n.clear=function(){r=null},n}var go=me?me.isConcatSpreadable:void 0;function Ph(e){return pe(e)||Jn(e)||!!(go&&e&&e[go])}function ri(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=Ph),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?ri(s,t-1,r,n,i):Gn(i,s):n||(i[i.length]=s)}return i}function $h(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(r(o[c],c,o)===!1)break}return t}}var kh=$h();function ni(e,t){return e&&kh(e,t,Gt)}function Nh(e,t){return function(r,n){if(r==null)return r;if(!Yt(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var Lh=Nh(ni);function Fh(e,t){var r=-1,n=Yt(e)?Array(e.length):[];return Lh(e,function(i,o,a){n[++r]=t(i,o,a)}),n}function Ih(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function Bh(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=ut(e),a=t!==void 0,s=t===null,c=t===t,l=ut(t);if(!s&&!l&&!o&&e>t||o&&a&&c&&!s&&!l||n&&a&&c||!r&&c||!i)return 1;if(!n&&!o&&!l&&e<t||l&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!c)return-1}return 0}function zh(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var c=Bh(i[n],o[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return e.index-t.index}function Wh(e,t,r){t.length?t=Rt(t,function(o){return pe(o)?function(a){return Ir(a,o.length===1?o[0]:o)}:o}):t=[Br];var n=-1;t=Rt(t,Nr(zr));var i=Fh(e,function(o,a,s){var c=Rt(t,function(l){return l(o)});return{criteria:c,index:++n,value:o}});return Ih(i,function(o,a){return zh(o,a,r)})}function jh(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yo=Math.max;function Ns(e,t,r){return t=yo(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=yo(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),jh(e,this,s)}}function Hh(e){return function(){return e}}var xr=function(){try{var e=ot(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Uh=xr?function(e,t){return xr(e,"toString",{configurable:!0,enumerable:!1,value:Hh(t),writable:!0})}:Br;const Yh=Uh;var qh=800,Vh=16,Kh=Date.now;function Gh(e){var t=0,r=0;return function(){var n=Kh(),i=Vh-(n-r);if(r=n,i>0){if(++t>=qh)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ls=Gh(Yh);function Fs(e,t){return Ls(Ns(e,t,Br),e+"")}var Xh=Fs(function(e,t){if(e==null)return[];var r=t.length;return r>1&&$t(e,t[0],t[1])?t=[]:r>2&&$t(t[0],t[1],t[2])&&(t=[t[0]]),Wh(e,ri(t,1),[])});function wn(e,t){var r=In(e);return r?r.innerWidth:t?e.clientWidth:Ze(e).width}function Is(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function ii(e,t,r){t=="__proto__"&&xr?xr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Jh=Object.prototype,Zh=Jh.hasOwnProperty;function Bs(e,t,r){var n=e[t];(!(Zh.call(e,t)&&Ut(n,r))||r===void 0&&!(t in e))&&ii(e,t,r)}function Jt(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),i?ii(r,s,c):Bs(r,s,c)}return r}function Qh(e,t){return e&&Jt(t,Gt(t),e)}function ep(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var tp=Object.prototype,rp=tp.hasOwnProperty;function np(e){if(!Ae(e))return ep(e);var t=Qn(e),r=[];for(var n in e)n=="constructor"&&(t||!rp.call(e,n))||r.push(n);return r}function Wr(e){return Yt(e)?_s(e,!0):np(e)}function ip(e,t){return e&&Jt(t,Wr(t),e)}var zs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wo=zs&&typeof module=="object"&&module&&!module.nodeType&&module,op=wo&&wo.exports===zs,bo=op?_e.Buffer:void 0,Eo=bo?bo.allocUnsafe:void 0;function sp(e,t){if(t)return e.slice();var r=e.length,n=Eo?Eo(r):new e.constructor(r);return e.copy(n),n}function ap(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function cp(e,t){return Jt(e,Xn(e),t)}var lp=Rs(Object.getPrototypeOf,Object);const jr=lp;var up=Object.getOwnPropertySymbols,fp=up?function(e){for(var t=[];e;)Gn(t,Xn(e)),e=jr(e);return t}:Os;const Ws=fp;function dp(e,t){return Jt(e,Ws(e),t)}function js(e){return Ds(e,Wr,Ws)}var hp=Object.prototype,pp=hp.hasOwnProperty;function vp(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&pp.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function oi(e){var t=new e.constructor(e.byteLength);return new Ar(t).set(new Ar(e)),t}function mp(e,t){var r=t?oi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var gp=/\w*$/;function yp(e){var t=new e.constructor(e.source,gp.exec(e));return t.lastIndex=e.lastIndex,t}var So=me?me.prototype:void 0,Do=So?So.valueOf:void 0;function wp(e){return Do?Object(Do.call(e)):{}}function bp(e,t){var r=t?oi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Ep="[object Boolean]",Sp="[object Date]",Dp="[object Map]",Op="[object Number]",Tp="[object RegExp]",Ap="[object Set]",xp="[object String]",_p="[object Symbol]",Rp="[object ArrayBuffer]",Cp="[object DataView]",Mp="[object Float32Array]",Pp="[object Float64Array]",$p="[object Int8Array]",kp="[object Int16Array]",Np="[object Int32Array]",Lp="[object Uint8Array]",Fp="[object Uint8ClampedArray]",Ip="[object Uint16Array]",Bp="[object Uint32Array]";function zp(e,t,r){var n=e.constructor;switch(t){case Rp:return oi(e);case Ep:case Sp:return new n(+e);case Cp:return mp(e,r);case Mp:case Pp:case $p:case kp:case Np:case Lp:case Fp:case Ip:case Bp:return bp(e,r);case Dp:return new n;case Op:case xp:return new n(e);case Tp:return yp(e);case Ap:return new n;case _p:return wp(e)}}var Oo=Object.create,Hs=function(){function e(){}return function(t){if(!Ae(t))return{};if(Oo)return Oo(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Wp(e){return typeof e.constructor=="function"&&!Qn(e)?Hs(jr(e)):{}}var jp="[object Map]";function Hp(e){return Pe(e)&&zt(e)==jp}var To=vt&&vt.isMap,Up=To?Nr(To):Hp,Yp="[object Set]";function qp(e){return Pe(e)&&zt(e)==Yp}var Ao=vt&&vt.isSet,Vp=Ao?Nr(Ao):qp,Kp=1,Gp=2,Xp=4,Us="[object Arguments]",Jp="[object Array]",Zp="[object Boolean]",Qp="[object Date]",ev="[object Error]",Ys="[object Function]",tv="[object GeneratorFunction]",rv="[object Map]",nv="[object Number]",qs="[object Object]",iv="[object RegExp]",ov="[object Set]",sv="[object String]",av="[object Symbol]",cv="[object WeakMap]",lv="[object ArrayBuffer]",uv="[object DataView]",fv="[object Float32Array]",dv="[object Float64Array]",hv="[object Int8Array]",pv="[object Int16Array]",vv="[object Int32Array]",mv="[object Uint8Array]",gv="[object Uint8ClampedArray]",yv="[object Uint16Array]",wv="[object Uint32Array]",V={};V[Us]=V[Jp]=V[lv]=V[uv]=V[Zp]=V[Qp]=V[fv]=V[dv]=V[hv]=V[pv]=V[vv]=V[rv]=V[nv]=V[qs]=V[iv]=V[ov]=V[sv]=V[av]=V[mv]=V[gv]=V[yv]=V[wv]=!0;V[ev]=V[Ys]=V[cv]=!1;function dr(e,t,r,n,i,o){var a,s=t&Kp,c=t&Gp,l=t&Xp;if(r&&(a=i?r(e,n,i,o):r(e)),a!==void 0)return a;if(!Ae(e))return e;var u=pe(e);if(u){if(a=vp(e),!s)return ap(e,a)}else{var f=zt(e),d=f==Ys||f==tv;if(Bt(e))return sp(e,s);if(f==qs||f==Us||d&&!i){if(a=c||d?{}:Wp(e),!s)return c?dp(e,ip(a,e)):cp(e,Qh(a,e))}else{if(!V[f])return i?e:{};a=zp(e,f,s)}}o||(o=new De);var p=o.get(e);if(p)return p;o.set(e,a),Vp(e)?e.forEach(function(m){a.add(dr(m,t,r,m,e,o))}):Up(e)&&e.forEach(function(m,g){a.set(g,dr(m,t,r,g,e,o))});var v=l?c?js:pn:c?Wr:Gt,h=u?void 0:v(e);return Is(h||e,function(m,g){h&&(g=m,m=e[g]),Bs(a,g,dr(m,t,r,g,e,o))}),a}function bv(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Ev(e,t){return t.length<2?e:Ir(e,is(t,0,-1))}function Sv(e,t){return t=Fr(t,e),e=Ev(e,t),e==null||delete e[Xt(bv(t))]}var Dv="[object Object]",Ov=Function.prototype,Tv=Object.prototype,Vs=Ov.toString,Av=Tv.hasOwnProperty,xv=Vs.call(Object);function _v(e){if(!Pe(e)||nt(e)!=Dv)return!1;var t=jr(e);if(t===null)return!0;var r=Av.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Vs.call(r)==xv}function Rv(e){return _v(e)?void 0:e}function Cv(e){var t=e==null?0:e.length;return t?ri(e,1):[]}function Mv(e){return Ls(Ns(e,void 0,Cv),e+"")}var Pv=1,$v=2,kv=4,Nv=Mv(function(e,t){var r={};if(e==null)return r;var n=!1;t=Rt(t,function(o){return o=Fr(o,e),n||(n=o.length>1),o}),Jt(e,js(e),r),n&&(r=dr(r,Pv|$v|kv,Rv));for(var i=t.length;i--;)Sv(r,t[i]);return r}),Ks=Object.prototype,Lv=Ks.hasOwnProperty,Fv=Fs(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&$t(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],a=Wr(o),s=-1,c=a.length;++s<c;){var l=a[s],u=e[l];(u===void 0||Ut(u,Ks[l])&&!Lv.call(e,l))&&(e[l]=o[l])}return e});const Iv=Fv;function Bv(e,t,r){var n=pe(e),i=n||Bt(e)||Zn(e);if(t=zr(t),r==null){var o=e&&e.constructor;i?r=n?new o:[]:Ae(e)?r=Nn(o)?Hs(jr(e)):{}:r={}}return(i?Is:ni)(e,function(a,s,c){return t(r,a,s,c)}),r}function zv(e,t){var r={};return t=zr(t),ni(e,function(n,i,o){ii(r,i,t(n,i,o))}),r}var Wv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(mt,function(){return function(r,n,i){n.prototype.isBetween=function(o,a,s,c){var l=i(o),u=i(a),f=(c=c||"()")[0]==="(",d=c[1]===")";return(f?this.isAfter(l,s):!this.isBefore(l,s))&&(d?this.isBefore(u,s):!this.isAfter(u,s))||(f?this.isBefore(l,s):!this.isAfter(l,s))&&(d?this.isAfter(u,s):!this.isBefore(u,s))}}})})(Wv);var jv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(mt,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}})})(jv);var Hv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(mt,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}})})(Hv);var Uv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(mt,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var a=i.prototype,s=a.format;o.en.formats=r,a.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,u=function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,v,h){var m=h&&h.toUpperCase();return v||d[h]||r[h]||d[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,y,E){return y||E.slice(1)})})}(c,l===void 0?{}:l);return s.call(this,u)}}})})(Uv);var Yv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(mt,function(){return function(r,n,i){var o=function(a,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var c;s.length===1&&s[0].length>0&&(s=s[0]),c=(s=s.filter(function(u){return u}))[0];for(var l=1;l<s.length;l+=1)s[l].isValid()&&!s[l][a](c)||(c=s[l]);return c};i.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}})})(Yv);var qv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(mt,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,a,s){var c=a.prototype;s.utc=function(h){var m={date:h,utc:!0,args:arguments};return new a(m)},c.utc=function(h){var m=s(this.toDate(),{locale:this.$L,utc:!0});return h?m.add(this.utcOffset(),r):m},c.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var l=c.parse;c.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),l.call(this,h)};var u=c.init;c.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else u.call(this)};var f=c.utcOffset;c.utcOffset=function(h,m){var g=this.$utils().u;if(g(h))return this.$u?0:g(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(S){S===void 0&&(S="");var D=S.match(n);if(!D)return null;var A=(""+D[0]).match(i)||["-",0,0],O=A[0],T=60*+A[1]+ +A[2];return T===0?0:O==="+"?T:-T}(h),h===null))return this;var y=Math.abs(h)<=16?60*h:h,E=this;if(m)return E.$offset=y,E.$u=h===0,E;if(h!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(y+w,r)).$offset=y,E.$x.$localOffset=w}else E=this.utc();return E};var d=c.format;c.format=function(h){var m=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,m)},c.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(h){return h==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=c.diff;c.diff=function(h,m,g){if(h&&this.$u===h.$u)return v.call(this,h,m,g);var y=this.local(),E=s(h).local();return v.call(y,E,m,g)}}})})(qv);function Ce(e){return e.children}var fe={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},se={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},xo=Object.keys(se).map(function(e){return se[e]});M.oneOfType([M.string,M.func]);M.any;M.func;M.oneOfType([M.arrayOf(M.oneOf(xo)),M.objectOf(function(e,t){var r=xo.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return M.elementType.apply(M,[e,t].concat(i))})]);M.oneOfType([M.oneOf(["overlap","no-overlap"]),M.func]);function X(e,t){e&&e.apply(null,[].concat(t))}var _o={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Gs(e,t){var r=de(e,"month");return de(r,"week",t.startOfWeek())}function Xs(e,t){var r=an(e,"month");return an(r,"week",t.startOfWeek())}function Vv(e,t){for(var r=Gs(e,t),n=Xs(e,t),i=[];Ht(r,n,"day");)i.push(r),r=Be(r,1,"day");return i}function bn(e,t){var r=de(e,t);return Cr(r,e)?r:Be(r,1,t)}function Kv(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,i=[];Ht(n,t,r);)i.push(n),n=Be(n,1,r);return i}function Gv(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=de(e,"day"),e=Dr(e,Dr(t)),e=Pt(e,Pt(t)),e=Sr(e,Sr(t)),Er(e,Er(t)))}function Ro(e){return Dr(e)===0&&Pt(e)===0&&Sr(e)===0&&Er(e)===0}function Wt(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+de(e,r)/_o[r]-+de(t,r)/_o[r]))}var Xv=M.oneOfType([M.string,M.func]);function Jv(e,t,r,n,i){var o=typeof n=="function"?n(r,i,e):t.call(e,r,n,i);return Ct(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function Zv(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function si(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Qv(e,t){return Wt(e,t,"minutes")+si(e,t)}function em(e){var t=de(e,"day");return Wt(t,e,"minutes")+si(t,e)}function tm(e,t){return ns(e,t,"day")}function rm(e,t,r){var n=Cr(e,t,"minutes");return n?Mr(t,r,"minutes"):kn(t,r,"minutes")}function nm(e){var t=e.evtA,r=t.start,n=t.end,i=t.allDay,o=e.evtB,a=o.start,s=o.end,c=o.allDay,l=+de(r,"day")-+de(a,"day"),u=Wt(r,bn(n,"day"),"day"),f=Wt(a,bn(s,"day"),"day");return l||Math.max(f,1)-Math.max(u,1)||!!c-!!i||+r-+a||+n-+s}function im(e){var t=e.event,r=t.start,n=t.end,i=e.range,o=i.start,a=i.end,s=de(r,"day"),c=Ht(s,a,"day"),l=rs(s,n,"minutes"),u=l?kn(n,o,"minutes"):Mr(n,o,"minutes");return c&&u}function om(e,t){return Cr(e,t,"day")}function sm(e,t){return Ro(e)&&Ro(t)}var am=re(function e(t){var r=this;te(this,e),Ct(typeof t.format=="function","date localizer `format(..)` must be a function"),Ct(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Xv,this.formats=t.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Jv.apply(void 0,[r,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Gv,this.inRange=t.inRange||ac,this.lt=t.lt||ns,this.lte=t.lte||Ht,this.gt=t.gt||kn,this.gte=t.gte||Mr,this.eq=t.eq||Cr,this.neq=t.neq||rs,this.startOf=t.startOf||de,this.endOf=t.endOf||an,this.add=t.add||Be,this.range=t.range||Kv,this.diff=t.diff||Wt,this.ceil=t.ceil||bn,this.min=t.min||oc,this.max=t.max||sc,this.minutes=t.minutes||Pt,this.firstVisibleDay=t.firstVisibleDay||Gs,this.lastVisibleDay=t.lastVisibleDay||Xs,this.visibleDays=t.visibleDays||Vv,this.getSlotDate=t.getSlotDate||Zv,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||si,this.getTotalMin=t.getTotalMin||Qv,this.getMinutesFromMidnight=t.getMinutesFromMidnight||em,this.continuesPrior=t.continuesPrior||tm,this.continuesAfter=t.continuesAfter||rm,this.sortEvents=t.sortEvents||nm,this.inEventRange=t.inEventRange||im,this.isSameDate=t.isSameDate||om,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||sm,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function cm(e,t,r,n){var i=Y(Y({},e.formats),r);return Y(Y({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(a,s){return e.format(a,i[s]||s,t)}})}var lm={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function um(e){return Y(Y({},lm),e)}function fm(e){var t=e.ref,r=e.callback;k.useEffect(function(){var n=function(o){t.current&&!t.current.contains(o.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var dm=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Js=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){var i=this.props,o=i.style,a=i.className,s=i.event,c=i.selected,l=i.isAllDay,u=i.onSelect,f=i.onDoubleClick,d=i.onKeyPress,p=i.localizer,v=i.continuesPrior,h=i.continuesAfter,m=i.accessors,g=i.getters,y=i.children,E=i.components,w=E.event,S=E.eventWrapper,D=i.slotStart,A=i.slotEnd,O=Te(i,dm);delete O.resizable;var T=m.title(s),x=m.tooltip(s),R=m.end(s),_=m.start(s),N=m.allDay(s),B=l||N||p.diff(_,p.ceil(R,"day"),"day")>1,H=g.eventProp(s,_,R,c),W=b.createElement("div",{className:"rbc-event-content",title:x||void 0},w?b.createElement(w,{event:s,continuesPrior:v,continuesAfter:h,title:T,isAllDay:N,localizer:p,slotStart:D,slotEnd:A}):T);return b.createElement(S,Object.assign({},this.props,{type:"date"}),b.createElement("div",Object.assign({},O,{tabIndex:0,style:Y(Y({},H.style),o),className:ee("rbc-event",a,H.className,{"rbc-selected":c,"rbc-event-allday":B,"rbc-event-continues-prior":v,"rbc-event-continues-after":h}),onClick:function(J){return u&&u(s,J)},onDoubleClick:function(J){return f&&f(s,J)},onKeyPress:function(J){return d&&d(s,J)}}),typeof y=="function"?y(W):W))}}]),r}(b.Component);function Hr(e,t){return!e||t==null?!1:Gd(e,t)}function Zs(e,t){var r=e.right-e.left,n=r/t;return n}function Qs(e,t,r,n){var i=Zs(e,n);return r?n-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function hm(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function pm(e,t,r,n,i){var o=-1,a=-1,s=n-1,c=Zs(t,n),l=Qs(t,r.x,i,n),u=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,d=e.y>t.bottom,p=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(o=0,a=s),u&&(p?(o=0,a=l):d&&(o=l,a=s)),f&&(o=a=i?s-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),u?l<o?o=l:a=l:e.y<r.y?a=s:o=0),{startIdx:o,endIdx:a}}function vm(e){var t=e.target,r=e.offset,n=e.container,i=e.box,o=Ze(t),a=o.top,s=o.left,c=o.width,l=o.height,u=Ze(n),f=u.top,d=u.left,p=u.width,v=u.height,h=Ze(i),m=h.width,g=h.height,y=f+v,E=d+p,w=a+g,S=s+m,D=r.x,A=r.y,O=w>y?a-g-A:a+A+l,T=S>E?s+D-m+c:s+D;return{topOffset:O,leftOffset:T}}function mm(e){var t=e.containerRef,r=e.accessors,n=e.getters,i=e.selected,o=e.components,a=e.localizer,s=e.position,c=e.show,l=e.events,u=e.slotStart,f=e.slotEnd,d=e.onSelect,p=e.onDoubleClick,v=e.onKeyPress,h=e.handleDragStart,m=e.popperRef,g=e.target,y=e.offset;fm({ref:m,callback:c}),k.useLayoutEffect(function(){var S=vm({target:g,offset:y,container:t.current,box:m.current}),D=S.topOffset,A=S.leftOffset;m.current.style.top="".concat(D,"px"),m.current.style.left="".concat(A,"px")},[y.x,y.y,g]);var E=s.width,w={minWidth:E+E/2};return b.createElement("div",{style:w,className:"rbc-overlay",ref:m},b.createElement("div",{className:"rbc-overlay-header"},a.format(u,"dayHeaderFormat")),l.map(function(S,D){return b.createElement(Js,{key:D,type:"popup",localizer:a,event:S,getters:n,onSelect:d,accessors:r,components:o,onDoubleClick:p,onKeyPress:v,continuesPrior:a.lt(r.end(S),u,"day"),continuesAfter:a.gte(r.start(S),f,"day"),slotStart:u,slotEnd:f,selected:Hr(S,i),draggable:!0,onDragStart:function(){return h(S)},onDragEnd:function(){return c()}})}))}var ea=b.forwardRef(function(e,t){return b.createElement(mm,Object.assign({},e,{popperRef:t}))});ea.propTypes={accessors:M.object.isRequired,getters:M.object.isRequired,selected:M.object,components:M.object.isRequired,localizer:M.object.isRequired,position:M.object.isRequired,show:M.func.isRequired,events:M.array.isRequired,slotStart:M.instanceOf(Date).isRequired,slotEnd:M.instanceOf(Date),onSelect:M.func,onDoubleClick:M.func,onKeyPress:M.func,handleDragStart:M.func,style:M.object,offset:M.shape({x:M.number,y:M.number})};function gm(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,i=e.overlay,o=e.accessors,a=e.localizer,s=e.components,c=e.getters,l=e.selected,u=e.handleSelectEvent,f=e.handleDoubleClickEvent,d=e.handleKeyPressEvent,p=e.handleDragStart,v=e.onHide,h=e.overlayDisplay,m=k.useRef(null);if(!i.position)return null;var g=n;isNaN(n)||(g={x:n,y:n});var y=i.position,E=i.events,w=i.date,S=i.end;return b.createElement(Pu,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:i.target},function(D){var A=D.props;return b.createElement(ea,Object.assign({},A,{containerRef:t,ref:m,target:i.target,offset:g,accessors:o,getters:c,selected:l,components:s,localizer:a,position:y,show:h,events:E,slotStart:w,slotEnd:S,onSelect:u,onDoubleClick:f,onKeyPress:d,handleDragStart:p}))})}var ai=b.forwardRef(function(e,t){return b.createElement(gm,Object.assign({},e,{containerRef:t}))});ai.propTypes={popupOffset:M.oneOfType([M.number,M.shape({x:M.number,y:M.number})]),overlay:M.shape({position:M.object,events:M.array,date:M.instanceOf(Date),end:M.instanceOf(Date)}),accessors:M.object.isRequired,localizer:M.object.isRequired,components:M.object.isRequired,getters:M.object.isRequired,selected:M.object,handleSelectEvent:M.func,handleDoubleClickEvent:M.func,handleKeyPressEvent:M.func,handleDragStart:M.func,onHide:M.func,overlayDisplay:M.func};function ne(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Ot(r,e,t,{passive:!1})}function ym(e,t,r){return!e||kt(e,document.elementFromPoint(t,r))}function wm(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return Cs(i,".rbc-event",e)}function bm(e,t){var r=t.clientX,n=t.clientY,i=document.elementFromPoint(r,n);return Cs(i,".rbc-show-more",e)}function _r(e,t){return!!wm(e,t)}function Em(e,t){return!!bm(e,t)}function st(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Co=5,Sm=250,ta=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,o=r.longPressThreshold,a=o===void 0?250:o,s=r.validContainers,c=s===void 0?[]:s;te(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=a,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ne("touchmove",function(){},window),this._removeKeyDownListener=ne("keydown",this._keyListener),this._removeKeyUpListener=ne("keyup",this._keyListener),this._removeDropFromOutsideListener=ne("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ne("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return re(e,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var a=i.indexOf(n);a!==-1&&i.splice(a,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a,s=this._listeners[r]||[];return s.forEach(function(c){a===void 0&&(a=c.apply(void 0,i))}),a}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Mo(n,rt(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,o=null,a=null,s=null,c=function(d){o=setTimeout(function(){u(),r(d)},i.longPressThreshold),a=ne("touchmove",function(){return u()}),s=ne("touchend",function(){return u()})},l=ne("touchstart",c),u=function(){o&&clearTimeout(o),a&&a(),s&&s(),o=null,a=null,s=null};return n&&c(n),function(){u(),l()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=ne("mousedown",function(o){r._removeInitialEventListener(),r._handleInitialEvent(o),r._removeInitialEventListener=ne("mousedown",r._handleInitialEvent)}),i=ne("touchstart",function(o){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,o)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=st(r),i=n.pageX,o=n.pageY,a=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:a,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=st(r),i=n.pageX,o=n.pageY,a=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:a,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(!this.isDetached){var n=st(r),i=n.clientX,o=n.clientY,a=n.pageX,s=n.pageY,c=this.container(),l,u;if(!(r.which===3||r.button===2||!ym(c,i,o))){if(!this.globalMouse&&c&&!kt(c,r.target)){var f=Dm(0),d=f.top,p=f.left,v=f.bottom,h=f.right;if(u=rt(c),l=Mo({top:u.top-d,left:u.left-p,bottom:u.bottom+v,right:u.right+h},{top:s,left:a}),!l)return}var m=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:a,y:s,clientX:i,clientY:o});if(m!==!1)switch(r.type){case"mousedown":this._removeEndListener=ne("mouseup",this._handleTerminatingEvent),this._onEscListener=ne("keydown",this._handleTerminatingEvent),this._removeMoveListener=ne("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=ne("touchend",this._handleTerminatingEvent),this._removeMoveListener=ne("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(o){return!!n.closest(o)})}},{key:"_handleTerminatingEvent",value:function(r){var n=st(r),i=n.pageX,o=n.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var a=!this.container||kt(this.container(),r.target),s=this._isWithinValidContainer(r),c=this._selectRect,l=this.isClick(i,o);return this._initialEventData=null,r.key==="Escape"||!s?this.emit("reset"):l&&a?this._handleClickEvent(r):l?this.emit("reset"):this.emit("select",c)}}},{key:"_handleClickEvent",value:function(r){var n=st(r),i=n.pageX,o=n.pageY,a=n.clientX,s=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<Sm?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:a,clientY:s})):(this._lastClickData={timestamp:c},this.emit("click",{x:i,y:o,clientX:a,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,o=n.y,a=st(r),s=a.pageX,c=a.pageY,l=Math.abs(i-s),u=Math.abs(o-c),f=Math.min(s,i),d=Math.min(c,o),p=this.selecting;this.isClick(s,c)&&!p&&!(l||u)||(this.selecting=!0,this._selectRect={top:d,left:f,x:s,y:c,right:f+l,bottom:d+u},p||this.emit("selectStart",this._initialEventData),this.isClick(s,c)||this.emit("selecting",this._selectRect),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,o=i.x,a=i.y,s=i.isTouch;return!s&&Math.abs(r-o)<=Co&&Math.abs(n-a)<=Co}}]),e}();function Dm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return _n(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Mo(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=rt(e),i=n.top,o=n.left,a=n.right,s=a===void 0?o:a,c=n.bottom,l=c===void 0?i:c,u=rt(t),f=u.top,d=u.left,p=u.right,v=p===void 0?d:p,h=u.bottom,m=h===void 0?f:h;return!(l-r<f||i+r>m||s-r<d||o+r>v)}function rt(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Po("left"),n=t.top+Po("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Po(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Om=function(e){ae(r,e);var t=ce(r);function r(n,i){var o;return te(this,r),o=t.call(this,n,i),o.state={selecting:!1},o.containerRef=k.createRef(),o}return re(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(i){!i.selectable&&this.props.selectable&&this._selectable(),i.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var i=this.props,o=i.range,a=i.getNow,s=i.getters,c=i.date,l=i.components.dateCellWrapper,u=i.localizer,f=this.state,d=f.selecting,p=f.startIdx,v=f.endIdx,h=a();return b.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(m,g){var y=d&&g>=p&&g<=v,E=s.dayProp(m),w=E.className,S=E.style;return b.createElement(l,{key:g,value:m,range:o},b.createElement("div",{style:S,className:ee("rbc-day-bg",w,y&&"rbc-selected-cell",u.isSameDate(m,h)&&"rbc-today",c&&u.neq(c,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var i=this,o=this.containerRef.current,a=this._selector=new ta(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,u){if(!_r(o,l)&&!Em(o,l)){var f=rt(o),d=i.props,p=d.range,v=d.rtl;if(hm(f,l)){var h=Qs(f,l.x,v,p.length);i._selectSlot({startIdx:h,endIdx:h,action:u,box:l})}}i._initial={},i.setState({selecting:!1})};a.on("selecting",function(c){var l=i.props,u=l.range,f=l.rtl,d=-1,p=-1;if(i.state.selecting||(X(i.props.onSelectStart,[c]),i._initial={x:c.x,y:c.y}),a.isSelected(o)){var v=rt(o),h=pm(i._initial,v,c,u.length,f);d=h.startIdx,p=h.endIdx}i.setState({selecting:!0,startIdx:d,endIdx:p})}),a.on("beforeSelect",function(c){if(i.props.selectable==="ignoreEvents")return!_r(i.containerRef.current,c)}),a.on("click",function(c){return s(c,"click")}),a.on("doubleClick",function(c){return s(c,"doubleClick")}),a.on("select",function(c){i._selectSlot(Y(Y({},i.state),{},{action:"select",bounds:c})),i._initial={},i.setState({selecting:!1}),X(i.props.onSelectEnd,[i.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(i){var o=i.endIdx,a=i.startIdx,s=i.action,c=i.bounds,l=i.box;o!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:o,action:s,bounds:c,box:l,resourceId:this.props.resourceId})}}]),r}(b.Component),be={propTypes:{slotMetrics:M.object.isRequired,selected:M.object,isAllDay:M.bool,accessors:M.object.isRequired,localizer:M.object.isRequired,components:M.object.isRequired,getters:M.object.isRequired,onSelect:M.func,onDoubleClick:M.func,onKeyPress:M.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var i=t.accessors,o=t.getters,a=t.onSelect,s=t.onDoubleClick,c=t.onKeyPress,l=t.localizer,u=t.slotMetrics,f=t.components,d=t.resizable,p=u.continuesPrior(r),v=u.continuesAfter(r);return b.createElement(Js,{event:r,getters:o,localizer:l,accessors:i,components:f,onSelect:a,onDoubleClick:s,onKeyPress:c,continuesPrior:p,continuesAfter:v,slotStart:u.first,slotEnd:u.last,selected:Hr(r,n),resizable:d})},renderSpan:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(r)/t*100+"%";return b.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},ra=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){var i=this,o=this.props,a=o.segments,s=o.slotMetrics.slots,c=o.className,l=1;return b.createElement("div",{className:ee(c,"rbc-row")},a.reduce(function(u,f,d){var p=f.event,v=f.left,h=f.right,m=f.span,g="_lvl_"+d,y=v-l,E=be.renderEvent(i.props,p);return y&&u.push(be.renderSpan(s,y,"".concat(g,"_gap"))),u.push(be.renderSpan(s,m,g,E)),l=h+1,u},[]))}}]),r}(b.Component);ra.defaultProps=Y({},be.defaultProps);function na(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,n)}}function Tm(e,t,r,n){var i=na({dateRange:t,localizer:n}),o=i.first,a=i.last,s=n.diff(o,a,"day"),c=n.max(n.startOf(r.start(e),"day"),o),l=n.min(n.ceil(r.end(e),"day"),a),u=Oh(t,function(d){return n.isSameDate(d,c)}),f=n.diff(c,l,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:u+1,right:Math.max(u+f,1)}}function ia(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,o=[],a=[];for(r=0;r<e.length;r++){for(i=e[r],n=0;n<o.length&&Am(i,o[n]);n++);n>=t?a.push(i):(o[n]||(o[n]=[])).push(i)}for(r=0;r<o.length;r++)o[r].sort(function(s,c){return s.left-c.left});return{levels:o,extra:a}}function jt(e,t,r,n,i){var o={start:n.start(e),end:n.end(e)},a={start:t,end:r};return i.inEventRange({event:o,range:a})}function Am(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function oa(e,t,r,n){var i={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},o={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:i,evtB:o})}var sa=function(t,r){return t.left<=r&&t.right>=r},$o=function(t,r){return t.filter(function(n){return sa(n,r)}).length},aa=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){for(var i=this.props,o=i.segments,a=i.slotMetrics.slots,s=ia(o).levels[0],c=1,l=1,u=[];c<=a;){var f="_lvl_"+c,d=s.filter(function(E){return sa(E,c)})[0]||{},p=d.event,v=d.left,h=d.right,m=d.span;if(!p){c++;continue}var g=Math.max(0,v-l);if(this.canRenderSlotEvent(v,m)){var y=be.renderEvent(this.props,p);g&&u.push(be.renderSpan(a,g,f+"_gap")),u.push(be.renderSpan(a,m,f,y)),l=c=h+1}else g&&u.push(be.renderSpan(a,g,f+"_gap")),u.push(be.renderSpan(a,1,f,this.renderShowMore(o,c))),l=c=c+1}return b.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(i,o){var a=this.props.segments;return Rh(i,i+o).every(function(s){var c=$o(a,s);return c===1})}},{key:"renderShowMore",value:function(i,o){var a=this,s=this.props.localizer,c=$o(i,o);return c?b.createElement("button",{type:"button",key:"sm_"+o,className:ee("rbc-button-link","rbc-show-more"),onClick:function(u){return a.showMore(o,u)}},s.messages.showMore(c)):!1}},{key:"showMore",value:function(i,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(i,o.target)}}]),r}(b.Component);aa.defaultProps=Y({},be.defaultProps);var xm=function(t){var r=t.children;return b.createElement("div",{className:"rbc-row-content-scroll-container"},r)},_m=function(t,r){return t.left<=r&&t.right>=r},Rm=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function ca(){return ks(function(e){for(var t=e.range,r=e.events,n=e.maxRows,i=e.minRows,o=e.accessors,a=e.localizer,s=na({dateRange:t,localizer:a}),c=s.first,l=s.last,u=r.map(function(h){return Tm(h,t,o,a)}),f=ia(u,Math.max(n-1,1)),d=f.levels,p=f.extra,v=p.length>0?i-1:i;d.length<v;)d.push([]);return{first:c,last:l,levels:d,extra:p,range:t,slots:t.length,clone:function(m){var g=ca();return g(Y(Y({},e),m))},getDateForSlot:function(m){return t[m]},getSlotForDate:function(m){return t.find(function(g){return a.isSameDate(g,m)})},getEventsForSlot:function(m){return u.filter(function(g){return _m(g,m)}).map(function(g){return g.event})},continuesPrior:function(m){return a.continuesPrior(o.start(m),c)},continuesAfter:function(m){var g=o.start(m),y=o.end(m);return a.continuesAfter(g,y,l)}}},Rm)}var Rr=function(e){ae(r,e);var t=ce(r);function r(){var n;te(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),n.handleSelectSlot=function(s){var c=n.props,l=c.range,u=c.onSelectSlot;u(l.slice(s.start,s.end+1),s)},n.handleShowMore=function(s,c){var l=n.props,u=l.range,f=l.onShowMore,d=n.slotMetrics(n.props),p=nl(n.containerRef.current,".rbc-row-bg")[0],v;p&&(v=p.children[s-1]);var h=d.getEventsForSlot(s);f(h,u[s-1],v,s,c)},n.getContainer=function(){var s=n.props.container;return s?s():n.containerRef.current},n.renderHeadingCell=function(s,c){var l=n.props,u=l.renderHeader,f=l.getNow,d=l.localizer;return u({date:s,key:"header_".concat(c),className:ee("rbc-date-cell",d.isSameDate(s,f())&&"rbc-now")})},n.renderDummy=function(){var s=n.props,c=s.className,l=s.range,u=s.renderHeader,f=s.showAllEvents;return b.createElement("div",{className:c,ref:n.containerRef},b.createElement("div",{className:ee("rbc-row-content",f&&"rbc-row-content-scrollable")},u&&b.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),b.createElement("div",{className:"rbc-row",ref:n.eventRowRef},b.createElement("div",{className:"rbc-row-segment"},b.createElement("div",{className:"rbc-event"},b.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=k.createRef(),n.headingRowRef=k.createRef(),n.eventRowRef=k.createRef(),n.slotMetrics=ca(),n}return re(r,[{key:"getRowLimit",value:function(){var i,o=tn(this.eventRowRef.current),a=(i=this.headingRowRef)!==null&&i!==void 0&&i.current?tn(this.headingRowRef.current):0,s=tn(this.containerRef.current)-a;return Math.max(Math.floor(s/o),1)}},{key:"render",value:function(){var i=this.props,o=i.date,a=i.rtl,s=i.range,c=i.className,l=i.selected,u=i.selectable,f=i.renderForMeasure,d=i.accessors,p=i.getters,v=i.components,h=i.getNow,m=i.renderHeader,g=i.onSelect,y=i.localizer,E=i.onSelectStart,w=i.onSelectEnd,S=i.onDoubleClick,D=i.onKeyPress,A=i.resourceId,O=i.longPressThreshold,T=i.isAllDay,x=i.resizable,R=i.showAllEvents;if(f)return this.renderDummy();var _=this.slotMetrics(this.props),N=_.levels,B=_.extra,H=R?xm:Ce,W=v.weekWrapper,U={selected:l,accessors:d,getters:p,localizer:y,components:v,onSelect:g,onDoubleClick:S,onKeyPress:D,resourceId:A,slotMetrics:_,resizable:x};return b.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},b.createElement(Om,{localizer:y,date:o,getNow:h,rtl:a,range:s,selectable:u,container:this.getContainer,getters:p,onSelectStart:E,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:v,longPressThreshold:O,resourceId:A}),b.createElement("div",{className:ee("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},m&&b.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),b.createElement(H,null,b.createElement(W,Object.assign({isAllDay:T},U,{rtl:this.props.rtl}),N.map(function(J,ie){return b.createElement(ra,Object.assign({key:ie,segments:J},U))}),!!B.length&&b.createElement(aa,Object.assign({segments:B,onShowMore:this.handleShowMore},U))))))}}]),r}(b.Component);Rr.defaultProps={minRows:0,maxRows:1/0};var la=function(t){var r=t.label;return b.createElement("span",{role:"columnheader","aria-sort":"none"},r)},Cm=function(t){var r=t.label,n=t.drilldownView,i=t.onDrillDown;return n?b.createElement("button",{type:"button",className:"rbc-button-link",onClick:i,role:"cell"},r):b.createElement("span",null,r)},Mm=["date","className"],Pm=function(t,r,n,i,o){return t.filter(function(a){return jt(a,r,n,i,o)})},Ur=function(e){ae(r,e);var t=ce(r);function r(){var n;te(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(s,c){var l=n.props,u=l.events,f=l.components,d=l.selectable,p=l.getNow,v=l.selected,h=l.date,m=l.localizer,g=l.longPressThreshold,y=l.accessors,E=l.getters,w=l.showAllEvents,S=n.state,D=S.needLimitMeasure,A=S.rowLimit,O=Pm(Fa(u),s[0],s[s.length-1],y,m);return O.sort(function(T,x){return oa(T,x,y,m)}),b.createElement(Rr,{key:c,ref:c===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:p,date:h,range:s,events:O,maxRows:w?1/0:A,selected:v,selectable:d,components:f,accessors:y,getters:E,localizer:m,renderHeader:n.readerDateHeading,renderForMeasure:D,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:g,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:w})},n.readerDateHeading=function(s){var c=s.date,l=s.className,u=Te(s,Mm),f=n.props,d=f.date,p=f.getDrilldownView,v=f.localizer,h=v.neq(c,d,"month"),m=v.isSameDate(c,d),g=p(c),y=v.format(c,"dateFormat"),E=n.props.components.dateHeader||Cm;return b.createElement("div",Object.assign({},u,{className:ee(l,h&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),b.createElement(E,{label:y,date:c,drilldownView:g,isOffRange:h,onDrillDown:function(S){return n.handleHeadingClick(c,g,S)}}))},n.handleSelectSlot=function(s,c){n._pendingSelection=n._pendingSelection.concat(s),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(c)})},n.handleHeadingClick=function(s,c,l){l.preventDefault(),n.clearSelection(),X(n.props.onDrillDown,[s,c])},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onKeyPressEvent,c)},n.handleShowMore=function(s,c,l,u,f){var d=n.props,p=d.popup,v=d.onDrillDown,h=d.onShowMore,m=d.getDrilldownView,g=d.doShowMoreDrillDown;if(n.clearSelection(),p){var y=fs(l,n.containerRef.current);n.setState({overlay:{date:c,events:s,position:y,target:f}})}else g&&X(v,[c,m(c)||se.DAY]);X(h,[s,c,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=k.createRef(),n.slotRowRef=k.createRef(),n._bgRows=[],n._pendingSelection=[],n}return re(r,[{key:"componentDidMount",value:function(){var i=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||ds(function(){o=!1,i.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var i=this.props,o=i.date,a=i.localizer,s=i.className,c=a.visibleDays(o,a),l=Wc(c,7);return this._weekCount=l.length,b.createElement("div",{className:ee("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},b.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(i){var o=this.props,a=o.localizer,s=o.components,c=i[0],l=i[i.length-1],u=s.header||la;return a.range(c,l,"day").map(function(f,d){return b.createElement("div",{key:"header_"+d,className:"rbc-header"},b.createElement(u,{date:f,localizer:a,label:a.format(f,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var i,o,a=this,s=(i=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&i!==void 0?i:{},c=this.props,l=c.accessors,u=c.localizer,f=c.components,d=c.getters,p=c.selected,v=c.popupOffset,h=c.handleDragStart,m=function(){return a.setState({overlay:null})};return b.createElement(ai,{overlay:s,accessors:l,localizer:u,components:f,getters:d,selected:p,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(i){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(c,l){return+c-+l});var a=new Date(o[0]),s=new Date(o[o.length-1]);s.setDate(o[o.length-1].getDate()+1),X(this.props.onSelectSlot,{slots:o,start:a,end:s,action:i.action,bounds:i.bounds,box:i.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=i.date,s=i.localizer;return{date:a,needLimitMeasure:s.neq(a,o.date,"month")}}}]),r}(b.Component);Ur.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),i=r.lastVisibleDay(e,r);return{start:n,end:i}};Ur.navigate=function(e,t,r){var n=r.localizer;switch(t){case fe.PREVIOUS:return n.add(e,-1,"month");case fe.NEXT:return n.add(e,1,"month");default:return e}};Ur.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var ko=function(t){var r=t.min,n=t.max,i=t.step,o=t.slots,a=t.localizer;return"".concat(+a.startOf(r,"minutes"))+"".concat(+a.startOf(n,"minutes"))+"".concat(i,"-").concat(o)};function ci(e){for(var t=e.min,r=e.max,n=e.step,i=e.timeslots,o=e.localizer,a=ko({start:t,end:r,step:n,timeslots:i,localizer:o}),s=1+o.getTotalMin(t,r),c=o.getMinutesFromMidnight(t),l=Math.ceil((s-1)/(n*i)),u=l*i,f=new Array(l),d=new Array(u),p=0;p<l;p++){f[p]=new Array(i);for(var v=0;v<i;v++){var h=p*i+v,m=h*n;d[h]=f[p][v]=o.getSlotDate(t,c,m)}}var g=d.length*n;d.push(o.getSlotDate(t,c,g));function y(E){var w=o.diff(t,E,"minutes")+o.getDstOffset(t,E);return Math.min(w,s)}return{groups:f,update:function(w){return ko(w)!==a?ci(w):this},dateIsInGroup:function(w,S){var D=f[S+1];return o.inRange(w,f[S][0],D?D[0]:r,"minutes")},nextSlot:function(w){var S=d[Math.min(d.indexOf(w)+1,d.length-1)];return S===w&&(S=o.add(w,n,"minutes")),S},closestSlotToPosition:function(w){var S=Math.min(d.length-1,Math.max(0,Math.floor(w*u)));return d[S]},closestSlotFromPoint:function(w,S){var D=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((w.y-S.top)/D)},closestSlotFromDate:function(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(w,t,"minutes"))return d[0];if(o.gt(w,r,"minutes"))return d[d.length-1];var D=o.diff(t,w,"minutes");return d[(D-D%n)/n+S]},startsBeforeDay:function(w){return o.lt(w,t,"day")},startsAfterDay:function(w){return o.gt(w,r,"day")},startsBefore:function(w){return o.lt(o.merge(t,w),t,"minutes")},startsAfter:function(w){return o.gt(o.merge(r,w),r,"minutes")},getRange:function(w,S,D,A){D||(w=o.min(r,o.max(t,w))),A||(S=o.min(r,o.max(t,S)));var O=y(w),T=y(S),x=T>n*u&&!o.eq(r,S)?(O-n)/(n*u)*100:O/(n*u)*100;return{top:x,height:T/(n*u)*100-x,start:y(w),startDate:w,end:y(S),endDate:S}},getCurrentTimePosition:function(w){var S=y(w),D=S/(n*u)*100;return D}}}var $m=function(){function e(t,r){var n=r.accessors,i=r.slotMetrics;te(this,e);var o=i.getRange(n.start(t),n.end(t)),a=o.start,s=o.startDate,c=o.end,l=o.endDate,u=o.top,f=o.height;this.start=a,this.end=c,this.startMs=+s,this.endMs=+l,this.top=u,this.height=f,this.data=t}return re(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,o=r._width,a=n.indexOf(this)+1;return i+a*o}}]),e}();function km(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function Nm(e){for(var t=Xh(e,["startMs",function(s){return-s.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var i=0;i<t.length;i++){var o=t[i];if(!(n.endMs>o.startMs)){if(i>0){var a=t.splice(i,1)[0];r.push(a)}break}}}return r}function ua(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,o=t.map(function(u){return new $m(u,{slotMetrics:n,accessors:i})}),a=Nm(o),s=[],c=function(){var f=a[l],d=s.find(function(h){return h.end>f.start||Math.abs(f.start-h.start)<r});if(!d)return f.rows=[],s.push(f),1;f.container=d;for(var p=null,v=d.rows.length-1;!p&&v>=0;v--)km(d.rows[v],f,r)&&(p=d.rows[v]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],d.rows.push(f))},l=0;l<a.length;l++)c();return a.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function fa(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var i=fa(e.friends[n],t,r);t=t>i?t:i}return t}function Lm(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,i=e.accessors,o=ua({events:t,minimumStartDifference:r,slotMetrics:n,accessors:i});o.sort(function(H,W){return H=H.style,W=W.style,H.top!==W.top?H.top>W.top?1:-1:H.top+H.height<W.top+W.height?1:-1});for(var a=0;a<o.length;++a)o[a].friends=[],delete o[a].style.left,delete o[a].style.left,delete o[a].idx,delete o[a].size;for(var s=0;s<o.length-1;++s)for(var c=o[s],l=c.style.top,u=c.style.top+c.style.height,f=s+1;f<o.length;++f){var d=o[f],p=d.style.top,v=d.style.top+d.style.height;(p>=l&&v<=u||v>l&&v<=u||p>=l&&p<u)&&(c.friends.push(d),d.friends.push(c))}for(var h=0;h<o.length;++h){for(var m=o[h],g=[],y=0;y<100;++y)g.push(1);for(var E=0;E<m.friends.length;++E)m.friends[E].idx!==void 0&&(g[m.friends[E].idx]=0);m.idx=g.indexOf(1)}for(var w=0;w<o.length;++w){var S=0;if(!o[w].size){var D=[],A=fa(o[w],0,D);S=100/(A+1),o[w].size=S;for(var O=0;O<D.length;++O)D[O].size=S}}for(var T=0;T<o.length;++T){var x=o[T];x.style.left=x.idx*x.size;for(var R=0,_=0;_<x.friends.length;++_){var N=x.friends[_].idx;R=R>N?R:N}R<=x.idx&&(x.size=100-x.idx*x.size);var B=x.idx===0?0:3;x.style.width="calc(".concat(x.size,"% - ").concat(B,"px)"),x.style.height="calc(".concat(x.style.height,"% - 2px)"),x.style.xOffset="calc(".concat(x.style.left,"% + ").concat(B,"px)")}return o}var No={overlap:ua,"no-overlap":Lm};function Fm(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Im(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in No&&(r=No[t]),Fm(r)?r.apply(this,arguments):[]}var da=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){var i=this.props,o=i.renderSlot,a=i.resource,s=i.group,c=i.getters,l=i.components,u=l===void 0?{}:l,f=u.timeSlotWrapper,d=f===void 0?Ce:f,p=c?c.slotGroupProp(s):{};return b.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),s.map(function(v,h){var m=c?c.slotProp(v,a):{};return b.createElement(d,{key:h,value:v,resource:a},b.createElement("div",Object.assign({},m,{className:ee("rbc-time-slot",m.className)}),o&&o(v,h)))}))}}]),r}(k.Component);function Ve(e){return typeof e=="string"?e:e+"%"}function Bm(e){var t=e.style,r=e.className,n=e.event,i=e.accessors,o=e.rtl,a=e.selected,s=e.label,c=e.continuesPrior,l=e.continuesAfter,u=e.getters,f=e.onClick,d=e.onDoubleClick,p=e.isBackgroundEvent,v=e.onKeyPress,h=e.components,m=h.event,g=h.eventWrapper,y=i.title(n),E=i.tooltip(n),w=i.end(n),S=i.start(n),D=u.eventProp(n,S,w,a),A=t.height,O=t.top,T=t.width,x=t.xOffset,R=[b.createElement("div",{key:"1",className:"rbc-event-label"},s),b.createElement("div",{key:"2",className:"rbc-event-content"},m?b.createElement(m,{event:n,title:y}):y)],_=p?Y(Y({},D.style),{},Xe({top:Ve(O),height:Ve(A),width:"calc(".concat(T," + 10px)")},o?"right":"left",Ve(Math.max(0,x)))):Y(Y({},D.style),{},Xe({top:Ve(O),width:Ve(T),height:Ve(A)},o?"right":"left",Ve(x)));return b.createElement(g,Object.assign({type:"time"},e),b.createElement("div",{onClick:f,onDoubleClick:d,style:_,onKeyPress:v,title:E?(typeof s=="string"?s+": ":"")+E:void 0,className:ee(p?"rbc-background-event":"rbc-event",r,D.className,{"rbc-selected":a,"rbc-event-continues-earlier":c,"rbc-event-continues-later":l})},R))}var zm=function(t){var r=t.children,n=t.className,i=t.style,o=t.innerRef;return b.createElement("div",{className:n,style:i,ref:o},r)},Wm=b.forwardRef(function(e,t){return b.createElement(zm,Object.assign({},e,{innerRef:t}))}),jm=["dayProp"],Hm=["eventContainerWrapper"],ha=function(e){ae(r,e);var t=ce(r);function r(){var n;te(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(s){var c=s.events,l=s.isBackgroundEvent,u=n.props,f=u.rtl,d=u.selected,p=u.accessors,v=u.localizer,h=u.getters,m=u.components,g=u.step,y=u.timeslots,E=u.dayLayoutAlgorithm,w=u.resizable,S=Ia(n),D=S.slotMetrics,A=v.messages,O=Im({events:c,accessors:p,slotMetrics:D,minimumStartDifference:Math.ceil(g*y/2),dayLayoutAlgorithm:E});return O.map(function(T,x){var R=T.event,_=T.style,N=p.end(R),B=p.start(R),H="eventTimeRangeFormat",W,U=D.startsBeforeDay(B),J=D.startsAfterDay(N);U?H="eventTimeRangeEndFormat":J&&(H="eventTimeRangeStartFormat"),U&&J?W=A.allDay:W=v.format({start:B,end:N},H);var ie=U||D.startsBefore(B),C=J||D.startsAfter(N);return b.createElement(Bm,{style:_,event:R,label:W,key:"evt_"+x,getters:h,rtl:f,components:m,continuesPrior:ie,continuesAfter:C,accessors:p,resource:n.props.resource,selected:Hr(R,d),onClick:function($){return n._select(Y(Y({},R),{},{sourceResource:n.props.resource}),$)},onDoubleClick:function($){return n._doubleClick(R,$)},isBackgroundEvent:l,onKeyPress:function($){return n._keyPress(R,$)},resizable:w})})},n._selectable=function(){var s=n.containerRef.current,c=n.props,l=c.longPressThreshold,u=c.localizer,f=n._selector=new ta(function(){return s},{longPressThreshold:l}),d=function(m){var g=n.props.onSelecting,y=n.state||{},E=p(m),w=E.startDate,S=E.endDate;g&&(u.eq(y.startDate,w,"minutes")&&u.eq(y.endDate,S,"minutes")||g({start:w,end:S,resourceId:n.props.resource})===!1)||(n.state.start!==E.start||n.state.end!==E.end||n.state.selecting!==E.selecting)&&n.setState(E)},p=function(m){var g=n.slotMetrics.closestSlotFromPoint(m,rt(s));n.state.selecting||(n._initialSlot=g);var y=n._initialSlot;u.lte(y,g)?g=n.slotMetrics.nextSlot(g):u.gt(y,g)&&(y=n.slotMetrics.nextSlot(y));var E=n.slotMetrics.getRange(u.min(y,g),u.max(y,g));return Y(Y({},E),{},{selecting:!0,top:"".concat(E.top,"%"),height:"".concat(E.height,"%")})},v=function(m,g){if(!_r(n.containerRef.current,m)){var y=p(m),E=y.startDate,w=y.endDate;n._selectSlot({startDate:E,endDate:w,action:g,box:m})}n.setState({selecting:!1})};f.on("selecting",d),f.on("selectStart",d),f.on("beforeSelect",function(h){if(n.props.selectable==="ignoreEvents")return!_r(n.containerRef.current,h)}),f.on("click",function(h){return v(h,"click")}),f.on("doubleClick",function(h){return v(h,"doubleClick")}),f.on("select",function(h){n.state.selecting&&(n._selectSlot(Y(Y({},n.state),{},{action:"select",bounds:h})),n.setState({selecting:!1}))}),f.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(s){for(var c=s.startDate,l=s.endDate,u=s.action,f=s.bounds,d=s.box,p=c,v=[];n.props.localizer.lte(p,l);)v.push(p),p=new Date(+p+n.props.step*60*1e3);X(n.props.onSelectSlot,{slots:v,start:c,end:l,resourceId:n.props.resource,action:u,bounds:f,box:d})},n._select=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onSelectEvent,c)},n._doubleClick=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onDoubleClickEvent,c)},n._keyPress=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onKeyPressEvent,c)},n.slotMetrics=ci(n.props),n.containerRef=k.createRef(),n}return re(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(i){i.selectable&&!this.props.selectable&&this._selectable(),!i.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(i)}},{key:"componentDidUpdate",value:function(i,o){var a=this.props,s=a.getNow,c=a.isNow,l=a.localizer,u=a.date,f=a.min,d=a.max,p=l.neq(i.getNow(),s(),"minutes");if(i.isNow!==c||p){if(this.clearTimeIndicatorInterval(),c){var v=!p&&l.eq(i.date,u,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(v)}}else c&&(l.neq(i.min,f,"minutes")||l.neq(i.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){i.intervalTriggered=!0,i.positionTimeIndicator(),i.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var i=this.props,o=i.min,a=i.max,s=i.getNow,c=s();if(c>=o&&c<=a){var l=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var i=this.props,o=i.date,a=i.max,s=i.rtl,c=i.isNow,l=i.resource,u=i.accessors,f=i.localizer,d=i.getters,p=d.dayProp,v=Te(d,jm),h=i.components,m=h.eventContainerWrapper,g=Te(h,Hm),y=this.slotMetrics,E=this.state,w=E.selecting,S=E.top,D=E.height,A=E.startDate,O=E.endDate,T={start:A,end:O},x=p(a),R=x.className,_=x.style,N=g.dayColumnWrapper||Wm;return b.createElement(N,{ref:this.containerRef,date:o,style:_,className:ee(R,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:y},y.groups.map(function(B,H){return b.createElement(da,{key:H,group:B,resource:l,getters:v,components:g})}),b.createElement(m,{localizer:f,resource:l,accessors:u,getters:v,components:g,slotMetrics:y},b.createElement("div",{className:ee("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&b.createElement("div",{className:"rbc-slot-selection",style:{top:S,height:D}},b.createElement("span",null,f.format(T,"selectRangeFormat"))),c&&this.intervalTriggered&&b.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),r}(b.Component);ha.defaultProps={dragThroughEvents:!0,timeslots:2};function Um(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var Ym=function(t){var r=t.min,n=t.max,i=t.timeslots,o=t.step,a=t.localizer,s=t.getNow,c=t.resource,l=t.components,u=t.getters,f=t.gutterRef,d=l.timeGutterWrapper,p=k.useMemo(function(){return Um({min:r,max:n,localizer:a})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),a]),v=p.start,h=p.end,m=k.useState(ci({min:v,max:h,timeslots:i,step:o,localizer:a})),g=Me(m,2),y=g[0],E=g[1];k.useEffect(function(){y&&E(y.update({min:v,max:h,timeslots:i,step:o,localizer:a}))},[v==null?void 0:v.toISOString(),h==null?void 0:h.toISOString(),i,o]);var w=k.useCallback(function(S,D){if(D)return null;var A=y.dateIsInGroup(s(),D);return b.createElement("span",{className:ee("rbc-label",A&&"rbc-now")},a.format(S,"timeGutterFormat"))},[y,a,s]);return b.createElement(d,{slotMetrics:y},b.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(S,D){return b.createElement(da,{key:D,group:S,resource:c,components:l,renderSlot:w,getters:u})})))},qm=b.forwardRef(function(e,t){return b.createElement(Ym,Object.assign({gutterRef:t},e))}),Vm=function(t){var r=t.label;return b.createElement(b.Fragment,null,r)},Km=function(e){ae(r,e);var t=ce(r);function r(){var n;te(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),n.handleHeaderClick=function(s,c,l){l.preventDefault(),X(n.props.onDrillDown,[s,c])},n.renderRow=function(s){var c=n.props,l=c.events,u=c.rtl,f=c.selectable,d=c.getNow,p=c.range,v=c.getters,h=c.localizer,m=c.accessors,g=c.components,y=c.resizable,E=m.resourceId(s),w=s?l.filter(function(S){return m.resource(S)===E}):l;return b.createElement(Rr,{isAllDay:!0,rtl:u,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:p,events:w,resourceId:E,className:"rbc-allday-cell",selectable:f,selected:n.props.selected,components:g,accessors:m,getters:v,localizer:h,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:y})},n}return re(r,[{key:"renderHeaderCells",value:function(i){var o=this,a=this.props,s=a.localizer,c=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,f=a.components.header,d=f===void 0?la:f,p=l();return i.map(function(v,h){var m=c(v),g=s.format(v,"dayFormat"),y=u(v),E=y.className,w=y.style,S=b.createElement(d,{date:v,label:g,localizer:s});return b.createElement("div",{key:h,style:w,className:ee("rbc-header",E,s.isSameDate(v,p)&&"rbc-today")},m?b.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return o.handleHeaderClick(v,m,A)}},S):b.createElement("span",null,S))})}},{key:"render",value:function(){var i=this,o=this.props,a=o.width,s=o.rtl,c=o.resources,l=o.range,u=o.events,f=o.getNow,d=o.accessors,p=o.selectable,v=o.components,h=o.getters,m=o.scrollRef,g=o.localizer,y=o.isOverflowing,E=o.components,w=E.timeGutterHeader,S=E.resourceHeader,D=S===void 0?Vm:S,A=o.resizable,O={};y&&(O[s?"marginLeft":"marginRight"]="".concat(Es()-1,"px"));var T=c.groupEvents(u);return b.createElement("div",{style:O,ref:m,className:ee("rbc-time-header",y&&"rbc-overflowing")},b.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},w&&b.createElement(w,null)),c.map(function(x,R){var _=Me(x,2),N=_[0],B=_[1];return b.createElement("div",{className:"rbc-time-header-content",key:N||R},B&&b.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},b.createElement("div",{className:"rbc-header"},b.createElement(D,{index:R,label:d.resourceTitle(B),resource:B}))),b.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},i.renderHeaderCells(l)),b.createElement(Rr,{isAllDay:!0,rtl:s,getNow:f,minRows:2,maxRows:i.props.allDayMaxRows+1,range:l,events:T.get(N)||[],resourceId:B&&N,className:"rbc-allday-cell",selectable:p,selected:i.props.selected,components:v,accessors:d,getters:h,localizer:g,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyPress:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:A}))}))}}]),r}(b.Component),rn={};function Gm(e,t){return{map:function(n){return e?e.map(function(i,o){return n([t.resourceId(i),i],o)}):[n([rn,null],0)]},groupEvents:function(n){var i=new Map;return e?(n.forEach(function(o){var a=t.resource(o)||rn;if(Array.isArray(a))a.forEach(function(c){var l=i.get(c)||[];l.push(o),i.set(c,l)});else{var s=i.get(a)||[];s.push(o),i.set(a,s)}}),i):(i.set(rn,n),i)}}}var yt=function(e){ae(r,e);var t=ce(r);function r(n){var i;return te(this,r),i=t.call(this,n),i.handleScroll=function(o){i.scrollRef.current&&(i.scrollRef.current.scrollLeft=o.target.scrollLeft)},i.handleResize=function(){ki(i.rafHandle),i.rafHandle=ds(i.checkOverflow)},i.handleKeyPressEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];X(i.props.onKeyPressEvent,a)},i.handleSelectEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];X(i.props.onSelectEvent,a)},i.handleDoubleClickEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];X(i.props.onDoubleClickEvent,a)},i.handleShowMore=function(o,a,s,c,l){var u=i.props,f=u.popup,d=u.onDrillDown,p=u.onShowMore,v=u.getDrilldownView,h=u.doShowMoreDrillDown;if(i.clearSelection(),f){var m=fs(s,i.containerRef.current);i.setState({overlay:{date:a,events:o,position:Y(Y({},m),{},{width:"200px"}),target:l}})}else h&&X(d,[a,v(a)||se.DAY]);X(p,[o,a,c])},i.handleSelectAllDaySlot=function(o,a){var s=i.props.onSelectSlot,c=new Date(o[0]),l=new Date(o[o.length-1]);l.setDate(o[o.length-1].getDate()+1),X(s,{slots:o,start:c,end:l,action:a.action,resourceId:a.resourceId})},i.overlayDisplay=function(){i.setState({overlay:null})},i.checkOverflow=function(){if(!i._updatingOverflow){var o=i.contentRef.current;if(o!=null&&o.scrollHeight){var a=o.scrollHeight>o.clientHeight;i.state.isOverflowing!==a&&(i._updatingOverflow=!0,i.setState({isOverflowing:a},function(){i._updatingOverflow=!1}))}}},i.memoizedResources=ks(function(o,a){return Gm(o,a)}),i.state={gutterWidth:void 0,isOverflowing:null},i.scrollRef=b.createRef(),i.contentRef=b.createRef(),i.containerRef=b.createRef(),i._scrollRatio=null,i.gutterRef=k.createRef(),i}return re(r,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),ki(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(i,o,a,s){var c=this,l=this.props,u=l.min,f=l.max,d=l.components,p=l.accessors,v=l.localizer,h=l.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,p),g=m.groupEvents(o),y=m.groupEvents(a);return m.map(function(E,w){var S=Me(E,2),D=S[0],A=S[1];return i.map(function(O,T){var x=(g.get(D)||[]).filter(function(_){return v.inRange(O,p.start(_),p.end(_),"day")}),R=(y.get(D)||[]).filter(function(_){return v.inRange(O,p.start(_),p.end(_),"day")});return b.createElement(ha,Object.assign({},c.props,{localizer:v,min:v.merge(O,u),max:v.merge(O,f),resource:A&&D,components:d,isNow:v.isSameDate(O,s),key:w+"-"+T,date:O,events:x,backgroundEvents:R,dayLayoutAlgorithm:h}))})})}},{key:"render",value:function(){var i,o=this.props,a=o.events,s=o.backgroundEvents,c=o.range,l=o.width,u=o.rtl,f=o.selected,d=o.getNow,p=o.resources,v=o.components,h=o.accessors,m=o.getters,g=o.localizer,y=o.min,E=o.max,w=o.showMultiDayTimes,S=o.longPressThreshold,D=o.resizable;l=l||this.state.gutterWidth;var A=c[0],O=c[c.length-1];this.slots=c.length;var T=[],x=[],R=[];return a.forEach(function(_){if(jt(_,A,O,h,g)){var N=h.start(_),B=h.end(_);h.allDay(_)||g.startAndEndAreDateOnly(N,B)||!w&&!g.isSameDate(N,B)?T.push(_):x.push(_)}}),s.forEach(function(_){jt(_,A,O,h,g)&&R.push(_)}),T.sort(function(_,N){return oa(_,N,h,g)}),b.createElement("div",{className:ee("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},b.createElement(Km,{range:c,events:T,width:l,rtl:u,getNow:d,localizer:g,selected:f,allDayMaxRows:this.props.showAllEvents?1/0:(i=this.props.allDayMaxRows)!==null&&i!==void 0?i:1/0,resources:this.memoizedResources(p,h),selectable:this.props.selectable,accessors:h,getters:m,components:v,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:D}),this.props.popup&&this.renderOverlay(),b.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},b.createElement(qm,{date:A,ref:this.gutterRef,localizer:g,min:g.merge(A,y),max:g.merge(A,E),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:v,className:"rbc-time-gutter",getters:m}),this.renderEvents(c,x,R,d())))}},{key:"renderOverlay",value:function(){var i,o,a=this,s=(i=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&i!==void 0?i:{},c=this.props,l=c.accessors,u=c.localizer,f=c.components,d=c.getters,p=c.selected,v=c.popupOffset,h=c.handleDragStart,m=function(){return a.setState({overlay:null})};return b.createElement(ai,{overlay:s,accessors:l,localizer:u,components:f,getters:d,selected:p,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var i=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,a=(o=i.gutterRef)!==null&&o!==void 0&&o.current?wn(i.gutterRef.current):void 0;a&&i.state.gutterWidth!==a&&i.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var i=this.contentRef.current;i.scrollTop=i.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=i.min,a=i.max,s=i.scrollToTime,c=i.localizer,l=c.diff(c.merge(s,o),s,"milliseconds"),u=c.diff(o,a,"milliseconds");this._scrollRatio=l/u}}]),r}(k.Component);yt.defaultProps={step:30,timeslots:2};var Xm=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Yr=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){var i=this.props,o=i.date,a=i.localizer,s=i.min,c=s===void 0?a.startOf(new Date,"day"):s,l=i.max,u=l===void 0?a.endOf(new Date,"day"):l,f=i.scrollToTime,d=f===void 0?a.startOf(new Date,"day"):f,p=i.enableAutoScroll,v=p===void 0?!0:p,h=Te(i,Xm),m=r.range(o,{localizer:a});return b.createElement(yt,Object.assign({},h,{range:m,eventOffset:10,localizer:a,min:c,max:u,scrollToTime:d,enableAutoScroll:v}))}}]),r}(b.Component);Yr.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Yr.navigate=function(e,t,r){var n=r.localizer;switch(t){case fe.PREVIOUS:return n.add(e,-1,"day");case fe.NEXT:return n.add(e,1,"day");default:return e}};Yr.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var Jm=["date","localizer","min","max","scrollToTime","enableAutoScroll"],We=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){var i=this.props,o=i.date,a=i.localizer,s=i.min,c=s===void 0?a.startOf(new Date,"day"):s,l=i.max,u=l===void 0?a.endOf(new Date,"day"):l,f=i.scrollToTime,d=f===void 0?a.startOf(new Date,"day"):f,p=i.enableAutoScroll,v=p===void 0?!0:p,h=Te(i,Jm),m=r.range(o,this.props);return b.createElement(yt,Object.assign({},h,{range:m,eventOffset:15,localizer:a,min:c,max:u,scrollToTime:d,enableAutoScroll:v}))}}]),r}(b.Component);We.defaultProps=yt.defaultProps;We.navigate=function(e,t,r){var n=r.localizer;switch(t){case fe.PREVIOUS:return n.add(e,-1,"week");case fe.NEXT:return n.add(e,1,"week");default:return e}};We.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),i=r.startOf(e,"week",n),o=r.endOf(e,"week",n);return r.range(i,o)};We.title=function(e,t){var r=t.localizer,n=We.range(e,{localizer:r}),i=Ko(n),o=i[0],a=i.slice(1);return r.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var Zm=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function li(e,t){return We.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Zt=function(e){ae(r,e);var t=ce(r);function r(){return te(this,r),t.apply(this,arguments)}return re(r,[{key:"render",value:function(){var i=this.props,o=i.date,a=i.localizer,s=i.min,c=s===void 0?a.startOf(new Date,"day"):s,l=i.max,u=l===void 0?a.endOf(new Date,"day"):l,f=i.scrollToTime,d=f===void 0?a.startOf(new Date,"day"):f,p=i.enableAutoScroll,v=p===void 0?!0:p,h=Te(i,Zm),m=li(o,this.props);return b.createElement(yt,Object.assign({},h,{range:m,eventOffset:15,localizer:a,min:c,max:u,scrollToTime:d,enableAutoScroll:v}))}}]),r}(b.Component);Zt.defaultProps=yt.defaultProps;Zt.range=li;Zt.navigate=We.navigate;Zt.title=function(e,t){var r=t.localizer,n=li(e,{localizer:r}),i=Ko(n),o=i[0],a=i.slice(1);return r.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};function je(e){var t=e.accessors,r=e.components,n=e.date,i=e.events,o=e.getters,a=e.length,s=e.localizer,c=e.onDoubleClickEvent,l=e.onSelectEvent,u=e.selected,f=k.useRef(null),d=k.useRef(null),p=k.useRef(null),v=k.useRef(null),h=k.useRef(null);k.useEffect(function(){y()});var m=function(A,O,T){var x=r.event,R=r.date;return O=O.filter(function(_){return jt(_,s.startOf(A,"day"),s.endOf(A,"day"),t,s)}),O.map(function(_,N){var B=t.title(_),H=t.end(_),W=t.start(_),U=o.eventProp(_,W,H,Hr(_,u)),J=N===0&&s.format(A,"agendaDateFormat"),ie=N===0?b.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},R?b.createElement(R,{day:A,label:J}):J):!1;return b.createElement("tr",{key:T+"_"+N,className:U.className,style:U.style},ie,b.createElement("td",{className:"rbc-agenda-time-cell"},g(A,_)),b.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(P){return l&&l(_,P)},onDoubleClick:function(P){return c&&c(_,P)}},x?b.createElement(x,{event:_,title:B}):B))},[])},g=function(A,O){var T="",x=r.time,R=s.messages.allDay,_=t.end(O),N=t.start(O);return t.allDay(O)||(s.eq(N,_)?R=s.format(N,"agendaTimeFormat"):s.isSameDate(N,_)?R=s.format({start:N,end:_},"agendaTimeRangeFormat"):s.isSameDate(A,N)?R=s.format(N,"agendaTimeFormat"):s.isSameDate(A,_)&&(R=s.format(_,"agendaTimeFormat"))),s.gt(A,N,"day")&&(T="rbc-continues-prior"),s.lt(A,_,"day")&&(T+=" rbc-continues-after"),b.createElement("span",{className:T.trim()},x?b.createElement(x,{event:O,day:A,label:R}):R)},y=function(){if(h.current){var A=f.current,O=h.current.firstChild;if(O){var T=v.current.scrollHeight>v.current.clientHeight,x=[],R=x;x=[wn(O.children[0]),wn(O.children[1])],(R[0]!==x[0]||R[1]!==x[1])&&(d.current.style.width=x[0]+"px",p.current.style.width=x[1]+"px"),T?(_u(A,"rbc-header-overflowing"),A.style.marginRight=Es()+"px"):Ru(A,"rbc-header-overflowing")}}},E=s.messages,w=s.add(n,a,"day"),S=s.range(n,w,"day");return i=i.filter(function(D){return jt(D,s.startOf(n,"day"),s.endOf(w,"day"),t,s)}),i.sort(function(D,A){return+t.start(D)-+t.start(A)}),b.createElement("div",{className:"rbc-agenda-view"},i.length!==0?b.createElement(b.Fragment,null,b.createElement("table",{ref:f,className:"rbc-agenda-table"},b.createElement("thead",null,b.createElement("tr",null,b.createElement("th",{className:"rbc-header",ref:d},E.date),b.createElement("th",{className:"rbc-header",ref:p},E.time),b.createElement("th",{className:"rbc-header"},E.event)))),b.createElement("div",{className:"rbc-agenda-content",ref:v},b.createElement("table",{className:"rbc-agenda-table"},b.createElement("tbody",{ref:h},S.map(function(D,A){return m(D,i,A)}))))):b.createElement("span",{className:"rbc-agenda-empty"},E.noEventsInRange))}je.defaultProps={length:30};je.range=function(e,t){var r=t.length,n=r===void 0?je.defaultProps.length:r,i=t.localizer,o=i.add(e,n,"day");return{start:e,end:o}};je.navigate=function(e,t,r){var n=r.length,i=n===void 0?je.defaultProps.length:n,o=r.localizer;switch(t){case fe.PREVIOUS:return o.add(e,-i,"day");case fe.NEXT:return o.add(e,i,"day");default:return e}};je.title=function(e,t){var r=t.length,n=r===void 0?je.defaultProps.length:r,i=t.localizer,o=i.add(e,n,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var Ke,hr=(Ke={},Xe(Ke,se.MONTH,Ur),Xe(Ke,se.WEEK,We),Xe(Ke,se.WORK_WEEK,Zt),Xe(Ke,se.DAY,Yr),Xe(Ke,se.AGENDA,je),Ke),Qm=["action","date","today"];function eg(e,t){var r=t.action,n=t.date,i=t.today,o=Te(t,Qm);switch(e=typeof e=="string"?hr[e]:e,r){case fe.TODAY:n=i||new Date;break;case fe.DATE:break;default:Ct(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,o)}return n}var tg=function(e){ae(r,e);var t=ce(r);function r(){var n;te(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),n.navigate=function(s){n.props.onNavigate(s)},n.view=function(s){n.props.onView(s)},n}return re(r,[{key:"render",value:function(){var i=this.props,o=i.localizer.messages,a=i.label;return b.createElement("div",{className:"rbc-toolbar"},b.createElement("span",{className:"rbc-btn-group"},b.createElement("button",{type:"button",onClick:this.navigate.bind(null,fe.TODAY)},o.today),b.createElement("button",{type:"button",onClick:this.navigate.bind(null,fe.PREVIOUS)},o.previous),b.createElement("button",{type:"button",onClick:this.navigate.bind(null,fe.NEXT)},o.next)),b.createElement("span",{className:"rbc-toolbar-label"},a),b.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(i){var o=this,a=this.props.views,s=this.props.view;if(a.length>1)return a.map(function(c){return b.createElement("button",{type:"button",key:c,className:ee({"rbc-active":s===c}),onClick:o.view.bind(null,c)},i[c])})}}]),r}(b.Component);function rg(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&_n(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Fe=function(t){return function(r){return rg(r,t)}},ng=["view","date","getNow","onNavigate"],ig=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function pa(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var i=Me(n[r],2),o=i[0],a=i[1];a&&t.push(o)}return t}function og(e,t){var r=t.views,n=pa(r);return n.indexOf(e)!==-1}var va=function(e){ae(r,e);var t=ce(r);function r(){var n;te(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),n.getViews=function(){var s=n.props.views;return Array.isArray(s)?Bv(s,function(c,l){return c[l]=hr[l]},{}):_n(s)==="object"?zv(s,function(c,l){return c===!0?hr[l]:c}):hr},n.getView=function(){var s=n.getViews();return s[n.props.view]},n.getDrilldownView=function(s){var c=n.props,l=c.view,u=c.drilldownView,f=c.getDrilldownView;return f?f(s,l,Object.keys(n.getViews())):u},n.handleRangeChange=function(s,c,l){var u=n.props,f=u.onRangeChange,d=u.localizer;f&&c.range&&f(c.range(s,{localizer:d}),l)},n.handleNavigate=function(s,c){var l=n.props,u=l.view,f=l.date,d=l.getNow,p=l.onNavigate,v=Te(l,ng),h=n.getView(),m=d();f=eg(h,Y(Y({},v),{},{action:s,date:c||f||m,today:m})),p(f,u,s),n.handleRangeChange(f,h)},n.handleViewChange=function(s){s!==n.props.view&&og(s,n.props)&&n.props.onView(s);var c=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),c[s],s)},n.handleSelectEvent=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];X(n.props.onKeyPressEvent,c)},n.handleSelectSlot=function(s){X(n.props.onSelectSlot,s)},n.handleDrillDown=function(s,c){var l=n.props.onDrillDown;if(l){l(s,c,n.drilldownView);return}c&&n.handleViewChange(c),n.handleNavigate(fe.DATE,s)},n.state={context:r.getContext(n.props)},n}return re(r,[{key:"render",value:function(){var i=this.props,o=i.view,a=i.toolbar,s=i.events,c=i.backgroundEvents,l=i.style,u=i.className,f=i.elementProps,d=i.date,p=i.getNow,v=i.length,h=i.showMultiDayTimes,m=i.onShowMore,g=i.doShowMoreDrillDown;i.components,i.formats,i.messages,i.culture;var y=Te(i,ig);d=d||p();var E=this.getView(),w=this.state.context,S=w.accessors,D=w.components,A=w.getters,O=w.localizer,T=w.viewNames,x=D.toolbar||tg,R=E.title(d,{localizer:O,length:v});return b.createElement("div",Object.assign({},f,{className:ee(u,"rbc-calendar",y.rtl&&"rbc-rtl"),style:l}),a&&b.createElement(x,{date:d,view:o,views:T,label:R,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),b.createElement(E,Object.assign({},y,{events:s,backgroundEvents:c,date:d,getNow:p,length:v,localizer:O,getters:A,components:D,accessors:S,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:m,doShowMoreDrillDown:g})))}}],[{key:"getDerivedStateFromProps",value:function(i){return{context:r.getContext(i)}}},{key:"getContext",value:function(i){var o=i.startAccessor,a=i.endAccessor,s=i.allDayAccessor,c=i.tooltipAccessor,l=i.titleAccessor,u=i.resourceAccessor,f=i.resourceIdAccessor,d=i.resourceTitleAccessor,p=i.eventPropGetter,v=i.backgroundEventPropGetter,h=i.slotPropGetter,m=i.slotGroupPropGetter,g=i.dayPropGetter,y=i.view,E=i.views,w=i.localizer,S=i.culture,D=i.messages,A=D===void 0?{}:D,O=i.components,T=O===void 0?{}:O,x=i.formats,R=x===void 0?{}:x,_=pa(E),N=um(A);return{viewNames:_,localizer:cm(w,S,R,N),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return h&&h.apply(void 0,arguments)||{}},slotGroupProp:function(){return m&&m.apply(void 0,arguments)||{}},dayProp:function(){return g&&g.apply(void 0,arguments)||{}}},components:Iv(T[y]||{},Nv(T,_),{eventWrapper:Ce,backgroundEventWrapper:Ce,eventContainerWrapper:Ce,dateCellWrapper:Ce,weekWrapper:Ce,timeSlotWrapper:Ce,timeGutterWrapper:Ce}),accessors:{start:Fe(o),end:Fe(a),allDay:Fe(s),tooltip:Fe(c),title:Fe(l),resource:Fe(u),resourceId:Fe(f),resourceTitle:Fe(d)}}}}]),r}(b.Component);va.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:se.MONTH,views:[se.MONTH,se.WEEK,se.DAY,se.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:se.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var sg=Zo(va,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),ag=function(t,r,n){var i=t.start,o=t.end;return n.format(i,"MMMM DD",r)+" – "+n.format(o,n.eq(i,o,"month")?"DD":"MMMM DD",r)},cg=function(t,r,n){var i=t.start,o=t.end;return n.format(i,"L",r)+" – "+n.format(o,"L",r)},nn=function(t,r,n){var i=t.start,o=t.end;return n.format(i,"LT",r)+" – "+n.format(o,"LT",r)},lg=function(t,r,n){var i=t.start;return n.format(i,"LT",r)+" – "},ug=function(t,r,n){var i=t.end;return" – "+n.format(i,"LT",r)},fg={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:nn,eventTimeRangeFormat:nn,eventTimeRangeStartFormat:lg,eventTimeRangeEndFormat:ug,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:ag,agendaHeaderFormat:cg,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:nn};function Ie(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function dg(e){var t=function(P,$){return $?P.locale($):P};function r(C){return e(C).toDate().getTimezoneOffset()}function n(C,P){var $,L,F=e(C).local(),z=e(P).local();if(!e.tz)return F.toDate().getTimezoneOffset()-z.toDate().getTimezoneOffset();var q=($=F==null||(L=F._z)===null||L===void 0?void 0:L.name)!==null&&$!==void 0?$:e.tz.guess(),G=e.tz.zone(q).utcOffset(+F),oe=e.tz.zone(q).utcOffset(+z);return G-oe}function i(C){var P=e(C).startOf("day");return n(P,C)}function o(C,P,$){var L=Ie($),F=L?e(C).startOf(L):e(C),z=L?e(P).startOf(L):e(P);return[F,z,L]}function a(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,P=arguments.length>1?arguments[1]:void 0,$=Ie(P);return $?e(C).startOf($).toDate():e(C).toDate()}function s(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,P=arguments.length>1?arguments[1]:void 0,$=Ie(P);return $?e(C).endOf($).toDate():e(C).toDate()}function c(C,P,$){var L=o(C,P,$),F=Me(L,3),z=F[0],q=F[1],G=F[2];return z.isSame(q,G)}function l(C,P,$){return!c(C,P,$)}function u(C,P,$){var L=o(C,P,$),F=Me(L,3),z=F[0],q=F[1],G=F[2];return z.isAfter(q,G)}function f(C,P,$){var L=o(C,P,$),F=Me(L,3),z=F[0],q=F[1],G=F[2];return z.isBefore(q,G)}function d(C,P,$){var L=o(C,P,$),F=Me(L,3),z=F[0],q=F[1],G=F[2];return z.isSameOrBefore(q,G)}function p(C,P,$){var L=o(C,P,$),F=Me(L,3),z=F[0],q=F[1],G=F[2];return z.isSameOrBefore(q,G)}function v(C,P,$){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",F=Ie(L),z=e(C),q=e(P),G=e($);return z.isBetween(q,G,F,"[]")}function h(C,P){var $=e(C),L=e(P),F=e.min($,L);return F.toDate()}function m(C,P){var $=e(C),L=e(P),F=e.max($,L);return F.toDate()}function g(C,P){if(!C&&!P)return null;var $=e(P).format("HH:mm:ss"),L=e(C).startOf("day").format("MM/DD/YYYY");return e("".concat(L," ").concat($),"MM/DD/YYYY HH:mm:ss").toDate()}function y(C,P,$){var L=Ie($);return e(C).add(P,L).toDate()}function E(C,P){for(var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",L=Ie($),F=e(C).toDate(),z=[];p(F,P);)z.push(F),F=y(F,1,L);return z}function w(C,P){var $=Ie(P),L=a(C,$);return c(L,C)?L:y(L,1,$)}function S(C,P){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",L=Ie($),F=e(C),z=e(P);return z.diff(F,L)}function D(C){var P=e(C);return P.minutes()}function A(C){var P=C?e.localeData(C):e.localeData();return P?P.firstDayOfWeek():0}function O(C){return e(C).startOf("month").startOf("week").toDate()}function T(C){return e(C).endOf("month").endOf("week").toDate()}function x(C){for(var P=O(C),$=T(C),L=[];p(P,$);)L.push(P),P=y(P,1,"d");return L}function R(C,P,$){return e(C).startOf("day").minute(P+$).toDate()}function _(C,P){return S(C,P,"minutes")}function N(C){var P=e(C).startOf("day"),$=e(C);return $.diff(P,"minutes")+i(C)}function B(C,P){var $=e(C),L=e(P);return $.isBefore(L,"day")}function H(C,P,$){var L=e(P),F=e($);return L.isSameOrAfter(F,"minutes")}function W(C){var P=C.evtA,$=P.start,L=P.end,F=P.allDay,z=C.evtB,q=z.start,G=z.end,oe=z.allDay,Le=+a($,"day")-+a(q,"day"),bt=S($,w(L,"day"),"day"),Ye=S(q,w(G,"day"),"day");return Le||Math.max(Ye,1)-Math.max(bt,1)||!!oe-!!F||+$-+q||+L-+G}function U(C){var P=C.event,$=P.start,L=P.end,F=C.range,z=F.start,q=F.end,G=e($).startOf("day"),oe=e(L),Le=e(z),bt=e(q),Ye=G.isSameOrBefore(bt,"day"),Vr=!G.isSame(oe,"minutes"),Qt=Vr?oe.isAfter(Le,"minutes"):oe.isSameOrAfter(Le,"minutes");return Ye&&Qt}function J(C,P){var $=e(C),L=e(P);return $.isSame(L,"day")}function ie(){var C=new Date,P=/-/.test(C.toString())?"-":"",$=C.getTimezoneOffset(),L=Number("".concat(P).concat(Math.abs($))),F=e().utcOffset();return F>L?1:0}return new am({formats:fg,firstOfWeek:A,firstVisibleDay:O,lastVisibleDay:T,visibleDays:x,format:function(P,$,L){return t(e(P),L).format($)},lt:f,lte:p,gt:u,gte:d,eq:c,neq:l,merge:g,inRange:v,startOf:a,endOf:s,range:E,add:y,diff:S,ceil:w,min:h,max:m,minutes:D,getSlotDate:R,getTimezoneOffset:r,getDstOffset:n,getTotalMin:_,getMinutesFromMidnight:N,continuesPrior:B,continuesAfter:H,sortEvents:W,inEventRange:U,isSameDate:J,browserTZOffset:ie})}lt.updateLocale("pt-br",{longDateFormat:{LT:"HH:mm ",LTS:"HH:mm:ss",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM D, YYYY HH:mm"}});const hg=dg(lt),pg=b.memo(({event:e,onEventClick:t})=>I.jsx(Wa,{title:I.jsx(vg,{appointment:e,onConfirm:()=>t(e)}),placement:"top",children:I.jsx("span",{children:e.title})})),vg=b.memo(({appointment:e,onConfirm:t})=>I.jsxs("div",{className:"custom-tooltip",children:[I.jsx("p",{children:e.nome}),I.jsx(Re,{type:"primary",onClick:()=>t(),children:"Confirmar/Reagendar"}),I.jsx(ka,{to:`/client-details/${e.id}`,children:I.jsx(Re,{type:"primary",children:"Sobre o Paciente"})})]})),mg=({events:e,onEventClick:t})=>{const[r,n]=k.useState(window.innerWidth<768),[i,o]=k.useState({isVisible:!1,start:null,end:null}),[a,s]=k.useState(r?"day":"work_week"),[c,l]=k.useState(!1),u=k.useCallback(()=>s("work_week"),[]),f=k.useCallback(()=>s("week"),[]),d=k.useCallback(()=>s("day"),[]),[p,v]=k.useState({min:7,max:22}),[h,m]=k.useState(60),g=k.useCallback(()=>v({min:0,max:23}),[]),y=k.useCallback(()=>v({min:7,max:22}),[]),E=k.useCallback(T=>{t(T)},[t]),w=new Date;w.setHours(p.min,0,0);const S=new Date;S.setHours(p.max,0,0);const D=(T,x,R,_)=>{let N="#FFD700	";return T.status===2?N="#ef4d27		":T.status===1&&(N="#34ab6e	"),{style:{backgroundColor:N,borderRadius:"6px",opacity:.8,color:"black",border:"0px",display:"block"}}},A=({label:T})=>{const x=T.split(" ");if(x.length>1){const _=x[1];x[1]=_.charAt(0).toUpperCase()+_.slice(1)}const R=x.join(" ");return I.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",color:"#666666"},children:R})},O=k.useCallback(({start:T,end:x})=>{o({isVisible:!0,start:T,end:x}),l(T,x)},[]);return k.useEffect(()=>{const T=()=>{const x=window.innerWidth<768;n(x),x&&s("day")};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),I.jsxs("div",{style:{height:1300},children:[I.jsx("div",{className:"calendar-controls",children:r?I.jsx(Re,{type:a==="day"?"primary":"default",onClick:()=>s("day"),children:"Dias"}):I.jsxs(I.Fragment,{children:[I.jsx(Re,{type:a==="work_week"?"primary":"default",onClick:u,children:"Dias Úteis"}),I.jsx(Re,{type:a==="week"?"primary":"default",onClick:f,children:"Semana Inteira"}),I.jsx(Re,{type:a==="day"?"primary":"default",onClick:d,children:"Dia Atual"})]})}),I.jsxs("div",{className:"calendar-controls",children:[I.jsx(Re,{type:p.min===7&&p.max===22?"primary":"default",onClick:y,children:"Das 07:00 às 20:00"}),I.jsx(Re,{type:p.min===0&&p.max===23?"primary":"default",onClick:g,children:"Dia Inteiro"})]}),I.jsxs("div",{className:"calendar-controls",children:[I.jsxs(Re,{type:"primary",onClick:()=>o({isVisible:!0,start:null,end:null}),children:[I.jsx(ja,{})," Novo Agendamento"]}),I.jsx(Ba,{isModalAgendaVisible:i.isVisible,handleCancel:()=>o({...i,isVisible:!1}),start:i.start,end:i.end})]}),I.jsxs("div",{className:"calendar-controls",children:[I.jsx("p",{children:"Selecione o tempo de cada Agendamento !"}),I.jsxs(Je,{defaultValue:60,style:{width:120},onChange:T=>m(T),children:[I.jsx(Je.Option,{value:15,children:"15 Minutos"}),I.jsx(Je.Option,{value:30,children:"30 Minutos"}),I.jsx(Je.Option,{value:60,children:"1 Hora"}),I.jsx(Je.Option,{value:120,children:"2 Horas"})]})]}),I.jsx(sg,{localizer:hg,events:e,step:h,onSelectEvent:E,startAccessor:"start",endAccessor:"end",eventPropGetter:D,defaultDate:lt().toDate(),view:a,onSelectSlot:O,selectable:!0,views:r?["day"]:["day","work_week","week"],components:{header:A,event:({event:T})=>I.jsx(pg,{event:T,onEventClick:t}),day:{header:A}},min:w,max:S,timeslots:1,timeGutterFormat:{format:"HH:mm"},messages:{next:"Próximo",previous:"Anterior",today:"Hoje",month:"Mês",week:"Semana",work_week:"Semana de Trabalho",day:"Dia",agenda:"Agenda",date:"Data",time:"Hora",event:"Evento"}})]})},xe=Object.create(null);xe.open="0";xe.close="1";xe.ping="2";xe.pong="3";xe.message="4";xe.upgrade="5";xe.noop="6";const pr=Object.create(null);Object.keys(xe).forEach(e=>{pr[xe[e]]=e});const En={type:"error",data:"parser error"},ma=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ga=typeof ArrayBuffer=="function",ya=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ui=({type:e,data:t},r,n)=>ma&&t instanceof Blob?r?n(t):Lo(t,n):ga&&(t instanceof ArrayBuffer||ya(t))?r?n(t):Lo(new Blob([t]),n):n(xe[e]+(t||"")),Lo=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Fo(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let on;function gg(e,t){if(ma&&e.data instanceof Blob)return e.data.arrayBuffer().then(Fo).then(t);if(ga&&(e.data instanceof ArrayBuffer||ya(e.data)))return t(Fo(e.data));ui(e,!1,r=>{on||(on=new TextEncoder),t(on.encode(r))})}const Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Io.length;e++)Tt[Io.charCodeAt(e)]=e;const yg=e=>{let t=e.length*.75,r=e.length,n,i=0,o,a,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),u=new Uint8Array(l);for(n=0;n<r;n+=4)o=Tt[e.charCodeAt(n)],a=Tt[e.charCodeAt(n+1)],s=Tt[e.charCodeAt(n+2)],c=Tt[e.charCodeAt(n+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l},wg=typeof ArrayBuffer=="function",fi=(e,t)=>{if(typeof e!="string")return{type:"message",data:wa(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:bg(e.substring(1),t)}:pr[r]?e.length>1?{type:pr[r],data:e.substring(1)}:{type:pr[r]}:En},bg=(e,t)=>{if(wg){const r=yg(e);return wa(r,t)}else return{base64:!0,data:e}},wa=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ba="",Eg=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((o,a)=>{ui(o,!1,s=>{n[a]=s,++i===r&&t(n.join(ba))})})},Sg=(e,t)=>{const r=e.split(ba),n=[];for(let i=0;i<r.length;i++){const o=fi(r[i],t);if(n.push(o),o.type==="error")break}return n};function Dg(){return new TransformStream({transform(e,t){gg(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let sn;function or(e){return e.reduce((t,r)=>t+r.length,0)}function sr(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Og(e,t){sn||(sn=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(r.push(a);;){if(n===0){if(or(r)<1)break;const c=sr(r,1);o=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(or(r)<2)break;const c=sr(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(or(r)<8)break;const c=sr(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(En);break}i=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(or(r)<i)break;const c=sr(r,i);s.enqueue(fi(o?c:sn.decode(c),t)),n=0}if(i===0||i>e){s.enqueue(En);break}}}})}const Ea=4;function Q(e){if(e)return Tg(e)}function Tg(e){for(var t in Q.prototype)e[t]=Q.prototype[t];return e}Q.prototype.on=Q.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Q.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Q.prototype.off=Q.prototype.removeListener=Q.prototype.removeAllListeners=Q.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Q.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Q.prototype.emitReserved=Q.prototype.emit;Q.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Q.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ve=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Sa(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Ag=ve.setTimeout,xg=ve.clearTimeout;function qr(e,t){t.useNativeTimers?(e.setTimeoutFn=Ag.bind(ve),e.clearTimeoutFn=xg.bind(ve)):(e.setTimeoutFn=ve.setTimeout.bind(ve),e.clearTimeoutFn=ve.clearTimeout.bind(ve))}const _g=1.33;function Rg(e){return typeof e=="string"?Cg(e):Math.ceil((e.byteLength||e.size)*_g)}function Cg(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function Mg(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Pg(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class $g extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class di extends Q{constructor(t){super(),this.writable=!1,qr(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,r,n){return super.emitReserved("error",new $g(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=fi(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Mg(t);return r.length?"?"+r:""}}const Da="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Sn=64,kg={};let Bo=0,ar=0,zo;function Wo(e){let t="";do t=Da[e%Sn]+t,e=Math.floor(e/Sn);while(e>0);return t}function Oa(){const e=Wo(+new Date);return e!==zo?(Bo=0,zo=e):e+"."+Wo(Bo++)}for(;ar<Sn;ar++)kg[Da[ar]]=ar;let Ta=!1;try{Ta=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ng=Ta;function Aa(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ng))return new XMLHttpRequest}catch{}if(!t)try{return new ve[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Lg(){}const Fg=function(){return new Aa({xdomain:!1}).responseType!=null}();class Ig extends di{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const r=t&&t.forceBase64;this.supportsBinary=Fg&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Sg(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Eg(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Oa()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Oe(this.uri(),t)}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Oe extends Q{constructor(t,r){super(),qr(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.data=r.data!==void 0?r.data:null,this.create()}create(){var t;const r=Sa(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new Aa(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Oe.requestsCount++,Oe.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Lg,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Oe.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Oe.requestsCount=0;Oe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jo);else if(typeof addEventListener=="function"){const e="onpagehide"in ve?"pagehide":"unload";addEventListener(e,jo,!1)}}function jo(){for(let e in Oe.requests)Oe.requests.hasOwnProperty(e)&&Oe.requests[e].abort()}const hi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),cr=ve.WebSocket||ve.MozWebSocket,Ho=!0,Bg="arraybuffer",Uo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zg extends di{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),r=this.opts.protocols,n=Uo?{}:Sa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ho&&!Uo?r?new cr(t,r):new cr(t):new cr(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;ui(n,this.supportsBinary,o=>{const a={};try{Ho&&this.ws.send(o)}catch{}i&&hi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Oa()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}check(){return!!cr}}class Wg extends di{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const r=Og(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=Dg();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:s,value:c})=>{s||(this.onPacket(c),o())}).catch(s=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this.writer.write(n).then(()=>{i&&hi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const jg={websocket:zg,webtransport:Wg,polling:Ig},Hg=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ug=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dn(e){if(e.length>2e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Hg.exec(e||""),o={},a=14;for(;a--;)o[Ug[a]]=i[a]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Yg(o,o.path),o.queryKey=qg(o,o.query),o}function Yg(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function qg(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}let xa=class ct extends Q{constructor(t,r={}){super(),this.binaryType=Bg,this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=Dn(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=Dn(r.host).host),qr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Pg(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Ea,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new jg[t](n)}open(){let t;if(this.opts.rememberUpgrade&&ct.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),n=!1;ct.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ct.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=r.name,this.emitReserved("upgradeError",d)}}))};function o(){n||(n=!0,u(),r.close(),r=null)}const a=f=>{const d=new Error("probe error: "+f);d.transport=r.name,o(),this.emitReserved("upgradeError",d)};function s(){a("transport closed")}function c(){a("socket closed")}function l(f){r&&f.name!==r.name&&o()}const u=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",s),this.off("close",c),this.off("upgrading",l)};r.once("open",i),r.once("error",a),r.once("close",s),this.once("close",c),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",ct.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Rg(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(t,r,n){return this.sendPacket("message",t,r,n),this}send(t,r,n){return this.sendPacket("message",t,r,n),this}sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){ct.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}};xa.protocol=Ea;function Vg(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Dn(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const Kg=typeof ArrayBuffer=="function",Gg=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,_a=Object.prototype.toString,Xg=typeof Blob=="function"||typeof Blob<"u"&&_a.call(Blob)==="[object BlobConstructor]",Jg=typeof File=="function"||typeof File<"u"&&_a.call(File)==="[object FileConstructor]";function pi(e){return Kg&&(e instanceof ArrayBuffer||Gg(e))||Xg&&e instanceof Blob||Jg&&e instanceof File}function vr(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(vr(e[r]))return!0;return!1}if(pi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return vr(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&vr(e[r]))return!0;return!1}function Zg(e){const t=[],r=e.data,n=e;return n.data=On(r,t),n.attachments=t.length,{packet:n,buffers:t}}function On(e,t){if(!e)return e;if(pi(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=On(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=On(e[n],t));return r}return e}function Qg(e,t){return e.data=Tn(e.data,t),delete e.attachments,e}function Tn(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Tn(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Tn(e[r],t));return e}const ey=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ty=5;var j;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(j||(j={}));class ry{constructor(t){this.replacer=t}encode(t){return(t.type===j.EVENT||t.type===j.ACK)&&vr(t)?this.encodeAsBinary({type:t.type===j.EVENT?j.BINARY_EVENT:j.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===j.BINARY_EVENT||t.type===j.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Zg(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Yo(e){return Object.prototype.toString.call(e)==="[object Object]"}class vi extends Q{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===j.BINARY_EVENT;n||r.type===j.BINARY_ACK?(r.type=n?j.EVENT:j.ACK,this.reconstructor=new ny(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(pi(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(j[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===j.BINARY_EVENT||n.type===j.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(o,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(o,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(vi.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case j.CONNECT:return Yo(r);case j.DISCONNECT:return r===void 0;case j.CONNECT_ERROR:return typeof r=="string"||Yo(r);case j.EVENT:case j.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&ey.indexOf(r[0])===-1);case j.ACK:case j.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ny{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Qg(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const iy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:vi,Encoder:ry,get PacketType(){return j},protocol:ty},Symbol.toStringTag,{value:"Module"}));function we(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const oy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ra extends Q{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[we(t,"open",this.onopen.bind(this)),we(t,"packet",this.onpacket.bind(this)),we(t,"error",this.onerror.bind(this)),we(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(oy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:j.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const a=this.ids++,s=r.pop();this._registerAckCallback(a,s),n.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(o),r.apply(this,[null,...a])}}emitWithAck(t,...r){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{r.push((a,s)=>n?a?o(a):i(s):i(a)),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:j.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case j.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case j.EVENT:case j.BINARY_EVENT:this.onevent(t);break;case j.ACK:case j.BINARY_ACK:this.onack(t);break;case j.DISCONNECT:this.ondisconnect();break;case j.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:j.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:j.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function wt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}wt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};wt.prototype.reset=function(){this.attempts=0};wt.prototype.setMin=function(e){this.ms=e};wt.prototype.setMax=function(e){this.max=e};wt.prototype.setJitter=function(e){this.jitter=e};class An extends Q{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,qr(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new wt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||iy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xa(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=we(r,"open",function(){n.onopen(),t&&t()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},a=we(r,"error",o);if(this._timeout!==!1){const s=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},s);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(we(t,"ping",this.onping.bind(this)),we(t,"data",this.ondata.bind(this)),we(t,"error",this.onerror.bind(this)),we(t,"close",this.onclose.bind(this)),we(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){hi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ra(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Dt={};function mr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Vg(e,t.path||"/socket.io"),n=r.source,i=r.id,o=r.path,a=Dt[i]&&o in Dt[i].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return s?c=new An(n,t):(Dt[i]||(Dt[i]=new An(n,t)),c=Dt[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(mr,{Manager:An,Socket:Ra,io:mr,connect:mr});const aw=()=>{const[e,t]=k.useState(!1),[r,n]=k.useState([]),[i,o]=k.useState(null),[a,s]=k.useState(!1),[c,l]=k.useState([]),[u,f]=k.useState(null),[d,p]=k.useState(!1),{authData:v,logout:h}=Na(),m=v.companyID,g=O=>{o(O),s(!0)},y=()=>{s(!1),o(null),D()};k.useEffect(()=>{const O=()=>{t(window.innerWidth<768)};return window.addEventListener("resize",O),O(),()=>window.removeEventListener("resize",O)},[]),k.useEffect(()=>{(async()=>{if(m&&v.authToken)try{const T=await Oi.get(`/professionals?company_id=${m}`,{headers:{Authorization:`Bearer ${v.authToken}`}});if(T.status!==200)throw new Error("Falha ao buscar dados dos profissionais");const R=Ti.AES.decrypt(T.data,"%A0533266q6td9g*"),_=JSON.parse(R.toString(Ti.enc.Utf8));if(l(_),_.length===1){const N=_[0].id;f(N)}}catch(T){console.error("Error fetching professionals:",T),T.response&&T.response.status===401&&h()}else console.error("Company ID or auth token not found in local storage")})()},[m,v.authToken,h]);const E=async O=>{if(!O){Ai.error("Por favor, selecione um profissional primeiro.");return}p(!0);try{const x=(await Oi.get("/todos-agendamentos-hard",{params:{professional_id:O}})).data.map(R=>{const _=lt(R.data+" "+R.horario,"DD/MM/YYYY HH:mm").toDate(),N=R.end_time?lt(R.data+" "+R.end_time,"DD/MM/YYYY HH:mm").toDate():lt(_).add(1,"hours").toDate();return{title:`${R.nome}`,start:_,end:N,allDay:!1,nome:R.nome,celular:R.celular,data:R.data,horario:R.horario,planodental:R.planodental,id:R.id,status:R.status}});n(x),p(!1)}catch(T){console.error("Erro ao buscar agendamentos",T),Ai.error("Erro ao buscar agendamentos"),p(!1)}},w=(O,T,x,R)=>{let _="#FFD700	";return O.status===2?_="#ef4d27	":O.status===1&&(_="#34ab6e	"),{style:{backgroundColor:_,borderRadius:"0px",opacity:.8,fontSize:"1px",color:"black",border:"5px",display:"block"}}};k.useEffect(()=>{u&&E(u)},[u]);const S=O=>{f(O),E(O)},D=()=>{u?E(u):console.error("Nenhum profissional selecionado ao tentar atualizar agendamentos.")},A=k.useRef(u);return A.current=u,k.useEffect(()=>{const O=mr("wss://marquei.com.br",{path:"/socket.io",transports:["websocket"],secure:!0});return O.on("connect",()=>{O.emit("join","calendar")}),O.on("connect_error",T=>{console.error("Connection Error:",T)}),O.on("newAppointment",T=>{u&&E(A.current)}),()=>{O.disconnect()}},[u]),k.useEffect(()=>{A.current=u},[u]),k.useEffect(()=>{u&&E(u)},[u]),I.jsxs("div",{className:"calendario",children:[e&&I.jsx("div",{className:"mobileAlert",children:"Tenha acesso a mais recursos utilizando a versão para computador 🖥️"}),I.jsxs("h1",{children:["Visualização por Calendário ",I.jsx(Ha,{})]}),I.jsxs("div",{className:"status-indicators",children:[I.jsxs("div",{className:"indicator",children:[I.jsx("div",{className:"square yellow"}),I.jsx("span",{children:"A confirmar"})]}),I.jsxs("div",{className:"indicator",children:[I.jsx("div",{className:"square red"}),I.jsx("span",{children:"Cancelado"})]}),I.jsxs("div",{className:"indicator",children:[I.jsx("div",{className:"square green"}),I.jsx("span",{children:"Confirmado"})]})]}),I.jsx(Je,{showSearch:!0,style:{width:"200px"},placeholder:"Selecione um profissional",onChange:S,value:u,className:"calendario-profissional",children:c.map(O=>I.jsx(Je.Option,{value:O.id,children:O.nome},O.id))}),I.jsxs("p",{children:["Selecione como deseja ver o calendário ",I.jsx(Ua,{})]}),I.jsx(mg,{events:r,onEventClick:g,eventPropGetter:w}),I.jsx(za,{isModalVisible:a,handleCancel:()=>s(!1),currentAppointment:i,updateAppointments:D,handleClose:y})]})};export{aw as default};
