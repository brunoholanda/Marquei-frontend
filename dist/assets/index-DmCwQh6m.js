import{r as a}from"./index-BjWOWftK.js";import{C as A,d as k}from"./render-Dc9fgLFB.js";import{K as O,g as W,m as U,r as X,C as R,S as K,u as V,N as Q,aa as B}from"./useSize-xGuuOV2H.js";import{C as Y,E as q}from"./ExclamationCircleFilled-BXHKs-a4.js";import{C as J}from"./KeyCode-iNboPXT1.js";import{I as Z}from"./InfoCircleFilled-CN7YLSSN.js";import{c as I}from"./AntdIcon-CQBeZWiu.js";import{N as tt,u as et,a as nt}from"./useNotification-C_uzqUJr.js";const ot=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:o}=t,i=`${e}-notice`,s=new O("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),d=new O("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),c=new O("antNotificationBottomFadeIn",{"0%":{bottom:-o,opacity:0},"100%":{bottom:0,opacity:1}}),r=new O("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[i]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:d}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:c}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:s}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[i]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:r}}}}},it=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],at={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},rt=(t,e)=>{const{componentCls:n}=t;return{[`${n}-${e}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[at[e]]:{value:0,_skip_check_:!0}}}}},ct=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},st=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},e)},lt=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:Object.assign({transition:`all ${t.motionDurationSlow}`,position:"absolute"},ct(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:Object.assign({},st(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,width:t.width,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:-t.margin,background:"transparent",pointerEvents:"auto"}}}},it.map(n=>rt(t,n)).reduce((n,o)=>Object.assign(Object.assign({},n),o),{}))},dt=t=>{const{iconCls:e,componentCls:n,boxShadow:o,fontSizeLG:i,notificationMarginBottom:s,borderRadiusLG:d,colorSuccess:c,colorInfo:r,colorWarning:f,colorError:u,colorTextHeading:l,notificationBg:m,notificationPadding:h,notificationMarginEdge:g,motionDurationMid:C,motionEaseInOut:$,fontSize:y,lineHeight:x,width:S,notificationIconSize:v,colorText:j}=t,p=`${n}-notice`,N=new O("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:s},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}}),M={position:"relative",width:S,maxWidth:`calc(100vw - ${g*2}px)`,marginBottom:s,marginInlineStart:"auto",background:m,borderRadius:d,boxShadow:o,[p]:{padding:h,overflow:"hidden",lineHeight:x,wordWrap:"break-word"},[`${n}-close-icon`]:{fontSize:y,cursor:"pointer"},[`${p}-message`]:{marginBottom:t.marginXS,color:l,fontSize:i,lineHeight:t.lineHeightLG},[`${p}-description`]:{fontSize:y,color:j},[`&${p}-closable ${p}-message`]:{paddingInlineEnd:t.paddingLG},[`${p}-with-icon ${p}-message`]:{marginBottom:t.marginXS,marginInlineStart:t.marginSM+v,fontSize:i},[`${p}-with-icon ${p}-description`]:{marginInlineStart:t.marginSM+v,fontSize:y},[`${p}-icon`]:{position:"absolute",fontSize:v,lineHeight:0,[`&-success${e}`]:{color:c},[`&-info${e}`]:{color:r},[`&-warning${e}`]:{color:f},[`&-error${e}`]:{color:u}},[`${p}-close`]:{position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:t.colorIconHover,backgroundColor:t.wireframe?"transparent":t.colorFillContent}},[`${p}-btn`]:{float:"right",marginTop:t.marginSM}};return[{[n]:Object.assign(Object.assign({},X(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:g,_skip_check_:!0},[`${n}-hook-holder`]:{position:"relative"},[`${n}-fade-appear-prepare`]:{opacity:"0 !important"},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:$,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:$,animationFillMode:"both",animationDuration:C,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:N,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${p}-btn`]:{float:"left"}}})},{[n]:{[`${p}-wrapper`]:Object.assign({},M)}},{[`${p}-pure-panel`]:Object.assign(Object.assign({},M),{margin:0})}]},z=W("Notification",t=>{const e=t.paddingMD,n=t.paddingLG,o=U(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.fontSizeLG*t.lineHeightLG,notificationCloseButtonSize:t.controlHeightLG*.55,notificationMarginBottom:t.margin,notificationPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3});return[dt(o),ot(o),lt(o)]},t=>({zIndexPopup:t.zIndexPopupBase+50,width:384}));var ft=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n};function L(t,e){return e===null||e===!1?null:e||a.createElement("span",{className:`${t}-close-x`},a.createElement(J,{className:`${t}-close-icon`}))}const pt={success:Y,info:Z,error:A,warning:q},T=t=>{const{prefixCls:e,icon:n,type:o,message:i,description:s,btn:d,role:c="alert"}=t;let r=null;return n?r=a.createElement("span",{className:`${e}-icon`},n):o&&(r=a.createElement(pt[o]||null,{className:I(`${e}-icon`,`${e}-icon-${o}`)})),a.createElement("div",{className:I({[`${e}-with-icon`]:r}),role:c},r,a.createElement("div",{className:`${e}-message`},i),a.createElement("div",{className:`${e}-description`},s),d&&a.createElement("div",{className:`${e}-btn`},d))},mt=t=>{const{prefixCls:e,className:n,icon:o,type:i,message:s,description:d,btn:c,closable:r=!0,closeIcon:f}=t,u=ft(t,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon"]),{getPrefixCls:l}=a.useContext(R),m=e||l("notification"),h=`${m}-notice`,[,g]=z(m);return a.createElement("div",{className:I(`${h}-pure-panel`,g,n)},a.createElement(tt,Object.assign({},u,{prefixCls:m,eventKey:"pure",duration:null,closable:r,closeIcon:L(m,f),content:a.createElement(T,{prefixCls:h,icon:o,type:i,message:s,description:d,btn:c})})))},gt=mt;function ut(t,e,n){let o;switch(t){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":o={left:0,top:e,bottom:"auto"};break;case"topRight":o={right:0,top:e,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n};break}return o}function bt(t){return{motionName:`${t}-fade`}}var ht=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n};const _=24,$t=4.5,yt="topRight",vt=t=>{let{children:e,prefixCls:n}=t;const[,o]=z(n);return a.createElement(nt,{classNames:{list:o,notice:o}},e)},Ct=(t,e)=>{let{prefixCls:n,key:o}=e;return a.createElement(vt,{prefixCls:n,key:o},t)},xt=a.forwardRef((t,e)=>{const{top:n,bottom:o,prefixCls:i,getContainer:s,maxCount:d,rtl:c,onAllRemoved:r,stack:f}=t,{getPrefixCls:u,getPopupContainer:l,notification:m}=a.useContext(R),[,h]=V(),g=i||u("notification"),C=v=>ut(v,n??_,o??_),$=()=>I({[`${g}-rtl`]:c}),y=()=>bt(g),[x,S]=et({prefixCls:g,style:C,className:$,motion:y,closable:!0,closeIcon:L(g),duration:$t,getContainer:()=>(s==null?void 0:s())||(l==null?void 0:l())||document.body,maxCount:d,onAllRemoved:r,renderNotifications:Ct,stack:f===!1?!1:{threshold:typeof f=="object"?f==null?void 0:f.threshold:void 0,offset:8,gap:h.margin}});return a.useImperativeHandle(e,()=>Object.assign(Object.assign({},x),{prefixCls:g,notification:m})),S});function D(t){const e=a.useRef(null);return K(),[a.useMemo(()=>{const o=c=>{var r;if(!e.current)return;const{open:f,prefixCls:u,notification:l}=e.current,m=`${u}-notice`,{message:h,description:g,icon:C,type:$,btn:y,className:x,style:S,role:v="alert",closeIcon:j}=c,p=ht(c,["message","description","icon","type","btn","className","style","role","closeIcon"]),N=L(m,j);return f(Object.assign(Object.assign({placement:(r=t==null?void 0:t.placement)!==null&&r!==void 0?r:yt},p),{content:a.createElement(T,{prefixCls:m,icon:C,type:$,message:h,description:g,btn:y,role:v}),className:I($&&`${m}-${$}`,x,l==null?void 0:l.className),style:Object.assign(Object.assign({},l==null?void 0:l.style),S),closeIcon:N,closable:!!N}))},s={open:o,destroy:c=>{var r,f;c!==void 0?(r=e.current)===null||r===void 0||r.close(c):(f=e.current)===null||f===void 0||f.destroy()}};return["success","info","warning","error"].forEach(c=>{s[c]=r=>o(Object.assign(Object.assign({},r),{type:c}))}),s},[]),a.createElement(xt,Object.assign({key:"notification-holder"},t,{ref:e}))]}function St(t){return D(t)}let b=null,P=t=>t(),w=[],E={};function H(){const{prefixCls:t,getContainer:e,rtl:n,maxCount:o,top:i,bottom:s}=E,d=t??B().getPrefixCls("notification"),c=(e==null?void 0:e())||document.body;return{prefixCls:d,getContainer:()=>c,rtl:n,maxCount:o,top:i,bottom:s}}const Ot=a.forwardRef((t,e)=>{const[n,o]=a.useState(H),[i,s]=D(n),d=B(),c=d.getRootPrefixCls(),r=d.getIconPrefixCls(),f=d.getTheme(),u=()=>{o(H)};return a.useEffect(u,[]),a.useImperativeHandle(e,()=>{const l=Object.assign({},i);return Object.keys(l).forEach(m=>{l[m]=function(){return u(),i[m].apply(i,arguments)}}),{instance:l,sync:u}}),a.createElement(Q,{prefixCls:c,iconPrefixCls:r,theme:f},s)});function F(){if(!b){const t=document.createDocumentFragment(),e={fragment:t};b=e,P(()=>{k(a.createElement(Ot,{ref:n=>{const{instance:o,sync:i}=n||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=i,F())})}}),t)});return}b.instance&&(w.forEach(t=>{switch(t.type){case"open":{P(()=>{b.instance.open(Object.assign(Object.assign({},E),t.config))});break}case"destroy":P(()=>{b==null||b.instance.destroy(t.key)});break}}),w=[])}function It(t){E=Object.assign(Object.assign({},E),t),P(()=>{var e;(e=b==null?void 0:b.sync)===null||e===void 0||e.call(b)})}function G(t){w.push({type:"open",config:t}),F()}function Nt(t){w.push({type:"destroy",key:t}),F()}const Pt=["success","info","warning","error"],wt={open:G,destroy:Nt,config:It,useNotification:St,_InternalPanelDoNotUseOrYouWillBeFired:gt},Et=wt;Pt.forEach(t=>{Et[t]=e=>G(Object.assign(Object.assign({},e),{type:t}))});export{Et as s};
