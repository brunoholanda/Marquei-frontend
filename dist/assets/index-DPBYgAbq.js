import{r as E,R as m}from"./index-kPzU05gx.js";var w={};Object.defineProperty(w,"__esModule",{value:!0});var y=w.loadMercadoPago=void 0;const _="https://sdk.mercadopago.com/js/v2",v=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,h="MercadoPago has already been initialized in your window, please remove the duplicate import",M="MercadoPago.js not available",b="Failed to load MercadoPago.js",x=()=>{for(var t=document.querySelectorAll(`script[src^="${_}"`),e=0;e<t.length;e++){var n=t[e];if(v.test(n.src))return n}return null},I=()=>{const t=document.createElement("script");t.src=_;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(t),t};let p=null;const O=()=>(p!==null||(p=new Promise((t,e)=>{if(typeof window>"u"){t(null);return}if(window.MercadoPago){console.warn(h),t(window.MercadoPago);return}try{let n=x();n?console.warn(h):n||(n=I()),n.addEventListener("load",()=>{window.MercadoPago?t(window.MercadoPago):e(new Error(M))}),n.addEventListener("error",()=>{e(new Error(b))})}catch(n){e(n);return}})),p);y=w.loadMercadoPago=O;var S=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function s(i){try{r(o.next(i))}catch(u){d(u)}}function l(i){try{r(o.throw(i))}catch(u){d(u)}}function r(i){i.done?c(i.value):a(i.value).then(s,l)}r((o=o.apply(t,e||[])).next())})};class f{static getInstance(){return S(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield y(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}f.publicKey=null;f.options={};f.instanceMercadoPago=void 0;f.loadedInstanceMercadoPago=!1;function k(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(o=>Object.prototype.hasOwnProperty.call(e,o)&&t[o]===e[o])}const L=(t,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"});f.publicKey=t!==f.publicKey?t:f.publicKey,f.options=k(f.options,n)?f.options:n},j=200;var A=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function s(i){try{r(o.next(i))}catch(u){d(u)}}function l(i){try{r(o.throw(i))}catch(u){d(u)}}function r(i){i.done?c(i.value):a(i.value).then(s,l)}r((o=o.apply(t,e||[])).next())})};const R=()=>A(void 0,void 0,void 0,function*(){}),D=()=>{},P=t=>{console.error(t)};var T=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function s(i){try{r(o.next(i))}catch(u){d(u)}}function l(i){try{r(o.throw(i))}catch(u){d(u)}}function r(i){i.done?c(i.value):a(i.value).then(s,l)}r((o=o.apply(t,e||[])).next())})};const B=({settings:t,name:e,divId:n,controller:o})=>T(void 0,void 0,void 0,function*(){const a=yield f.getInstance(),c=a==null?void 0:a.bricks();window[o]=yield c==null?void 0:c.create(e,n,t)}),G=({onReady:t=D,onError:e=P,onSubmit:n=R,customization:o,initialization:a,locale:c})=>(E.useEffect(()=>{let d;const s={settings:{initialization:a,customization:o,locale:c,callbacks:{onReady:t,onSubmit:n,onError:e}},name:"wallet",divId:"walletBrick_container",controller:"walletBrickController"};return d=setTimeout(()=>{B(s)},j),()=>{var l;clearTimeout(d),(l=window.walletBrickController)===null||l===void 0||l.unmount()}},[o,a,t,e,n]),m.createElement("div",{id:"walletBrick_container"}));export{G as W,L as i};
