import{r as m,R as d}from"./index-kPzU05gx.js";import{e as U,C as k,b as X}from"./render-CJmks47J.js";import{N as K,u as Q,a as Y,A as J}from"./context-Cq6TeAM8.js";import{K as N,g as Z,u as w,V as tt,r as et,m as ot,Y as nt,C as F,O as B,W as it,k as at,Q as rt,af as ct}from"./useSize-Dir-JjEK.js";import{C as st,E as lt}from"./ExclamationCircleFilled-C5haNHtp.js";import{C as dt}from"./KeyCode-Bp2GxRS5.js";import{I as ft}from"./InfoCircleFilled-aimHxtz3.js";import{c as x}from"./AntdIcon-rDAQJIgd.js";const pt=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:o}=t,i=`${e}-notice`,a=new N("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),l=new N("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),r=new N("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),c=new N("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[i]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:l}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:r}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:a}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[i]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:c}}}}},mt=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],ut={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},gt=(t,e)=>{const{componentCls:n}=t;return{[`${n}-${e}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[ut[e]]:{value:0,_skip_check_:!0}}}}},bt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},ht=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},e)},Ct=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:Object.assign({transition:`all ${t.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},bt(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:Object.assign({},ht(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},mt.map(n=>gt(t,n)).reduce((n,o)=>Object.assign(Object.assign({},n),o),{}))},z=t=>{const{iconCls:e,componentCls:n,boxShadow:o,fontSizeLG:i,notificationMarginBottom:a,borderRadiusLG:l,colorSuccess:r,colorInfo:c,colorWarning:s,colorError:g,colorTextHeading:p,notificationBg:h,notificationPadding:b,notificationMarginEdge:v,fontSize:$,lineHeight:u,width:S,notificationIconSize:y,colorText:O}=t,f=`${n}-notice`;return{position:"relative",marginBottom:a,marginInlineStart:"auto",background:h,borderRadius:l,boxShadow:o,[f]:{padding:b,width:S,maxWidth:`calc(100vw - ${w(t.calc(v).mul(2).equal())})`,overflow:"hidden",lineHeight:u,wordWrap:"break-word"},[`${f}-message`]:{marginBottom:t.marginXS,color:p,fontSize:i,lineHeight:t.lineHeightLG},[`${f}-description`]:{fontSize:$,color:O},[`${f}-closable ${f}-message`]:{paddingInlineEnd:t.paddingLG},[`${f}-with-icon ${f}-message`]:{marginBottom:t.marginXS,marginInlineStart:t.calc(t.marginSM).add(y).equal(),fontSize:i},[`${f}-with-icon ${f}-description`]:{marginInlineStart:t.calc(t.marginSM).add(y).equal(),fontSize:$},[`${f}-icon`]:{position:"absolute",fontSize:y,lineHeight:1,[`&-success${e}`]:{color:r},[`&-info${e}`]:{color:c},[`&-warning${e}`]:{color:s},[`&-error${e}`]:{color:g}},[`${f}-close`]:Object.assign({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},tt(t)),[`${f}-btn`]:{float:"right",marginTop:t.marginSM}}},$t=t=>{const{componentCls:e,notificationMarginBottom:n,notificationMarginEdge:o,motionDurationMid:i,motionEaseInOut:a}=t,l=`${e}-notice`,r=new N("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:Object.assign(Object.assign({},et(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${e}-hook-holder`]:{position:"relative"},[`${e}-fade-appear-prepare`]:{opacity:"0 !important"},[`${e}-fade-enter, ${e}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:a,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${e}-fade-leave`]:{animationTimingFunction:a,animationFillMode:"both",animationDuration:i,animationPlayState:"paused"},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationPlayState:"running"},[`${e}-fade-leave${e}-fade-leave-active`]:{animationName:r,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${l}-btn`]:{float:"left"}}})},{[e]:{[`${l}-wrapper`]:Object.assign({},z(t))}}]},D=t=>({zIndexPopup:t.zIndexPopupBase+U+50,width:384}),G=t=>{const e=t.paddingMD,n=t.paddingLG;return ot(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:`${w(t.paddingMD)} ${w(t.paddingContentHorizontalLG)}`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3})},A=Z("Notification",t=>{const e=G(t);return[$t(e),pt(e),Ct(e)]},D),yt=nt(["Notification","PurePanel"],t=>{const e=`${t.componentCls}-notice`,n=G(t);return{[`${e}-pure-panel`]:Object.assign(Object.assign({},z(n)),{width:n.width,maxWidth:`calc(100vw - ${w(t.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},D);var vt=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n};function _(t,e){return e===null||e===!1?null:e||m.createElement(dt,{className:`${t}-close-icon`})}const St={success:st,info:ft,error:k,warning:lt},W=t=>{const{prefixCls:e,icon:n,type:o,message:i,description:a,btn:l,role:r="alert"}=t;let c=null;return n?c=m.createElement("span",{className:`${e}-icon`},n):o&&(c=m.createElement(St[o]||null,{className:x(`${e}-icon`,`${e}-icon-${o}`)})),m.createElement("div",{className:x({[`${e}-with-icon`]:c}),role:r},c,m.createElement("div",{className:`${e}-message`},i),m.createElement("div",{className:`${e}-description`},a),l&&m.createElement("div",{className:`${e}-btn`},l))},xt=t=>{const{prefixCls:e,className:n,icon:o,type:i,message:a,description:l,btn:r,closable:c=!0,closeIcon:s,className:g}=t,p=vt(t,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:h}=m.useContext(F),b=e||h("notification"),v=`${b}-notice`,$=B(b),[u,S,y]=A(b,$);return u(m.createElement("div",{className:x(`${v}-pure-panel`,S,n,y,$)},m.createElement(yt,{prefixCls:b}),m.createElement(K,Object.assign({},p,{prefixCls:b,eventKey:"pure",duration:null,closable:c,className:x({notificationClassName:g}),closeIcon:_(b,s),content:m.createElement(W,{prefixCls:v,icon:o,type:i,message:a,description:l,btn:r})}))))},Ot=xt;function Nt(t,e,n){let o;switch(t){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":o={left:0,top:e,bottom:"auto"};break;case"topRight":o={right:0,top:e,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n};break}return o}function It(t){return{motionName:`${t}-fade`}}var Pt=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n};const T=24,Et=4.5,wt="topRight",jt=t=>{let{children:e,prefixCls:n}=t;const o=B(n),[i,a,l]=A(n,o);return i(d.createElement(Y,{classNames:{list:x(a,l,o)}},e))},Mt=(t,e)=>{let{prefixCls:n,key:o}=e;return d.createElement(jt,{prefixCls:n,key:o},t)},Ft=d.forwardRef((t,e)=>{const{top:n,bottom:o,prefixCls:i,getContainer:a,maxCount:l,rtl:r,onAllRemoved:c,stack:s,duration:g}=t,{getPrefixCls:p,getPopupContainer:h,notification:b,direction:v}=m.useContext(F),[,$]=at(),u=i||p("notification"),S=M=>Nt(M,n??T,o??T),y=()=>x({[`${u}-rtl`]:r??v==="rtl"}),O=()=>It(u),[f,P]=Q({prefixCls:u,style:S,className:y,motion:O,closable:!0,closeIcon:_(u),duration:g??Et,getContainer:()=>(a==null?void 0:a())||(h==null?void 0:h())||document.body,maxCount:l,onAllRemoved:c,renderNotifications:Mt,stack:s===!1?!1:{threshold:typeof s=="object"?s==null?void 0:s.threshold:void 0,offset:8,gap:$.margin}});return d.useImperativeHandle(e,()=>Object.assign(Object.assign({},f),{prefixCls:u,notification:b})),P});function q(t){const e=d.useRef(null);return it(),[d.useMemo(()=>{const o=r=>{var c;if(!e.current)return;const{open:s,prefixCls:g,notification:p}=e.current,h=`${g}-notice`,{message:b,description:v,icon:$,type:u,btn:S,className:y,style:O,role:f="alert",closeIcon:P}=r,M=Pt(r,["message","description","icon","type","btn","className","style","role","closeIcon"]),R=_(h,typeof P<"u"?P:p==null?void 0:p.closeIcon);return s(Object.assign(Object.assign({placement:(c=t==null?void 0:t.placement)!==null&&c!==void 0?c:wt},M),{content:d.createElement(W,{prefixCls:h,icon:$,type:u,message:b,description:v,btn:S,role:f}),className:x(u&&`${h}-${u}`,y,p==null?void 0:p.className),style:Object.assign(Object.assign({},p==null?void 0:p.style),O),closeIcon:R,closable:!!R}))},a={open:o,destroy:r=>{var c,s;r!==void 0?(c=e.current)===null||c===void 0||c.close(r):(s=e.current)===null||s===void 0||s.destroy()}};return["success","info","warning","error"].forEach(r=>{a[r]=c=>o(Object.assign(Object.assign({},c),{type:r}))}),a},[]),d.createElement(Ft,Object.assign({key:"notification-holder"},t,{ref:e}))]}function _t(t){return q(t)}let C=null,E=t=>t(),j=[],I={};function H(){const{getContainer:t,rtl:e,maxCount:n,top:o,bottom:i}=I,a=(t==null?void 0:t())||document.body;return{getContainer:()=>a,rtl:e,maxCount:n,top:o,bottom:i}}const Lt=d.forwardRef((t,e)=>{const{notificationConfig:n,sync:o}=t,{getPrefixCls:i}=m.useContext(F),a=I.prefixCls||i("notification"),l=m.useContext(J),[r,c]=q(Object.assign(Object.assign(Object.assign({},n),{prefixCls:a}),l.notification));return d.useEffect(o,[]),d.useImperativeHandle(e,()=>{const s=Object.assign({},r);return Object.keys(s).forEach(g=>{s[g]=function(){return o(),r[g].apply(r,arguments)}}),{instance:s,sync:o}}),c}),Rt=d.forwardRef((t,e)=>{const[n,o]=d.useState(H),i=()=>{o(H)};d.useEffect(i,[]);const a=ct(),l=a.getRootPrefixCls(),r=a.getIconPrefixCls(),c=a.getTheme(),s=d.createElement(Lt,{ref:e,sync:i,notificationConfig:n});return d.createElement(rt,{prefixCls:l,iconPrefixCls:r,theme:c},a.holderRender?a.holderRender(s):s)});function L(){if(!C){const t=document.createDocumentFragment(),e={fragment:t};C=e,E(()=>{X(d.createElement(Rt,{ref:n=>{const{instance:o,sync:i}=n||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=i,L())})}}),t)});return}C.instance&&(j.forEach(t=>{switch(t.type){case"open":{E(()=>{C.instance.open(Object.assign(Object.assign({},I),t.config))});break}case"destroy":E(()=>{C==null||C.instance.destroy(t.key)});break}}),j=[])}function Tt(t){I=Object.assign(Object.assign({},I),t),E(()=>{var e;(e=C==null?void 0:C.sync)===null||e===void 0||e.call(C)})}function V(t){j.push({type:"open",config:t}),L()}function Ht(t){j.push({type:"destroy",key:t}),L()}const Bt=["success","info","warning","error"],zt={open:V,destroy:Ht,config:Tt,useNotification:_t,_InternalPanelDoNotUseOrYouWillBeFired:Ot},Dt=zt;Bt.forEach(t=>{Dt[t]=e=>V(Object.assign(Object.assign({},e),{type:t}))});export{Dt as s};
